(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();function Xl(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Uy={exports:{}},Yl={},zy={exports:{}},te={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var js=Symbol.for("react.element"),V1=Symbol.for("react.portal"),O1=Symbol.for("react.fragment"),L1=Symbol.for("react.strict_mode"),M1=Symbol.for("react.profiler"),b1=Symbol.for("react.provider"),j1=Symbol.for("react.context"),F1=Symbol.for("react.forward_ref"),B1=Symbol.for("react.suspense"),$1=Symbol.for("react.memo"),U1=Symbol.for("react.lazy"),fm=Symbol.iterator;function z1(t){return t===null||typeof t!="object"?null:(t=fm&&t[fm]||t["@@iterator"],typeof t=="function"?t:null)}var Hy={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Wy=Object.assign,Ky={};function to(t,e,n){this.props=t,this.context=e,this.refs=Ky,this.updater=n||Hy}to.prototype.isReactComponent={};to.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};to.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function qy(){}qy.prototype=to.prototype;function gd(t,e,n){this.props=t,this.context=e,this.refs=Ky,this.updater=n||Hy}var yd=gd.prototype=new qy;yd.constructor=gd;Wy(yd,to.prototype);yd.isPureReactComponent=!0;var pm=Array.isArray,Gy=Object.prototype.hasOwnProperty,vd={current:null},Qy={key:!0,ref:!0,__self:!0,__source:!0};function Xy(t,e,n){var r,i={},o=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(o=""+e.key),e)Gy.call(e,r)&&!Qy.hasOwnProperty(r)&&(i[r]=e[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];i.children=u}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:js,type:t,key:o,ref:s,props:i,_owner:vd.current}}function H1(t,e){return{$$typeof:js,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function _d(t){return typeof t=="object"&&t!==null&&t.$$typeof===js}function W1(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var mm=/\/+/g;function rc(t,e){return typeof t=="object"&&t!==null&&t.key!=null?W1(""+t.key):e.toString(36)}function Fa(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case js:case V1:s=!0}}if(s)return s=t,i=i(s),t=r===""?"."+rc(s,0):r,pm(i)?(n="",t!=null&&(n=t.replace(mm,"$&/")+"/"),Fa(i,e,n,"",function(c){return c})):i!=null&&(_d(i)&&(i=H1(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(mm,"$&/")+"/")+t)),e.push(i)),1;if(s=0,r=r===""?".":r+":",pm(t))for(var l=0;l<t.length;l++){o=t[l];var u=r+rc(o,l);s+=Fa(o,e,n,u,i)}else if(u=z1(t),typeof u=="function")for(t=u.call(t),l=0;!(o=t.next()).done;)o=o.value,u=r+rc(o,l++),s+=Fa(o,e,n,u,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function pa(t,e,n){if(t==null)return t;var r=[],i=0;return Fa(t,r,"","",function(o){return e.call(n,o,i++)}),r}function K1(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var gt={current:null},Ba={transition:null},q1={ReactCurrentDispatcher:gt,ReactCurrentBatchConfig:Ba,ReactCurrentOwner:vd};function Yy(){throw Error("act(...) is not supported in production builds of React.")}te.Children={map:pa,forEach:function(t,e,n){pa(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return pa(t,function(){e++}),e},toArray:function(t){return pa(t,function(e){return e})||[]},only:function(t){if(!_d(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};te.Component=to;te.Fragment=O1;te.Profiler=M1;te.PureComponent=gd;te.StrictMode=L1;te.Suspense=B1;te.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=q1;te.act=Yy;te.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Wy({},t.props),i=t.key,o=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,s=vd.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(u in e)Gy.call(e,u)&&!Qy.hasOwnProperty(u)&&(r[u]=e[u]===void 0&&l!==void 0?l[u]:e[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){l=Array(u);for(var c=0;c<u;c++)l[c]=arguments[c+2];r.children=l}return{$$typeof:js,type:t.type,key:i,ref:o,props:r,_owner:s}};te.createContext=function(t){return t={$$typeof:j1,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:b1,_context:t},t.Consumer=t};te.createElement=Xy;te.createFactory=function(t){var e=Xy.bind(null,t);return e.type=t,e};te.createRef=function(){return{current:null}};te.forwardRef=function(t){return{$$typeof:F1,render:t}};te.isValidElement=_d;te.lazy=function(t){return{$$typeof:U1,_payload:{_status:-1,_result:t},_init:K1}};te.memo=function(t,e){return{$$typeof:$1,type:t,compare:e===void 0?null:e}};te.startTransition=function(t){var e=Ba.transition;Ba.transition={};try{t()}finally{Ba.transition=e}};te.unstable_act=Yy;te.useCallback=function(t,e){return gt.current.useCallback(t,e)};te.useContext=function(t){return gt.current.useContext(t)};te.useDebugValue=function(){};te.useDeferredValue=function(t){return gt.current.useDeferredValue(t)};te.useEffect=function(t,e){return gt.current.useEffect(t,e)};te.useId=function(){return gt.current.useId()};te.useImperativeHandle=function(t,e,n){return gt.current.useImperativeHandle(t,e,n)};te.useInsertionEffect=function(t,e){return gt.current.useInsertionEffect(t,e)};te.useLayoutEffect=function(t,e){return gt.current.useLayoutEffect(t,e)};te.useMemo=function(t,e){return gt.current.useMemo(t,e)};te.useReducer=function(t,e,n){return gt.current.useReducer(t,e,n)};te.useRef=function(t){return gt.current.useRef(t)};te.useState=function(t){return gt.current.useState(t)};te.useSyncExternalStore=function(t,e,n){return gt.current.useSyncExternalStore(t,e,n)};te.useTransition=function(){return gt.current.useTransition()};te.version="18.3.1";zy.exports=te;var g=zy.exports;const qe=Xl(g);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var G1=g,Q1=Symbol.for("react.element"),X1=Symbol.for("react.fragment"),Y1=Object.prototype.hasOwnProperty,J1=G1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Z1={key:!0,ref:!0,__self:!0,__source:!0};function Jy(t,e,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)Y1.call(e,r)&&!Z1.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:Q1,type:t,key:o,ref:s,props:i,_owner:J1.current}}Yl.Fragment=X1;Yl.jsx=Jy;Yl.jsxs=Jy;Uy.exports=Yl;var _=Uy.exports,Zy={exports:{}},Mt={},ev={exports:{}},tv={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e($,G){var Q=$.length;$.push(G);e:for(;0<Q;){var le=Q-1>>>1,ne=$[le];if(0<i(ne,G))$[le]=G,$[Q]=ne,Q=le;else break e}}function n($){return $.length===0?null:$[0]}function r($){if($.length===0)return null;var G=$[0],Q=$.pop();if(Q!==G){$[0]=Q;e:for(var le=0,ne=$.length,ie=ne>>>1;le<ie;){var de=2*(le+1)-1,je=$[de],xt=de+1,vt=$[xt];if(0>i(je,Q))xt<ne&&0>i(vt,je)?($[le]=vt,$[xt]=Q,le=xt):($[le]=je,$[de]=Q,le=de);else if(xt<ne&&0>i(vt,Q))$[le]=vt,$[xt]=Q,le=xt;else break e}}return G}function i($,G){var Q=$.sortIndex-G.sortIndex;return Q!==0?Q:$.id-G.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var u=[],c=[],d=1,p=null,m=3,T=!1,k=!1,P=!1,N=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function I($){for(var G=n(c);G!==null;){if(G.callback===null)r(c);else if(G.startTime<=$)r(c),G.sortIndex=G.expirationTime,e(u,G);else break;G=n(c)}}function O($){if(P=!1,I($),!k)if(n(u)!==null)k=!0,He(j);else{var G=n(c);G!==null&&be(O,G.startTime-$)}}function j($,G){k=!1,P&&(P=!1,w(v),v=-1),T=!0;var Q=m;try{for(I(G),p=n(u);p!==null&&(!(p.expirationTime>G)||$&&!A());){var le=p.callback;if(typeof le=="function"){p.callback=null,m=p.priorityLevel;var ne=le(p.expirationTime<=G);G=t.unstable_now(),typeof ne=="function"?p.callback=ne:p===n(u)&&r(u),I(G)}else r(u);p=n(u)}if(p!==null)var ie=!0;else{var de=n(c);de!==null&&be(O,de.startTime-G),ie=!1}return ie}finally{p=null,m=Q,T=!1}}var M=!1,S=null,v=-1,C=5,R=-1;function A(){return!(t.unstable_now()-R<C)}function D(){if(S!==null){var $=t.unstable_now();R=$;var G=!0;try{G=S(!0,$)}finally{G?x():(M=!1,S=null)}}else M=!1}var x;if(typeof E=="function")x=function(){E(D)};else if(typeof MessageChannel<"u"){var De=new MessageChannel,Rt=De.port2;De.port1.onmessage=D,x=function(){Rt.postMessage(null)}}else x=function(){N(D,0)};function He($){S=$,M||(M=!0,x())}function be($,G){v=N(function(){$(t.unstable_now())},G)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function($){$.callback=null},t.unstable_continueExecution=function(){k||T||(k=!0,He(j))},t.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<$?Math.floor(1e3/$):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function($){switch(m){case 1:case 2:case 3:var G=3;break;default:G=m}var Q=m;m=G;try{return $()}finally{m=Q}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function($,G){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var Q=m;m=$;try{return G()}finally{m=Q}},t.unstable_scheduleCallback=function($,G,Q){var le=t.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?le+Q:le):Q=le,$){case 1:var ne=-1;break;case 2:ne=250;break;case 5:ne=1073741823;break;case 4:ne=1e4;break;default:ne=5e3}return ne=Q+ne,$={id:d++,callback:G,priorityLevel:$,startTime:Q,expirationTime:ne,sortIndex:-1},Q>le?($.sortIndex=Q,e(c,$),n(u)===null&&$===n(c)&&(P?(w(v),v=-1):P=!0,be(O,Q-le))):($.sortIndex=ne,e(u,$),k||T||(k=!0,He(j))),$},t.unstable_shouldYield=A,t.unstable_wrapCallback=function($){var G=m;return function(){var Q=m;m=G;try{return $.apply(this,arguments)}finally{m=Q}}}})(tv);ev.exports=tv;var eT=ev.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tT=g,Lt=eT;function B(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var nv=new Set,hs={};function ei(t,e){Bi(t,e),Bi(t+"Capture",e)}function Bi(t,e){for(hs[t]=e,t=0;t<e.length;t++)nv.add(e[t])}var kn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Wc=Object.prototype.hasOwnProperty,nT=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,gm={},ym={};function rT(t){return Wc.call(ym,t)?!0:Wc.call(gm,t)?!1:nT.test(t)?ym[t]=!0:(gm[t]=!0,!1)}function iT(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function oT(t,e,n,r){if(e===null||typeof e>"u"||iT(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function yt(t,e,n,r,i,o,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=s}var tt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){tt[t]=new yt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];tt[e]=new yt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){tt[t]=new yt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){tt[t]=new yt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){tt[t]=new yt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){tt[t]=new yt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){tt[t]=new yt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){tt[t]=new yt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){tt[t]=new yt(t,5,!1,t.toLowerCase(),null,!1,!1)});var Ed=/[\-:]([a-z])/g;function wd(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Ed,wd);tt[e]=new yt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Ed,wd);tt[e]=new yt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Ed,wd);tt[e]=new yt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){tt[t]=new yt(t,1,!1,t.toLowerCase(),null,!1,!1)});tt.xlinkHref=new yt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){tt[t]=new yt(t,1,!1,t.toLowerCase(),null,!0,!0)});function Td(t,e,n,r){var i=tt.hasOwnProperty(e)?tt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(oT(e,n,i,r)&&(n=null),r||i===null?rT(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Fn=tT.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ma=Symbol.for("react.element"),vi=Symbol.for("react.portal"),_i=Symbol.for("react.fragment"),Sd=Symbol.for("react.strict_mode"),Kc=Symbol.for("react.profiler"),rv=Symbol.for("react.provider"),iv=Symbol.for("react.context"),Cd=Symbol.for("react.forward_ref"),qc=Symbol.for("react.suspense"),Gc=Symbol.for("react.suspense_list"),Id=Symbol.for("react.memo"),qn=Symbol.for("react.lazy"),ov=Symbol.for("react.offscreen"),vm=Symbol.iterator;function Do(t){return t===null||typeof t!="object"?null:(t=vm&&t[vm]||t["@@iterator"],typeof t=="function"?t:null)}var Ie=Object.assign,ic;function Uo(t){if(ic===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);ic=e&&e[1]||""}return`
`+ic+t}var oc=!1;function sc(t,e){if(!t||oc)return"";oc=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,l=o.length-1;1<=s&&0<=l&&i[s]!==o[l];)l--;for(;1<=s&&0<=l;s--,l--)if(i[s]!==o[l]){if(s!==1||l!==1)do if(s--,l--,0>l||i[s]!==o[l]){var u=`
`+i[s].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=s&&0<=l);break}}}finally{oc=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Uo(t):""}function sT(t){switch(t.tag){case 5:return Uo(t.type);case 16:return Uo("Lazy");case 13:return Uo("Suspense");case 19:return Uo("SuspenseList");case 0:case 2:case 15:return t=sc(t.type,!1),t;case 11:return t=sc(t.type.render,!1),t;case 1:return t=sc(t.type,!0),t;default:return""}}function Qc(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case _i:return"Fragment";case vi:return"Portal";case Kc:return"Profiler";case Sd:return"StrictMode";case qc:return"Suspense";case Gc:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case iv:return(t.displayName||"Context")+".Consumer";case rv:return(t._context.displayName||"Context")+".Provider";case Cd:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Id:return e=t.displayName||null,e!==null?e:Qc(t.type)||"Memo";case qn:e=t._payload,t=t._init;try{return Qc(t(e))}catch{}}return null}function aT(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Qc(e);case 8:return e===Sd?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function fr(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function sv(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function lT(t){var e=sv(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function ga(t){t._valueTracker||(t._valueTracker=lT(t))}function av(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=sv(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function sl(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Xc(t,e){var n=e.checked;return Ie({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function _m(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=fr(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function lv(t,e){e=e.checked,e!=null&&Td(t,"checked",e,!1)}function Yc(t,e){lv(t,e);var n=fr(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Jc(t,e.type,n):e.hasOwnProperty("defaultValue")&&Jc(t,e.type,fr(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Em(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Jc(t,e,n){(e!=="number"||sl(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var zo=Array.isArray;function Ni(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+fr(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Zc(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(B(91));return Ie({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function wm(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(B(92));if(zo(n)){if(1<n.length)throw Error(B(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:fr(n)}}function uv(t,e){var n=fr(e.value),r=fr(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Tm(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function cv(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function eh(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?cv(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var ya,hv=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(ya=ya||document.createElement("div"),ya.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ya.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function ds(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Yo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},uT=["Webkit","ms","Moz","O"];Object.keys(Yo).forEach(function(t){uT.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Yo[e]=Yo[t]})});function dv(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Yo.hasOwnProperty(t)&&Yo[t]?(""+e).trim():e+"px"}function fv(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=dv(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var cT=Ie({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function th(t,e){if(e){if(cT[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(B(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(B(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(B(61))}if(e.style!=null&&typeof e.style!="object")throw Error(B(62))}}function nh(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var rh=null;function Rd(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ih=null,Di=null,Vi=null;function Sm(t){if(t=$s(t)){if(typeof ih!="function")throw Error(B(280));var e=t.stateNode;e&&(e=nu(e),ih(t.stateNode,t.type,e))}}function pv(t){Di?Vi?Vi.push(t):Vi=[t]:Di=t}function mv(){if(Di){var t=Di,e=Vi;if(Vi=Di=null,Sm(t),e)for(t=0;t<e.length;t++)Sm(e[t])}}function gv(t,e){return t(e)}function yv(){}var ac=!1;function vv(t,e,n){if(ac)return t(e,n);ac=!0;try{return gv(t,e,n)}finally{ac=!1,(Di!==null||Vi!==null)&&(yv(),mv())}}function fs(t,e){var n=t.stateNode;if(n===null)return null;var r=nu(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(B(231,e,typeof n));return n}var oh=!1;if(kn)try{var Vo={};Object.defineProperty(Vo,"passive",{get:function(){oh=!0}}),window.addEventListener("test",Vo,Vo),window.removeEventListener("test",Vo,Vo)}catch{oh=!1}function hT(t,e,n,r,i,o,s,l,u){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(d){this.onError(d)}}var Jo=!1,al=null,ll=!1,sh=null,dT={onError:function(t){Jo=!0,al=t}};function fT(t,e,n,r,i,o,s,l,u){Jo=!1,al=null,hT.apply(dT,arguments)}function pT(t,e,n,r,i,o,s,l,u){if(fT.apply(this,arguments),Jo){if(Jo){var c=al;Jo=!1,al=null}else throw Error(B(198));ll||(ll=!0,sh=c)}}function ti(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function _v(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Cm(t){if(ti(t)!==t)throw Error(B(188))}function mT(t){var e=t.alternate;if(!e){if(e=ti(t),e===null)throw Error(B(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Cm(i),t;if(o===r)return Cm(i),e;o=o.sibling}throw Error(B(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,l=i.child;l;){if(l===n){s=!0,n=i,r=o;break}if(l===r){s=!0,r=i,n=o;break}l=l.sibling}if(!s){for(l=o.child;l;){if(l===n){s=!0,n=o,r=i;break}if(l===r){s=!0,r=o,n=i;break}l=l.sibling}if(!s)throw Error(B(189))}}if(n.alternate!==r)throw Error(B(190))}if(n.tag!==3)throw Error(B(188));return n.stateNode.current===n?t:e}function Ev(t){return t=mT(t),t!==null?wv(t):null}function wv(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=wv(t);if(e!==null)return e;t=t.sibling}return null}var Tv=Lt.unstable_scheduleCallback,Im=Lt.unstable_cancelCallback,gT=Lt.unstable_shouldYield,yT=Lt.unstable_requestPaint,Ne=Lt.unstable_now,vT=Lt.unstable_getCurrentPriorityLevel,xd=Lt.unstable_ImmediatePriority,Sv=Lt.unstable_UserBlockingPriority,ul=Lt.unstable_NormalPriority,_T=Lt.unstable_LowPriority,Cv=Lt.unstable_IdlePriority,Jl=null,an=null;function ET(t){if(an&&typeof an.onCommitFiberRoot=="function")try{an.onCommitFiberRoot(Jl,t,void 0,(t.current.flags&128)===128)}catch{}}var Yt=Math.clz32?Math.clz32:ST,wT=Math.log,TT=Math.LN2;function ST(t){return t>>>=0,t===0?32:31-(wT(t)/TT|0)|0}var va=64,_a=4194304;function Ho(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function cl(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,s=n&268435455;if(s!==0){var l=s&~i;l!==0?r=Ho(l):(o&=s,o!==0&&(r=Ho(o)))}else s=n&~i,s!==0?r=Ho(s):o!==0&&(r=Ho(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Yt(e),i=1<<n,r|=t[n],e&=~i;return r}function CT(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function IT(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var s=31-Yt(o),l=1<<s,u=i[s];u===-1?(!(l&n)||l&r)&&(i[s]=CT(l,e)):u<=e&&(t.expiredLanes|=l),o&=~l}}function ah(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Iv(){var t=va;return va<<=1,!(va&4194240)&&(va=64),t}function lc(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Fs(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Yt(e),t[e]=n}function RT(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Yt(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function Ad(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Yt(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var fe=0;function Rv(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var xv,kd,Av,kv,Pv,lh=!1,Ea=[],tr=null,nr=null,rr=null,ps=new Map,ms=new Map,Xn=[],xT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Rm(t,e){switch(t){case"focusin":case"focusout":tr=null;break;case"dragenter":case"dragleave":nr=null;break;case"mouseover":case"mouseout":rr=null;break;case"pointerover":case"pointerout":ps.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":ms.delete(e.pointerId)}}function Oo(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=$s(e),e!==null&&kd(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function AT(t,e,n,r,i){switch(e){case"focusin":return tr=Oo(tr,t,e,n,r,i),!0;case"dragenter":return nr=Oo(nr,t,e,n,r,i),!0;case"mouseover":return rr=Oo(rr,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return ps.set(o,Oo(ps.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,ms.set(o,Oo(ms.get(o)||null,t,e,n,r,i)),!0}return!1}function Nv(t){var e=Fr(t.target);if(e!==null){var n=ti(e);if(n!==null){if(e=n.tag,e===13){if(e=_v(n),e!==null){t.blockedOn=e,Pv(t.priority,function(){Av(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function $a(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=uh(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);rh=r,n.target.dispatchEvent(r),rh=null}else return e=$s(n),e!==null&&kd(e),t.blockedOn=n,!1;e.shift()}return!0}function xm(t,e,n){$a(t)&&n.delete(e)}function kT(){lh=!1,tr!==null&&$a(tr)&&(tr=null),nr!==null&&$a(nr)&&(nr=null),rr!==null&&$a(rr)&&(rr=null),ps.forEach(xm),ms.forEach(xm)}function Lo(t,e){t.blockedOn===e&&(t.blockedOn=null,lh||(lh=!0,Lt.unstable_scheduleCallback(Lt.unstable_NormalPriority,kT)))}function gs(t){function e(i){return Lo(i,t)}if(0<Ea.length){Lo(Ea[0],t);for(var n=1;n<Ea.length;n++){var r=Ea[n];r.blockedOn===t&&(r.blockedOn=null)}}for(tr!==null&&Lo(tr,t),nr!==null&&Lo(nr,t),rr!==null&&Lo(rr,t),ps.forEach(e),ms.forEach(e),n=0;n<Xn.length;n++)r=Xn[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Xn.length&&(n=Xn[0],n.blockedOn===null);)Nv(n),n.blockedOn===null&&Xn.shift()}var Oi=Fn.ReactCurrentBatchConfig,hl=!0;function PT(t,e,n,r){var i=fe,o=Oi.transition;Oi.transition=null;try{fe=1,Pd(t,e,n,r)}finally{fe=i,Oi.transition=o}}function NT(t,e,n,r){var i=fe,o=Oi.transition;Oi.transition=null;try{fe=4,Pd(t,e,n,r)}finally{fe=i,Oi.transition=o}}function Pd(t,e,n,r){if(hl){var i=uh(t,e,n,r);if(i===null)vc(t,e,r,dl,n),Rm(t,r);else if(AT(i,t,e,n,r))r.stopPropagation();else if(Rm(t,r),e&4&&-1<xT.indexOf(t)){for(;i!==null;){var o=$s(i);if(o!==null&&xv(o),o=uh(t,e,n,r),o===null&&vc(t,e,r,dl,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else vc(t,e,r,null,n)}}var dl=null;function uh(t,e,n,r){if(dl=null,t=Rd(r),t=Fr(t),t!==null)if(e=ti(t),e===null)t=null;else if(n=e.tag,n===13){if(t=_v(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return dl=t,null}function Dv(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(vT()){case xd:return 1;case Sv:return 4;case ul:case _T:return 16;case Cv:return 536870912;default:return 16}default:return 16}}var Jn=null,Nd=null,Ua=null;function Vv(){if(Ua)return Ua;var t,e=Nd,n=e.length,r,i="value"in Jn?Jn.value:Jn.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===i[o-r];r++);return Ua=i.slice(t,1<r?1-r:void 0)}function za(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function wa(){return!0}function Am(){return!1}function bt(t){function e(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(o):o[l]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?wa:Am,this.isPropagationStopped=Am,this}return Ie(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=wa)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=wa)},persist:function(){},isPersistent:wa}),e}var no={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Dd=bt(no),Bs=Ie({},no,{view:0,detail:0}),DT=bt(Bs),uc,cc,Mo,Zl=Ie({},Bs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Vd,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Mo&&(Mo&&t.type==="mousemove"?(uc=t.screenX-Mo.screenX,cc=t.screenY-Mo.screenY):cc=uc=0,Mo=t),uc)},movementY:function(t){return"movementY"in t?t.movementY:cc}}),km=bt(Zl),VT=Ie({},Zl,{dataTransfer:0}),OT=bt(VT),LT=Ie({},Bs,{relatedTarget:0}),hc=bt(LT),MT=Ie({},no,{animationName:0,elapsedTime:0,pseudoElement:0}),bT=bt(MT),jT=Ie({},no,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),FT=bt(jT),BT=Ie({},no,{data:0}),Pm=bt(BT),$T={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},UT={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},zT={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function HT(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=zT[t])?!!e[t]:!1}function Vd(){return HT}var WT=Ie({},Bs,{key:function(t){if(t.key){var e=$T[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=za(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?UT[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Vd,charCode:function(t){return t.type==="keypress"?za(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?za(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),KT=bt(WT),qT=Ie({},Zl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Nm=bt(qT),GT=Ie({},Bs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Vd}),QT=bt(GT),XT=Ie({},no,{propertyName:0,elapsedTime:0,pseudoElement:0}),YT=bt(XT),JT=Ie({},Zl,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),ZT=bt(JT),eS=[9,13,27,32],Od=kn&&"CompositionEvent"in window,Zo=null;kn&&"documentMode"in document&&(Zo=document.documentMode);var tS=kn&&"TextEvent"in window&&!Zo,Ov=kn&&(!Od||Zo&&8<Zo&&11>=Zo),Dm=" ",Vm=!1;function Lv(t,e){switch(t){case"keyup":return eS.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Mv(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ei=!1;function nS(t,e){switch(t){case"compositionend":return Mv(e);case"keypress":return e.which!==32?null:(Vm=!0,Dm);case"textInput":return t=e.data,t===Dm&&Vm?null:t;default:return null}}function rS(t,e){if(Ei)return t==="compositionend"||!Od&&Lv(t,e)?(t=Vv(),Ua=Nd=Jn=null,Ei=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Ov&&e.locale!=="ko"?null:e.data;default:return null}}var iS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Om(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!iS[t.type]:e==="textarea"}function bv(t,e,n,r){pv(r),e=fl(e,"onChange"),0<e.length&&(n=new Dd("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var es=null,ys=null;function oS(t){Gv(t,0)}function eu(t){var e=Si(t);if(av(e))return t}function sS(t,e){if(t==="change")return e}var jv=!1;if(kn){var dc;if(kn){var fc="oninput"in document;if(!fc){var Lm=document.createElement("div");Lm.setAttribute("oninput","return;"),fc=typeof Lm.oninput=="function"}dc=fc}else dc=!1;jv=dc&&(!document.documentMode||9<document.documentMode)}function Mm(){es&&(es.detachEvent("onpropertychange",Fv),ys=es=null)}function Fv(t){if(t.propertyName==="value"&&eu(ys)){var e=[];bv(e,ys,t,Rd(t)),vv(oS,e)}}function aS(t,e,n){t==="focusin"?(Mm(),es=e,ys=n,es.attachEvent("onpropertychange",Fv)):t==="focusout"&&Mm()}function lS(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return eu(ys)}function uS(t,e){if(t==="click")return eu(e)}function cS(t,e){if(t==="input"||t==="change")return eu(e)}function hS(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var en=typeof Object.is=="function"?Object.is:hS;function vs(t,e){if(en(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Wc.call(e,i)||!en(t[i],e[i]))return!1}return!0}function bm(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function jm(t,e){var n=bm(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=bm(n)}}function Bv(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Bv(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function $v(){for(var t=window,e=sl();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=sl(t.document)}return e}function Ld(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function dS(t){var e=$v(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Bv(n.ownerDocument.documentElement,n)){if(r!==null&&Ld(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=jm(n,o);var s=jm(n,r);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var fS=kn&&"documentMode"in document&&11>=document.documentMode,wi=null,ch=null,ts=null,hh=!1;function Fm(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;hh||wi==null||wi!==sl(r)||(r=wi,"selectionStart"in r&&Ld(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ts&&vs(ts,r)||(ts=r,r=fl(ch,"onSelect"),0<r.length&&(e=new Dd("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=wi)))}function Ta(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Ti={animationend:Ta("Animation","AnimationEnd"),animationiteration:Ta("Animation","AnimationIteration"),animationstart:Ta("Animation","AnimationStart"),transitionend:Ta("Transition","TransitionEnd")},pc={},Uv={};kn&&(Uv=document.createElement("div").style,"AnimationEvent"in window||(delete Ti.animationend.animation,delete Ti.animationiteration.animation,delete Ti.animationstart.animation),"TransitionEvent"in window||delete Ti.transitionend.transition);function tu(t){if(pc[t])return pc[t];if(!Ti[t])return t;var e=Ti[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Uv)return pc[t]=e[n];return t}var zv=tu("animationend"),Hv=tu("animationiteration"),Wv=tu("animationstart"),Kv=tu("transitionend"),qv=new Map,Bm="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Tr(t,e){qv.set(t,e),ei(e,[t])}for(var mc=0;mc<Bm.length;mc++){var gc=Bm[mc],pS=gc.toLowerCase(),mS=gc[0].toUpperCase()+gc.slice(1);Tr(pS,"on"+mS)}Tr(zv,"onAnimationEnd");Tr(Hv,"onAnimationIteration");Tr(Wv,"onAnimationStart");Tr("dblclick","onDoubleClick");Tr("focusin","onFocus");Tr("focusout","onBlur");Tr(Kv,"onTransitionEnd");Bi("onMouseEnter",["mouseout","mouseover"]);Bi("onMouseLeave",["mouseout","mouseover"]);Bi("onPointerEnter",["pointerout","pointerover"]);Bi("onPointerLeave",["pointerout","pointerover"]);ei("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ei("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ei("onBeforeInput",["compositionend","keypress","textInput","paste"]);ei("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ei("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ei("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Wo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),gS=new Set("cancel close invalid load scroll toggle".split(" ").concat(Wo));function $m(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,pT(r,e,void 0,t),t.currentTarget=null}function Gv(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var s=r.length-1;0<=s;s--){var l=r[s],u=l.instance,c=l.currentTarget;if(l=l.listener,u!==o&&i.isPropagationStopped())break e;$m(i,l,c),o=u}else for(s=0;s<r.length;s++){if(l=r[s],u=l.instance,c=l.currentTarget,l=l.listener,u!==o&&i.isPropagationStopped())break e;$m(i,l,c),o=u}}}if(ll)throw t=sh,ll=!1,sh=null,t}function ve(t,e){var n=e[gh];n===void 0&&(n=e[gh]=new Set);var r=t+"__bubble";n.has(r)||(Qv(e,t,2,!1),n.add(r))}function yc(t,e,n){var r=0;e&&(r|=4),Qv(n,t,r,e)}var Sa="_reactListening"+Math.random().toString(36).slice(2);function _s(t){if(!t[Sa]){t[Sa]=!0,nv.forEach(function(n){n!=="selectionchange"&&(gS.has(n)||yc(n,!1,t),yc(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Sa]||(e[Sa]=!0,yc("selectionchange",!1,e))}}function Qv(t,e,n,r){switch(Dv(e)){case 1:var i=PT;break;case 4:i=NT;break;default:i=Pd}n=i.bind(null,e,n,t),i=void 0,!oh||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function vc(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var u=s.tag;if((u===3||u===4)&&(u=s.stateNode.containerInfo,u===i||u.nodeType===8&&u.parentNode===i))return;s=s.return}for(;l!==null;){if(s=Fr(l),s===null)return;if(u=s.tag,u===5||u===6){r=o=s;continue e}l=l.parentNode}}r=r.return}vv(function(){var c=o,d=Rd(n),p=[];e:{var m=qv.get(t);if(m!==void 0){var T=Dd,k=t;switch(t){case"keypress":if(za(n)===0)break e;case"keydown":case"keyup":T=KT;break;case"focusin":k="focus",T=hc;break;case"focusout":k="blur",T=hc;break;case"beforeblur":case"afterblur":T=hc;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":T=km;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":T=OT;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":T=QT;break;case zv:case Hv:case Wv:T=bT;break;case Kv:T=YT;break;case"scroll":T=DT;break;case"wheel":T=ZT;break;case"copy":case"cut":case"paste":T=FT;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":T=Nm}var P=(e&4)!==0,N=!P&&t==="scroll",w=P?m!==null?m+"Capture":null:m;P=[];for(var E=c,I;E!==null;){I=E;var O=I.stateNode;if(I.tag===5&&O!==null&&(I=O,w!==null&&(O=fs(E,w),O!=null&&P.push(Es(E,O,I)))),N)break;E=E.return}0<P.length&&(m=new T(m,k,null,n,d),p.push({event:m,listeners:P}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",T=t==="mouseout"||t==="pointerout",m&&n!==rh&&(k=n.relatedTarget||n.fromElement)&&(Fr(k)||k[Pn]))break e;if((T||m)&&(m=d.window===d?d:(m=d.ownerDocument)?m.defaultView||m.parentWindow:window,T?(k=n.relatedTarget||n.toElement,T=c,k=k?Fr(k):null,k!==null&&(N=ti(k),k!==N||k.tag!==5&&k.tag!==6)&&(k=null)):(T=null,k=c),T!==k)){if(P=km,O="onMouseLeave",w="onMouseEnter",E="mouse",(t==="pointerout"||t==="pointerover")&&(P=Nm,O="onPointerLeave",w="onPointerEnter",E="pointer"),N=T==null?m:Si(T),I=k==null?m:Si(k),m=new P(O,E+"leave",T,n,d),m.target=N,m.relatedTarget=I,O=null,Fr(d)===c&&(P=new P(w,E+"enter",k,n,d),P.target=I,P.relatedTarget=N,O=P),N=O,T&&k)t:{for(P=T,w=k,E=0,I=P;I;I=hi(I))E++;for(I=0,O=w;O;O=hi(O))I++;for(;0<E-I;)P=hi(P),E--;for(;0<I-E;)w=hi(w),I--;for(;E--;){if(P===w||w!==null&&P===w.alternate)break t;P=hi(P),w=hi(w)}P=null}else P=null;T!==null&&Um(p,m,T,P,!1),k!==null&&N!==null&&Um(p,N,k,P,!0)}}e:{if(m=c?Si(c):window,T=m.nodeName&&m.nodeName.toLowerCase(),T==="select"||T==="input"&&m.type==="file")var j=sS;else if(Om(m))if(jv)j=cS;else{j=lS;var M=aS}else(T=m.nodeName)&&T.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(j=uS);if(j&&(j=j(t,c))){bv(p,j,n,d);break e}M&&M(t,m,c),t==="focusout"&&(M=m._wrapperState)&&M.controlled&&m.type==="number"&&Jc(m,"number",m.value)}switch(M=c?Si(c):window,t){case"focusin":(Om(M)||M.contentEditable==="true")&&(wi=M,ch=c,ts=null);break;case"focusout":ts=ch=wi=null;break;case"mousedown":hh=!0;break;case"contextmenu":case"mouseup":case"dragend":hh=!1,Fm(p,n,d);break;case"selectionchange":if(fS)break;case"keydown":case"keyup":Fm(p,n,d)}var S;if(Od)e:{switch(t){case"compositionstart":var v="onCompositionStart";break e;case"compositionend":v="onCompositionEnd";break e;case"compositionupdate":v="onCompositionUpdate";break e}v=void 0}else Ei?Lv(t,n)&&(v="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(v="onCompositionStart");v&&(Ov&&n.locale!=="ko"&&(Ei||v!=="onCompositionStart"?v==="onCompositionEnd"&&Ei&&(S=Vv()):(Jn=d,Nd="value"in Jn?Jn.value:Jn.textContent,Ei=!0)),M=fl(c,v),0<M.length&&(v=new Pm(v,t,null,n,d),p.push({event:v,listeners:M}),S?v.data=S:(S=Mv(n),S!==null&&(v.data=S)))),(S=tS?nS(t,n):rS(t,n))&&(c=fl(c,"onBeforeInput"),0<c.length&&(d=new Pm("onBeforeInput","beforeinput",null,n,d),p.push({event:d,listeners:c}),d.data=S))}Gv(p,e)})}function Es(t,e,n){return{instance:t,listener:e,currentTarget:n}}function fl(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=fs(t,n),o!=null&&r.unshift(Es(t,o,i)),o=fs(t,e),o!=null&&r.push(Es(t,o,i))),t=t.return}return r}function hi(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Um(t,e,n,r,i){for(var o=e._reactName,s=[];n!==null&&n!==r;){var l=n,u=l.alternate,c=l.stateNode;if(u!==null&&u===r)break;l.tag===5&&c!==null&&(l=c,i?(u=fs(n,o),u!=null&&s.unshift(Es(n,u,l))):i||(u=fs(n,o),u!=null&&s.push(Es(n,u,l)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var yS=/\r\n?/g,vS=/\u0000|\uFFFD/g;function zm(t){return(typeof t=="string"?t:""+t).replace(yS,`
`).replace(vS,"")}function Ca(t,e,n){if(e=zm(e),zm(t)!==e&&n)throw Error(B(425))}function pl(){}var dh=null,fh=null;function ph(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var mh=typeof setTimeout=="function"?setTimeout:void 0,_S=typeof clearTimeout=="function"?clearTimeout:void 0,Hm=typeof Promise=="function"?Promise:void 0,ES=typeof queueMicrotask=="function"?queueMicrotask:typeof Hm<"u"?function(t){return Hm.resolve(null).then(t).catch(wS)}:mh;function wS(t){setTimeout(function(){throw t})}function _c(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),gs(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);gs(e)}function ir(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Wm(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var ro=Math.random().toString(36).slice(2),sn="__reactFiber$"+ro,ws="__reactProps$"+ro,Pn="__reactContainer$"+ro,gh="__reactEvents$"+ro,TS="__reactListeners$"+ro,SS="__reactHandles$"+ro;function Fr(t){var e=t[sn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Pn]||n[sn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Wm(t);t!==null;){if(n=t[sn])return n;t=Wm(t)}return e}t=n,n=t.parentNode}return null}function $s(t){return t=t[sn]||t[Pn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Si(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(B(33))}function nu(t){return t[ws]||null}var yh=[],Ci=-1;function Sr(t){return{current:t}}function _e(t){0>Ci||(t.current=yh[Ci],yh[Ci]=null,Ci--)}function ge(t,e){Ci++,yh[Ci]=t.current,t.current=e}var pr={},ht=Sr(pr),St=Sr(!1),Gr=pr;function $i(t,e){var n=t.type.contextTypes;if(!n)return pr;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Ct(t){return t=t.childContextTypes,t!=null}function ml(){_e(St),_e(ht)}function Km(t,e,n){if(ht.current!==pr)throw Error(B(168));ge(ht,e),ge(St,n)}function Xv(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(B(108,aT(t)||"Unknown",i));return Ie({},n,r)}function gl(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||pr,Gr=ht.current,ge(ht,t),ge(St,St.current),!0}function qm(t,e,n){var r=t.stateNode;if(!r)throw Error(B(169));n?(t=Xv(t,e,Gr),r.__reactInternalMemoizedMergedChildContext=t,_e(St),_e(ht),ge(ht,t)):_e(St),ge(St,n)}var En=null,ru=!1,Ec=!1;function Yv(t){En===null?En=[t]:En.push(t)}function CS(t){ru=!0,Yv(t)}function Cr(){if(!Ec&&En!==null){Ec=!0;var t=0,e=fe;try{var n=En;for(fe=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}En=null,ru=!1}catch(i){throw En!==null&&(En=En.slice(t+1)),Tv(xd,Cr),i}finally{fe=e,Ec=!1}}return null}var Ii=[],Ri=0,yl=null,vl=0,jt=[],Ft=0,Qr=null,Tn=1,Sn="";function Lr(t,e){Ii[Ri++]=vl,Ii[Ri++]=yl,yl=t,vl=e}function Jv(t,e,n){jt[Ft++]=Tn,jt[Ft++]=Sn,jt[Ft++]=Qr,Qr=t;var r=Tn;t=Sn;var i=32-Yt(r)-1;r&=~(1<<i),n+=1;var o=32-Yt(e)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,Tn=1<<32-Yt(e)+i|n<<i|r,Sn=o+t}else Tn=1<<o|n<<i|r,Sn=t}function Md(t){t.return!==null&&(Lr(t,1),Jv(t,1,0))}function bd(t){for(;t===yl;)yl=Ii[--Ri],Ii[Ri]=null,vl=Ii[--Ri],Ii[Ri]=null;for(;t===Qr;)Qr=jt[--Ft],jt[Ft]=null,Sn=jt[--Ft],jt[Ft]=null,Tn=jt[--Ft],jt[Ft]=null}var Vt=null,Nt=null,Ee=!1,Qt=null;function Zv(t,e){var n=Bt(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Gm(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Vt=t,Nt=ir(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Vt=t,Nt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Qr!==null?{id:Tn,overflow:Sn}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Bt(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Vt=t,Nt=null,!0):!1;default:return!1}}function vh(t){return(t.mode&1)!==0&&(t.flags&128)===0}function _h(t){if(Ee){var e=Nt;if(e){var n=e;if(!Gm(t,e)){if(vh(t))throw Error(B(418));e=ir(n.nextSibling);var r=Vt;e&&Gm(t,e)?Zv(r,n):(t.flags=t.flags&-4097|2,Ee=!1,Vt=t)}}else{if(vh(t))throw Error(B(418));t.flags=t.flags&-4097|2,Ee=!1,Vt=t}}}function Qm(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Vt=t}function Ia(t){if(t!==Vt)return!1;if(!Ee)return Qm(t),Ee=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!ph(t.type,t.memoizedProps)),e&&(e=Nt)){if(vh(t))throw e_(),Error(B(418));for(;e;)Zv(t,e),e=ir(e.nextSibling)}if(Qm(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(B(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Nt=ir(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Nt=null}}else Nt=Vt?ir(t.stateNode.nextSibling):null;return!0}function e_(){for(var t=Nt;t;)t=ir(t.nextSibling)}function Ui(){Nt=Vt=null,Ee=!1}function jd(t){Qt===null?Qt=[t]:Qt.push(t)}var IS=Fn.ReactCurrentBatchConfig;function bo(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(B(309));var r=n.stateNode}if(!r)throw Error(B(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(s){var l=i.refs;s===null?delete l[o]:l[o]=s},e._stringRef=o,e)}if(typeof t!="string")throw Error(B(284));if(!n._owner)throw Error(B(290,t))}return t}function Ra(t,e){throw t=Object.prototype.toString.call(e),Error(B(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Xm(t){var e=t._init;return e(t._payload)}function t_(t){function e(w,E){if(t){var I=w.deletions;I===null?(w.deletions=[E],w.flags|=16):I.push(E)}}function n(w,E){if(!t)return null;for(;E!==null;)e(w,E),E=E.sibling;return null}function r(w,E){for(w=new Map;E!==null;)E.key!==null?w.set(E.key,E):w.set(E.index,E),E=E.sibling;return w}function i(w,E){return w=lr(w,E),w.index=0,w.sibling=null,w}function o(w,E,I){return w.index=I,t?(I=w.alternate,I!==null?(I=I.index,I<E?(w.flags|=2,E):I):(w.flags|=2,E)):(w.flags|=1048576,E)}function s(w){return t&&w.alternate===null&&(w.flags|=2),w}function l(w,E,I,O){return E===null||E.tag!==6?(E=xc(I,w.mode,O),E.return=w,E):(E=i(E,I),E.return=w,E)}function u(w,E,I,O){var j=I.type;return j===_i?d(w,E,I.props.children,O,I.key):E!==null&&(E.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===qn&&Xm(j)===E.type)?(O=i(E,I.props),O.ref=bo(w,E,I),O.return=w,O):(O=Xa(I.type,I.key,I.props,null,w.mode,O),O.ref=bo(w,E,I),O.return=w,O)}function c(w,E,I,O){return E===null||E.tag!==4||E.stateNode.containerInfo!==I.containerInfo||E.stateNode.implementation!==I.implementation?(E=Ac(I,w.mode,O),E.return=w,E):(E=i(E,I.children||[]),E.return=w,E)}function d(w,E,I,O,j){return E===null||E.tag!==7?(E=Hr(I,w.mode,O,j),E.return=w,E):(E=i(E,I),E.return=w,E)}function p(w,E,I){if(typeof E=="string"&&E!==""||typeof E=="number")return E=xc(""+E,w.mode,I),E.return=w,E;if(typeof E=="object"&&E!==null){switch(E.$$typeof){case ma:return I=Xa(E.type,E.key,E.props,null,w.mode,I),I.ref=bo(w,null,E),I.return=w,I;case vi:return E=Ac(E,w.mode,I),E.return=w,E;case qn:var O=E._init;return p(w,O(E._payload),I)}if(zo(E)||Do(E))return E=Hr(E,w.mode,I,null),E.return=w,E;Ra(w,E)}return null}function m(w,E,I,O){var j=E!==null?E.key:null;if(typeof I=="string"&&I!==""||typeof I=="number")return j!==null?null:l(w,E,""+I,O);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case ma:return I.key===j?u(w,E,I,O):null;case vi:return I.key===j?c(w,E,I,O):null;case qn:return j=I._init,m(w,E,j(I._payload),O)}if(zo(I)||Do(I))return j!==null?null:d(w,E,I,O,null);Ra(w,I)}return null}function T(w,E,I,O,j){if(typeof O=="string"&&O!==""||typeof O=="number")return w=w.get(I)||null,l(E,w,""+O,j);if(typeof O=="object"&&O!==null){switch(O.$$typeof){case ma:return w=w.get(O.key===null?I:O.key)||null,u(E,w,O,j);case vi:return w=w.get(O.key===null?I:O.key)||null,c(E,w,O,j);case qn:var M=O._init;return T(w,E,I,M(O._payload),j)}if(zo(O)||Do(O))return w=w.get(I)||null,d(E,w,O,j,null);Ra(E,O)}return null}function k(w,E,I,O){for(var j=null,M=null,S=E,v=E=0,C=null;S!==null&&v<I.length;v++){S.index>v?(C=S,S=null):C=S.sibling;var R=m(w,S,I[v],O);if(R===null){S===null&&(S=C);break}t&&S&&R.alternate===null&&e(w,S),E=o(R,E,v),M===null?j=R:M.sibling=R,M=R,S=C}if(v===I.length)return n(w,S),Ee&&Lr(w,v),j;if(S===null){for(;v<I.length;v++)S=p(w,I[v],O),S!==null&&(E=o(S,E,v),M===null?j=S:M.sibling=S,M=S);return Ee&&Lr(w,v),j}for(S=r(w,S);v<I.length;v++)C=T(S,w,v,I[v],O),C!==null&&(t&&C.alternate!==null&&S.delete(C.key===null?v:C.key),E=o(C,E,v),M===null?j=C:M.sibling=C,M=C);return t&&S.forEach(function(A){return e(w,A)}),Ee&&Lr(w,v),j}function P(w,E,I,O){var j=Do(I);if(typeof j!="function")throw Error(B(150));if(I=j.call(I),I==null)throw Error(B(151));for(var M=j=null,S=E,v=E=0,C=null,R=I.next();S!==null&&!R.done;v++,R=I.next()){S.index>v?(C=S,S=null):C=S.sibling;var A=m(w,S,R.value,O);if(A===null){S===null&&(S=C);break}t&&S&&A.alternate===null&&e(w,S),E=o(A,E,v),M===null?j=A:M.sibling=A,M=A,S=C}if(R.done)return n(w,S),Ee&&Lr(w,v),j;if(S===null){for(;!R.done;v++,R=I.next())R=p(w,R.value,O),R!==null&&(E=o(R,E,v),M===null?j=R:M.sibling=R,M=R);return Ee&&Lr(w,v),j}for(S=r(w,S);!R.done;v++,R=I.next())R=T(S,w,v,R.value,O),R!==null&&(t&&R.alternate!==null&&S.delete(R.key===null?v:R.key),E=o(R,E,v),M===null?j=R:M.sibling=R,M=R);return t&&S.forEach(function(D){return e(w,D)}),Ee&&Lr(w,v),j}function N(w,E,I,O){if(typeof I=="object"&&I!==null&&I.type===_i&&I.key===null&&(I=I.props.children),typeof I=="object"&&I!==null){switch(I.$$typeof){case ma:e:{for(var j=I.key,M=E;M!==null;){if(M.key===j){if(j=I.type,j===_i){if(M.tag===7){n(w,M.sibling),E=i(M,I.props.children),E.return=w,w=E;break e}}else if(M.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===qn&&Xm(j)===M.type){n(w,M.sibling),E=i(M,I.props),E.ref=bo(w,M,I),E.return=w,w=E;break e}n(w,M);break}else e(w,M);M=M.sibling}I.type===_i?(E=Hr(I.props.children,w.mode,O,I.key),E.return=w,w=E):(O=Xa(I.type,I.key,I.props,null,w.mode,O),O.ref=bo(w,E,I),O.return=w,w=O)}return s(w);case vi:e:{for(M=I.key;E!==null;){if(E.key===M)if(E.tag===4&&E.stateNode.containerInfo===I.containerInfo&&E.stateNode.implementation===I.implementation){n(w,E.sibling),E=i(E,I.children||[]),E.return=w,w=E;break e}else{n(w,E);break}else e(w,E);E=E.sibling}E=Ac(I,w.mode,O),E.return=w,w=E}return s(w);case qn:return M=I._init,N(w,E,M(I._payload),O)}if(zo(I))return k(w,E,I,O);if(Do(I))return P(w,E,I,O);Ra(w,I)}return typeof I=="string"&&I!==""||typeof I=="number"?(I=""+I,E!==null&&E.tag===6?(n(w,E.sibling),E=i(E,I),E.return=w,w=E):(n(w,E),E=xc(I,w.mode,O),E.return=w,w=E),s(w)):n(w,E)}return N}var zi=t_(!0),n_=t_(!1),_l=Sr(null),El=null,xi=null,Fd=null;function Bd(){Fd=xi=El=null}function $d(t){var e=_l.current;_e(_l),t._currentValue=e}function Eh(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Li(t,e){El=t,Fd=xi=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Tt=!0),t.firstContext=null)}function Ut(t){var e=t._currentValue;if(Fd!==t)if(t={context:t,memoizedValue:e,next:null},xi===null){if(El===null)throw Error(B(308));xi=t,El.dependencies={lanes:0,firstContext:t}}else xi=xi.next=t;return e}var Br=null;function Ud(t){Br===null?Br=[t]:Br.push(t)}function r_(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Ud(e)):(n.next=i.next,i.next=n),e.interleaved=n,Nn(t,r)}function Nn(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Gn=!1;function zd(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function i_(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Cn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function or(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,ue&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Nn(t,n)}return i=r.interleaved,i===null?(e.next=e,Ud(r)):(e.next=i.next,i.next=e),r.interleaved=e,Nn(t,n)}function Ha(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Ad(t,n)}}function Ym(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function wl(t,e,n,r){var i=t.updateQueue;Gn=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var u=l,c=u.next;u.next=null,s===null?o=c:s.next=c,s=u;var d=t.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==s&&(l===null?d.firstBaseUpdate=c:l.next=c,d.lastBaseUpdate=u))}if(o!==null){var p=i.baseState;s=0,d=c=u=null,l=o;do{var m=l.lane,T=l.eventTime;if((r&m)===m){d!==null&&(d=d.next={eventTime:T,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var k=t,P=l;switch(m=e,T=n,P.tag){case 1:if(k=P.payload,typeof k=="function"){p=k.call(T,p,m);break e}p=k;break e;case 3:k.flags=k.flags&-65537|128;case 0:if(k=P.payload,m=typeof k=="function"?k.call(T,p,m):k,m==null)break e;p=Ie({},p,m);break e;case 2:Gn=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,m=i.effects,m===null?i.effects=[l]:m.push(l))}else T={eventTime:T,lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(c=d=T,u=p):d=d.next=T,s|=m;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;m=l,l=m.next,m.next=null,i.lastBaseUpdate=m,i.shared.pending=null}}while(!0);if(d===null&&(u=p),i.baseState=u,i.firstBaseUpdate=c,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);Yr|=s,t.lanes=s,t.memoizedState=p}}function Jm(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(B(191,i));i.call(r)}}}var Us={},ln=Sr(Us),Ts=Sr(Us),Ss=Sr(Us);function $r(t){if(t===Us)throw Error(B(174));return t}function Hd(t,e){switch(ge(Ss,e),ge(Ts,t),ge(ln,Us),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:eh(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=eh(e,t)}_e(ln),ge(ln,e)}function Hi(){_e(ln),_e(Ts),_e(Ss)}function o_(t){$r(Ss.current);var e=$r(ln.current),n=eh(e,t.type);e!==n&&(ge(Ts,t),ge(ln,n))}function Wd(t){Ts.current===t&&(_e(ln),_e(Ts))}var Te=Sr(0);function Tl(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var wc=[];function Kd(){for(var t=0;t<wc.length;t++)wc[t]._workInProgressVersionPrimary=null;wc.length=0}var Wa=Fn.ReactCurrentDispatcher,Tc=Fn.ReactCurrentBatchConfig,Xr=0,Se=null,Fe=null,Ke=null,Sl=!1,ns=!1,Cs=0,RS=0;function ot(){throw Error(B(321))}function qd(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!en(t[n],e[n]))return!1;return!0}function Gd(t,e,n,r,i,o){if(Xr=o,Se=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Wa.current=t===null||t.memoizedState===null?PS:NS,t=n(r,i),ns){o=0;do{if(ns=!1,Cs=0,25<=o)throw Error(B(301));o+=1,Ke=Fe=null,e.updateQueue=null,Wa.current=DS,t=n(r,i)}while(ns)}if(Wa.current=Cl,e=Fe!==null&&Fe.next!==null,Xr=0,Ke=Fe=Se=null,Sl=!1,e)throw Error(B(300));return t}function Qd(){var t=Cs!==0;return Cs=0,t}function on(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ke===null?Se.memoizedState=Ke=t:Ke=Ke.next=t,Ke}function zt(){if(Fe===null){var t=Se.alternate;t=t!==null?t.memoizedState:null}else t=Fe.next;var e=Ke===null?Se.memoizedState:Ke.next;if(e!==null)Ke=e,Fe=t;else{if(t===null)throw Error(B(310));Fe=t,t={memoizedState:Fe.memoizedState,baseState:Fe.baseState,baseQueue:Fe.baseQueue,queue:Fe.queue,next:null},Ke===null?Se.memoizedState=Ke=t:Ke=Ke.next=t}return Ke}function Is(t,e){return typeof e=="function"?e(t):e}function Sc(t){var e=zt(),n=e.queue;if(n===null)throw Error(B(311));n.lastRenderedReducer=t;var r=Fe,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var l=s=null,u=null,c=o;do{var d=c.lane;if((Xr&d)===d)u!==null&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var p={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};u===null?(l=u=p,s=r):u=u.next=p,Se.lanes|=d,Yr|=d}c=c.next}while(c!==null&&c!==o);u===null?s=r:u.next=l,en(r,e.memoizedState)||(Tt=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=u,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,Se.lanes|=o,Yr|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Cc(t){var e=zt(),n=e.queue;if(n===null)throw Error(B(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=t(o,s.action),s=s.next;while(s!==i);en(o,e.memoizedState)||(Tt=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function s_(){}function a_(t,e){var n=Se,r=zt(),i=e(),o=!en(r.memoizedState,i);if(o&&(r.memoizedState=i,Tt=!0),r=r.queue,Xd(c_.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||Ke!==null&&Ke.memoizedState.tag&1){if(n.flags|=2048,Rs(9,u_.bind(null,n,r,i,e),void 0,null),Ge===null)throw Error(B(349));Xr&30||l_(n,e,i)}return i}function l_(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Se.updateQueue,e===null?(e={lastEffect:null,stores:null},Se.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function u_(t,e,n,r){e.value=n,e.getSnapshot=r,h_(e)&&d_(t)}function c_(t,e,n){return n(function(){h_(e)&&d_(t)})}function h_(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!en(t,n)}catch{return!0}}function d_(t){var e=Nn(t,1);e!==null&&Jt(e,t,1,-1)}function Zm(t){var e=on();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Is,lastRenderedState:t},e.queue=t,t=t.dispatch=kS.bind(null,Se,t),[e.memoizedState,t]}function Rs(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Se.updateQueue,e===null?(e={lastEffect:null,stores:null},Se.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function f_(){return zt().memoizedState}function Ka(t,e,n,r){var i=on();Se.flags|=t,i.memoizedState=Rs(1|e,n,void 0,r===void 0?null:r)}function iu(t,e,n,r){var i=zt();r=r===void 0?null:r;var o=void 0;if(Fe!==null){var s=Fe.memoizedState;if(o=s.destroy,r!==null&&qd(r,s.deps)){i.memoizedState=Rs(e,n,o,r);return}}Se.flags|=t,i.memoizedState=Rs(1|e,n,o,r)}function eg(t,e){return Ka(8390656,8,t,e)}function Xd(t,e){return iu(2048,8,t,e)}function p_(t,e){return iu(4,2,t,e)}function m_(t,e){return iu(4,4,t,e)}function g_(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function y_(t,e,n){return n=n!=null?n.concat([t]):null,iu(4,4,g_.bind(null,e,t),n)}function Yd(){}function v_(t,e){var n=zt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&qd(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function __(t,e){var n=zt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&qd(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function E_(t,e,n){return Xr&21?(en(n,e)||(n=Iv(),Se.lanes|=n,Yr|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Tt=!0),t.memoizedState=n)}function xS(t,e){var n=fe;fe=n!==0&&4>n?n:4,t(!0);var r=Tc.transition;Tc.transition={};try{t(!1),e()}finally{fe=n,Tc.transition=r}}function w_(){return zt().memoizedState}function AS(t,e,n){var r=ar(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},T_(t))S_(e,n);else if(n=r_(t,e,n,r),n!==null){var i=mt();Jt(n,t,r,i),C_(n,e,r)}}function kS(t,e,n){var r=ar(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(T_(t))S_(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var s=e.lastRenderedState,l=o(s,n);if(i.hasEagerState=!0,i.eagerState=l,en(l,s)){var u=e.interleaved;u===null?(i.next=i,Ud(e)):(i.next=u.next,u.next=i),e.interleaved=i;return}}catch{}finally{}n=r_(t,e,i,r),n!==null&&(i=mt(),Jt(n,t,r,i),C_(n,e,r))}}function T_(t){var e=t.alternate;return t===Se||e!==null&&e===Se}function S_(t,e){ns=Sl=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function C_(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Ad(t,n)}}var Cl={readContext:Ut,useCallback:ot,useContext:ot,useEffect:ot,useImperativeHandle:ot,useInsertionEffect:ot,useLayoutEffect:ot,useMemo:ot,useReducer:ot,useRef:ot,useState:ot,useDebugValue:ot,useDeferredValue:ot,useTransition:ot,useMutableSource:ot,useSyncExternalStore:ot,useId:ot,unstable_isNewReconciler:!1},PS={readContext:Ut,useCallback:function(t,e){return on().memoizedState=[t,e===void 0?null:e],t},useContext:Ut,useEffect:eg,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Ka(4194308,4,g_.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Ka(4194308,4,t,e)},useInsertionEffect:function(t,e){return Ka(4,2,t,e)},useMemo:function(t,e){var n=on();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=on();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=AS.bind(null,Se,t),[r.memoizedState,t]},useRef:function(t){var e=on();return t={current:t},e.memoizedState=t},useState:Zm,useDebugValue:Yd,useDeferredValue:function(t){return on().memoizedState=t},useTransition:function(){var t=Zm(!1),e=t[0];return t=xS.bind(null,t[1]),on().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Se,i=on();if(Ee){if(n===void 0)throw Error(B(407));n=n()}else{if(n=e(),Ge===null)throw Error(B(349));Xr&30||l_(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,eg(c_.bind(null,r,o,t),[t]),r.flags|=2048,Rs(9,u_.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=on(),e=Ge.identifierPrefix;if(Ee){var n=Sn,r=Tn;n=(r&~(1<<32-Yt(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Cs++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=RS++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},NS={readContext:Ut,useCallback:v_,useContext:Ut,useEffect:Xd,useImperativeHandle:y_,useInsertionEffect:p_,useLayoutEffect:m_,useMemo:__,useReducer:Sc,useRef:f_,useState:function(){return Sc(Is)},useDebugValue:Yd,useDeferredValue:function(t){var e=zt();return E_(e,Fe.memoizedState,t)},useTransition:function(){var t=Sc(Is)[0],e=zt().memoizedState;return[t,e]},useMutableSource:s_,useSyncExternalStore:a_,useId:w_,unstable_isNewReconciler:!1},DS={readContext:Ut,useCallback:v_,useContext:Ut,useEffect:Xd,useImperativeHandle:y_,useInsertionEffect:p_,useLayoutEffect:m_,useMemo:__,useReducer:Cc,useRef:f_,useState:function(){return Cc(Is)},useDebugValue:Yd,useDeferredValue:function(t){var e=zt();return Fe===null?e.memoizedState=t:E_(e,Fe.memoizedState,t)},useTransition:function(){var t=Cc(Is)[0],e=zt().memoizedState;return[t,e]},useMutableSource:s_,useSyncExternalStore:a_,useId:w_,unstable_isNewReconciler:!1};function qt(t,e){if(t&&t.defaultProps){e=Ie({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function wh(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Ie({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var ou={isMounted:function(t){return(t=t._reactInternals)?ti(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=mt(),i=ar(t),o=Cn(r,i);o.payload=e,n!=null&&(o.callback=n),e=or(t,o,i),e!==null&&(Jt(e,t,i,r),Ha(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=mt(),i=ar(t),o=Cn(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=or(t,o,i),e!==null&&(Jt(e,t,i,r),Ha(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=mt(),r=ar(t),i=Cn(n,r);i.tag=2,e!=null&&(i.callback=e),e=or(t,i,r),e!==null&&(Jt(e,t,r,n),Ha(e,t,r))}};function tg(t,e,n,r,i,o,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,s):e.prototype&&e.prototype.isPureReactComponent?!vs(n,r)||!vs(i,o):!0}function I_(t,e,n){var r=!1,i=pr,o=e.contextType;return typeof o=="object"&&o!==null?o=Ut(o):(i=Ct(e)?Gr:ht.current,r=e.contextTypes,o=(r=r!=null)?$i(t,i):pr),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=ou,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function ng(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&ou.enqueueReplaceState(e,e.state,null)}function Th(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},zd(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=Ut(o):(o=Ct(e)?Gr:ht.current,i.context=$i(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(wh(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&ou.enqueueReplaceState(i,i.state,null),wl(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Wi(t,e){try{var n="",r=e;do n+=sT(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function Ic(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Sh(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var VS=typeof WeakMap=="function"?WeakMap:Map;function R_(t,e,n){n=Cn(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Rl||(Rl=!0,Vh=r),Sh(t,e)},n}function x_(t,e,n){n=Cn(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Sh(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){Sh(t,e),typeof r!="function"&&(sr===null?sr=new Set([this]):sr.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function rg(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new VS;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=qS.bind(null,t,e,n),e.then(t,t))}function ig(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function og(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Cn(-1,1),e.tag=2,or(n,e,1))),n.lanes|=1),t)}var OS=Fn.ReactCurrentOwner,Tt=!1;function ft(t,e,n,r){e.child=t===null?n_(e,null,n,r):zi(e,t.child,n,r)}function sg(t,e,n,r,i){n=n.render;var o=e.ref;return Li(e,i),r=Gd(t,e,n,r,o,i),n=Qd(),t!==null&&!Tt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Dn(t,e,i)):(Ee&&n&&Md(e),e.flags|=1,ft(t,e,r,i),e.child)}function ag(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!sf(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,A_(t,e,o,r,i)):(t=Xa(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:vs,n(s,r)&&t.ref===e.ref)return Dn(t,e,i)}return e.flags|=1,t=lr(o,r),t.ref=e.ref,t.return=e,e.child=t}function A_(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(vs(o,r)&&t.ref===e.ref)if(Tt=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(Tt=!0);else return e.lanes=t.lanes,Dn(t,e,i)}return Ch(t,e,n,r,i)}function k_(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ge(ki,kt),kt|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ge(ki,kt),kt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,ge(ki,kt),kt|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,ge(ki,kt),kt|=r;return ft(t,e,i,n),e.child}function P_(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Ch(t,e,n,r,i){var o=Ct(n)?Gr:ht.current;return o=$i(e,o),Li(e,i),n=Gd(t,e,n,r,o,i),r=Qd(),t!==null&&!Tt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Dn(t,e,i)):(Ee&&r&&Md(e),e.flags|=1,ft(t,e,n,i),e.child)}function lg(t,e,n,r,i){if(Ct(n)){var o=!0;gl(e)}else o=!1;if(Li(e,i),e.stateNode===null)qa(t,e),I_(e,n,r),Th(e,n,r,i),r=!0;else if(t===null){var s=e.stateNode,l=e.memoizedProps;s.props=l;var u=s.context,c=n.contextType;typeof c=="object"&&c!==null?c=Ut(c):(c=Ct(n)?Gr:ht.current,c=$i(e,c));var d=n.getDerivedStateFromProps,p=typeof d=="function"||typeof s.getSnapshotBeforeUpdate=="function";p||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l!==r||u!==c)&&ng(e,s,r,c),Gn=!1;var m=e.memoizedState;s.state=m,wl(e,r,s,i),u=e.memoizedState,l!==r||m!==u||St.current||Gn?(typeof d=="function"&&(wh(e,n,d,r),u=e.memoizedState),(l=Gn||tg(e,n,l,r,m,u,c))?(p||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=u),s.props=r,s.state=u,s.context=c,r=l):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,i_(t,e),l=e.memoizedProps,c=e.type===e.elementType?l:qt(e.type,l),s.props=c,p=e.pendingProps,m=s.context,u=n.contextType,typeof u=="object"&&u!==null?u=Ut(u):(u=Ct(n)?Gr:ht.current,u=$i(e,u));var T=n.getDerivedStateFromProps;(d=typeof T=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l!==p||m!==u)&&ng(e,s,r,u),Gn=!1,m=e.memoizedState,s.state=m,wl(e,r,s,i);var k=e.memoizedState;l!==p||m!==k||St.current||Gn?(typeof T=="function"&&(wh(e,n,T,r),k=e.memoizedState),(c=Gn||tg(e,n,c,r,m,k,u)||!1)?(d||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,k,u),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,k,u)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=k),s.props=r,s.state=k,s.context=u,r=c):(typeof s.componentDidUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),r=!1)}return Ih(t,e,n,r,o,i)}function Ih(t,e,n,r,i,o){P_(t,e);var s=(e.flags&128)!==0;if(!r&&!s)return i&&qm(e,n,!1),Dn(t,e,o);r=e.stateNode,OS.current=e;var l=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&s?(e.child=zi(e,t.child,null,o),e.child=zi(e,null,l,o)):ft(t,e,l,o),e.memoizedState=r.state,i&&qm(e,n,!0),e.child}function N_(t){var e=t.stateNode;e.pendingContext?Km(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Km(t,e.context,!1),Hd(t,e.containerInfo)}function ug(t,e,n,r,i){return Ui(),jd(i),e.flags|=256,ft(t,e,n,r),e.child}var Rh={dehydrated:null,treeContext:null,retryLane:0};function xh(t){return{baseLanes:t,cachePool:null,transitions:null}}function D_(t,e,n){var r=e.pendingProps,i=Te.current,o=!1,s=(e.flags&128)!==0,l;if((l=s)||(l=t!==null&&t.memoizedState===null?!1:(i&2)!==0),l?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),ge(Te,i&1),t===null)return _h(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=r.children,t=r.fallback,o?(r=e.mode,o=e.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=lu(s,r,0,null),t=Hr(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=xh(n),e.memoizedState=Rh,t):Jd(e,s));if(i=t.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return LS(t,e,s,r,l,i,n);if(o){o=r.fallback,s=e.mode,i=t.child,l=i.sibling;var u={mode:"hidden",children:r.children};return!(s&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=u,e.deletions=null):(r=lr(i,u),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?o=lr(l,o):(o=Hr(o,s,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,s=t.child.memoizedState,s=s===null?xh(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=t.childLanes&~n,e.memoizedState=Rh,r}return o=t.child,t=o.sibling,r=lr(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Jd(t,e){return e=lu({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function xa(t,e,n,r){return r!==null&&jd(r),zi(e,t.child,null,n),t=Jd(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function LS(t,e,n,r,i,o,s){if(n)return e.flags&256?(e.flags&=-257,r=Ic(Error(B(422))),xa(t,e,s,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=lu({mode:"visible",children:r.children},i,0,null),o=Hr(o,i,s,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&zi(e,t.child,null,s),e.child.memoizedState=xh(s),e.memoizedState=Rh,o);if(!(e.mode&1))return xa(t,e,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,o=Error(B(419)),r=Ic(o,r,void 0),xa(t,e,s,r)}if(l=(s&t.childLanes)!==0,Tt||l){if(r=Ge,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,Nn(t,i),Jt(r,t,i,-1))}return of(),r=Ic(Error(B(421))),xa(t,e,s,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=GS.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,Nt=ir(i.nextSibling),Vt=e,Ee=!0,Qt=null,t!==null&&(jt[Ft++]=Tn,jt[Ft++]=Sn,jt[Ft++]=Qr,Tn=t.id,Sn=t.overflow,Qr=e),e=Jd(e,r.children),e.flags|=4096,e)}function cg(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Eh(t.return,e,n)}function Rc(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function V_(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(ft(t,e,r.children,n),r=Te.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&cg(t,n,e);else if(t.tag===19)cg(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(ge(Te,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Tl(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Rc(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Tl(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Rc(e,!0,n,null,o);break;case"together":Rc(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function qa(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Dn(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Yr|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(B(153));if(e.child!==null){for(t=e.child,n=lr(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=lr(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function MS(t,e,n){switch(e.tag){case 3:N_(e),Ui();break;case 5:o_(e);break;case 1:Ct(e.type)&&gl(e);break;case 4:Hd(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;ge(_l,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(ge(Te,Te.current&1),e.flags|=128,null):n&e.child.childLanes?D_(t,e,n):(ge(Te,Te.current&1),t=Dn(t,e,n),t!==null?t.sibling:null);ge(Te,Te.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return V_(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ge(Te,Te.current),r)break;return null;case 22:case 23:return e.lanes=0,k_(t,e,n)}return Dn(t,e,n)}var O_,Ah,L_,M_;O_=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Ah=function(){};L_=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,$r(ln.current);var o=null;switch(n){case"input":i=Xc(t,i),r=Xc(t,r),o=[];break;case"select":i=Ie({},i,{value:void 0}),r=Ie({},r,{value:void 0}),o=[];break;case"textarea":i=Zc(t,i),r=Zc(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=pl)}th(n,r);var s;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var l=i[c];for(s in l)l.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(hs.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in r){var u=r[c];if(l=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&u!==l&&(u!=null||l!=null))if(c==="style")if(l){for(s in l)!l.hasOwnProperty(s)||u&&u.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in u)u.hasOwnProperty(s)&&l[s]!==u[s]&&(n||(n={}),n[s]=u[s])}else n||(o||(o=[]),o.push(c,n)),n=u;else c==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,l=l?l.__html:void 0,u!=null&&l!==u&&(o=o||[]).push(c,u)):c==="children"?typeof u!="string"&&typeof u!="number"||(o=o||[]).push(c,""+u):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(hs.hasOwnProperty(c)?(u!=null&&c==="onScroll"&&ve("scroll",t),o||l===u||(o=[])):(o=o||[]).push(c,u))}n&&(o=o||[]).push("style",n);var c=o;(e.updateQueue=c)&&(e.flags|=4)}};M_=function(t,e,n,r){n!==r&&(e.flags|=4)};function jo(t,e){if(!Ee)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function st(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function bS(t,e,n){var r=e.pendingProps;switch(bd(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return st(e),null;case 1:return Ct(e.type)&&ml(),st(e),null;case 3:return r=e.stateNode,Hi(),_e(St),_e(ht),Kd(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Ia(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Qt!==null&&(Mh(Qt),Qt=null))),Ah(t,e),st(e),null;case 5:Wd(e);var i=$r(Ss.current);if(n=e.type,t!==null&&e.stateNode!=null)L_(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(B(166));return st(e),null}if(t=$r(ln.current),Ia(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[sn]=e,r[ws]=o,t=(e.mode&1)!==0,n){case"dialog":ve("cancel",r),ve("close",r);break;case"iframe":case"object":case"embed":ve("load",r);break;case"video":case"audio":for(i=0;i<Wo.length;i++)ve(Wo[i],r);break;case"source":ve("error",r);break;case"img":case"image":case"link":ve("error",r),ve("load",r);break;case"details":ve("toggle",r);break;case"input":_m(r,o),ve("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},ve("invalid",r);break;case"textarea":wm(r,o),ve("invalid",r)}th(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var l=o[s];s==="children"?typeof l=="string"?r.textContent!==l&&(o.suppressHydrationWarning!==!0&&Ca(r.textContent,l,t),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(o.suppressHydrationWarning!==!0&&Ca(r.textContent,l,t),i=["children",""+l]):hs.hasOwnProperty(s)&&l!=null&&s==="onScroll"&&ve("scroll",r)}switch(n){case"input":ga(r),Em(r,o,!0);break;case"textarea":ga(r),Tm(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=pl)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=cv(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=s.createElement(n,{is:r.is}):(t=s.createElement(n),n==="select"&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,n),t[sn]=e,t[ws]=r,O_(t,e,!1,!1),e.stateNode=t;e:{switch(s=nh(n,r),n){case"dialog":ve("cancel",t),ve("close",t),i=r;break;case"iframe":case"object":case"embed":ve("load",t),i=r;break;case"video":case"audio":for(i=0;i<Wo.length;i++)ve(Wo[i],t);i=r;break;case"source":ve("error",t),i=r;break;case"img":case"image":case"link":ve("error",t),ve("load",t),i=r;break;case"details":ve("toggle",t),i=r;break;case"input":_m(t,r),i=Xc(t,r),ve("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Ie({},r,{value:void 0}),ve("invalid",t);break;case"textarea":wm(t,r),i=Zc(t,r),ve("invalid",t);break;default:i=r}th(n,i),l=i;for(o in l)if(l.hasOwnProperty(o)){var u=l[o];o==="style"?fv(t,u):o==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&hv(t,u)):o==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&ds(t,u):typeof u=="number"&&ds(t,""+u):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(hs.hasOwnProperty(o)?u!=null&&o==="onScroll"&&ve("scroll",t):u!=null&&Td(t,o,u,s))}switch(n){case"input":ga(t),Em(t,r,!1);break;case"textarea":ga(t),Tm(t);break;case"option":r.value!=null&&t.setAttribute("value",""+fr(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?Ni(t,!!r.multiple,o,!1):r.defaultValue!=null&&Ni(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=pl)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return st(e),null;case 6:if(t&&e.stateNode!=null)M_(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(B(166));if(n=$r(Ss.current),$r(ln.current),Ia(e)){if(r=e.stateNode,n=e.memoizedProps,r[sn]=e,(o=r.nodeValue!==n)&&(t=Vt,t!==null))switch(t.tag){case 3:Ca(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Ca(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[sn]=e,e.stateNode=r}return st(e),null;case 13:if(_e(Te),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ee&&Nt!==null&&e.mode&1&&!(e.flags&128))e_(),Ui(),e.flags|=98560,o=!1;else if(o=Ia(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(B(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(B(317));o[sn]=e}else Ui(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;st(e),o=!1}else Qt!==null&&(Mh(Qt),Qt=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Te.current&1?Ue===0&&(Ue=3):of())),e.updateQueue!==null&&(e.flags|=4),st(e),null);case 4:return Hi(),Ah(t,e),t===null&&_s(e.stateNode.containerInfo),st(e),null;case 10:return $d(e.type._context),st(e),null;case 17:return Ct(e.type)&&ml(),st(e),null;case 19:if(_e(Te),o=e.memoizedState,o===null)return st(e),null;if(r=(e.flags&128)!==0,s=o.rendering,s===null)if(r)jo(o,!1);else{if(Ue!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=Tl(t),s!==null){for(e.flags|=128,jo(o,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,t=s.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return ge(Te,Te.current&1|2),e.child}t=t.sibling}o.tail!==null&&Ne()>Ki&&(e.flags|=128,r=!0,jo(o,!1),e.lanes=4194304)}else{if(!r)if(t=Tl(s),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),jo(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!Ee)return st(e),null}else 2*Ne()-o.renderingStartTime>Ki&&n!==1073741824&&(e.flags|=128,r=!0,jo(o,!1),e.lanes=4194304);o.isBackwards?(s.sibling=e.child,e.child=s):(n=o.last,n!==null?n.sibling=s:e.child=s,o.last=s)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Ne(),e.sibling=null,n=Te.current,ge(Te,r?n&1|2:n&1),e):(st(e),null);case 22:case 23:return rf(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?kt&1073741824&&(st(e),e.subtreeFlags&6&&(e.flags|=8192)):st(e),null;case 24:return null;case 25:return null}throw Error(B(156,e.tag))}function jS(t,e){switch(bd(e),e.tag){case 1:return Ct(e.type)&&ml(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Hi(),_e(St),_e(ht),Kd(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Wd(e),null;case 13:if(_e(Te),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(B(340));Ui()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return _e(Te),null;case 4:return Hi(),null;case 10:return $d(e.type._context),null;case 22:case 23:return rf(),null;case 24:return null;default:return null}}var Aa=!1,ut=!1,FS=typeof WeakSet=="function"?WeakSet:Set,H=null;function Ai(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ke(t,e,r)}else n.current=null}function kh(t,e,n){try{n()}catch(r){ke(t,e,r)}}var hg=!1;function BS(t,e){if(dh=hl,t=$v(),Ld(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,l=-1,u=-1,c=0,d=0,p=t,m=null;t:for(;;){for(var T;p!==n||i!==0&&p.nodeType!==3||(l=s+i),p!==o||r!==0&&p.nodeType!==3||(u=s+r),p.nodeType===3&&(s+=p.nodeValue.length),(T=p.firstChild)!==null;)m=p,p=T;for(;;){if(p===t)break t;if(m===n&&++c===i&&(l=s),m===o&&++d===r&&(u=s),(T=p.nextSibling)!==null)break;p=m,m=p.parentNode}p=T}n=l===-1||u===-1?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(fh={focusedElem:t,selectionRange:n},hl=!1,H=e;H!==null;)if(e=H,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,H=t;else for(;H!==null;){e=H;try{var k=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(k!==null){var P=k.memoizedProps,N=k.memoizedState,w=e.stateNode,E=w.getSnapshotBeforeUpdate(e.elementType===e.type?P:qt(e.type,P),N);w.__reactInternalSnapshotBeforeUpdate=E}break;case 3:var I=e.stateNode.containerInfo;I.nodeType===1?I.textContent="":I.nodeType===9&&I.documentElement&&I.removeChild(I.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(B(163))}}catch(O){ke(e,e.return,O)}if(t=e.sibling,t!==null){t.return=e.return,H=t;break}H=e.return}return k=hg,hg=!1,k}function rs(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&kh(e,n,o)}i=i.next}while(i!==r)}}function su(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Ph(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function b_(t){var e=t.alternate;e!==null&&(t.alternate=null,b_(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[sn],delete e[ws],delete e[gh],delete e[TS],delete e[SS])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function j_(t){return t.tag===5||t.tag===3||t.tag===4}function dg(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||j_(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Nh(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=pl));else if(r!==4&&(t=t.child,t!==null))for(Nh(t,e,n),t=t.sibling;t!==null;)Nh(t,e,n),t=t.sibling}function Dh(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Dh(t,e,n),t=t.sibling;t!==null;)Dh(t,e,n),t=t.sibling}var Ye=null,Gt=!1;function Kn(t,e,n){for(n=n.child;n!==null;)F_(t,e,n),n=n.sibling}function F_(t,e,n){if(an&&typeof an.onCommitFiberUnmount=="function")try{an.onCommitFiberUnmount(Jl,n)}catch{}switch(n.tag){case 5:ut||Ai(n,e);case 6:var r=Ye,i=Gt;Ye=null,Kn(t,e,n),Ye=r,Gt=i,Ye!==null&&(Gt?(t=Ye,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Ye.removeChild(n.stateNode));break;case 18:Ye!==null&&(Gt?(t=Ye,n=n.stateNode,t.nodeType===8?_c(t.parentNode,n):t.nodeType===1&&_c(t,n),gs(t)):_c(Ye,n.stateNode));break;case 4:r=Ye,i=Gt,Ye=n.stateNode.containerInfo,Gt=!0,Kn(t,e,n),Ye=r,Gt=i;break;case 0:case 11:case 14:case 15:if(!ut&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&kh(n,e,s),i=i.next}while(i!==r)}Kn(t,e,n);break;case 1:if(!ut&&(Ai(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){ke(n,e,l)}Kn(t,e,n);break;case 21:Kn(t,e,n);break;case 22:n.mode&1?(ut=(r=ut)||n.memoizedState!==null,Kn(t,e,n),ut=r):Kn(t,e,n);break;default:Kn(t,e,n)}}function fg(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new FS),e.forEach(function(r){var i=QS.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Kt(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,s=e,l=s;e:for(;l!==null;){switch(l.tag){case 5:Ye=l.stateNode,Gt=!1;break e;case 3:Ye=l.stateNode.containerInfo,Gt=!0;break e;case 4:Ye=l.stateNode.containerInfo,Gt=!0;break e}l=l.return}if(Ye===null)throw Error(B(160));F_(o,s,i),Ye=null,Gt=!1;var u=i.alternate;u!==null&&(u.return=null),i.return=null}catch(c){ke(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)B_(e,t),e=e.sibling}function B_(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Kt(e,t),rn(t),r&4){try{rs(3,t,t.return),su(3,t)}catch(P){ke(t,t.return,P)}try{rs(5,t,t.return)}catch(P){ke(t,t.return,P)}}break;case 1:Kt(e,t),rn(t),r&512&&n!==null&&Ai(n,n.return);break;case 5:if(Kt(e,t),rn(t),r&512&&n!==null&&Ai(n,n.return),t.flags&32){var i=t.stateNode;try{ds(i,"")}catch(P){ke(t,t.return,P)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,s=n!==null?n.memoizedProps:o,l=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{l==="input"&&o.type==="radio"&&o.name!=null&&lv(i,o),nh(l,s);var c=nh(l,o);for(s=0;s<u.length;s+=2){var d=u[s],p=u[s+1];d==="style"?fv(i,p):d==="dangerouslySetInnerHTML"?hv(i,p):d==="children"?ds(i,p):Td(i,d,p,c)}switch(l){case"input":Yc(i,o);break;case"textarea":uv(i,o);break;case"select":var m=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var T=o.value;T!=null?Ni(i,!!o.multiple,T,!1):m!==!!o.multiple&&(o.defaultValue!=null?Ni(i,!!o.multiple,o.defaultValue,!0):Ni(i,!!o.multiple,o.multiple?[]:"",!1))}i[ws]=o}catch(P){ke(t,t.return,P)}}break;case 6:if(Kt(e,t),rn(t),r&4){if(t.stateNode===null)throw Error(B(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(P){ke(t,t.return,P)}}break;case 3:if(Kt(e,t),rn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{gs(e.containerInfo)}catch(P){ke(t,t.return,P)}break;case 4:Kt(e,t),rn(t);break;case 13:Kt(e,t),rn(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(tf=Ne())),r&4&&fg(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(ut=(c=ut)||d,Kt(e,t),ut=c):Kt(e,t),rn(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!d&&t.mode&1)for(H=t,d=t.child;d!==null;){for(p=H=d;H!==null;){switch(m=H,T=m.child,m.tag){case 0:case 11:case 14:case 15:rs(4,m,m.return);break;case 1:Ai(m,m.return);var k=m.stateNode;if(typeof k.componentWillUnmount=="function"){r=m,n=m.return;try{e=r,k.props=e.memoizedProps,k.state=e.memoizedState,k.componentWillUnmount()}catch(P){ke(r,n,P)}}break;case 5:Ai(m,m.return);break;case 22:if(m.memoizedState!==null){mg(p);continue}}T!==null?(T.return=m,H=T):mg(p)}d=d.sibling}e:for(d=null,p=t;;){if(p.tag===5){if(d===null){d=p;try{i=p.stateNode,c?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(l=p.stateNode,u=p.memoizedProps.style,s=u!=null&&u.hasOwnProperty("display")?u.display:null,l.style.display=dv("display",s))}catch(P){ke(t,t.return,P)}}}else if(p.tag===6){if(d===null)try{p.stateNode.nodeValue=c?"":p.memoizedProps}catch(P){ke(t,t.return,P)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===t)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===t)break e;for(;p.sibling===null;){if(p.return===null||p.return===t)break e;d===p&&(d=null),p=p.return}d===p&&(d=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:Kt(e,t),rn(t),r&4&&fg(t);break;case 21:break;default:Kt(e,t),rn(t)}}function rn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(j_(n)){var r=n;break e}n=n.return}throw Error(B(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(ds(i,""),r.flags&=-33);var o=dg(t);Dh(t,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,l=dg(t);Nh(t,l,s);break;default:throw Error(B(161))}}catch(u){ke(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function $S(t,e,n){H=t,$_(t)}function $_(t,e,n){for(var r=(t.mode&1)!==0;H!==null;){var i=H,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||Aa;if(!s){var l=i.alternate,u=l!==null&&l.memoizedState!==null||ut;l=Aa;var c=ut;if(Aa=s,(ut=u)&&!c)for(H=i;H!==null;)s=H,u=s.child,s.tag===22&&s.memoizedState!==null?gg(i):u!==null?(u.return=s,H=u):gg(i);for(;o!==null;)H=o,$_(o),o=o.sibling;H=i,Aa=l,ut=c}pg(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,H=o):pg(t)}}function pg(t){for(;H!==null;){var e=H;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:ut||su(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!ut)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:qt(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&Jm(e,o,r);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Jm(e,s,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var p=d.dehydrated;p!==null&&gs(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(B(163))}ut||e.flags&512&&Ph(e)}catch(m){ke(e,e.return,m)}}if(e===t){H=null;break}if(n=e.sibling,n!==null){n.return=e.return,H=n;break}H=e.return}}function mg(t){for(;H!==null;){var e=H;if(e===t){H=null;break}var n=e.sibling;if(n!==null){n.return=e.return,H=n;break}H=e.return}}function gg(t){for(;H!==null;){var e=H;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{su(4,e)}catch(u){ke(e,n,u)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(u){ke(e,i,u)}}var o=e.return;try{Ph(e)}catch(u){ke(e,o,u)}break;case 5:var s=e.return;try{Ph(e)}catch(u){ke(e,s,u)}}}catch(u){ke(e,e.return,u)}if(e===t){H=null;break}var l=e.sibling;if(l!==null){l.return=e.return,H=l;break}H=e.return}}var US=Math.ceil,Il=Fn.ReactCurrentDispatcher,Zd=Fn.ReactCurrentOwner,$t=Fn.ReactCurrentBatchConfig,ue=0,Ge=null,Le=null,et=0,kt=0,ki=Sr(0),Ue=0,xs=null,Yr=0,au=0,ef=0,is=null,Et=null,tf=0,Ki=1/0,_n=null,Rl=!1,Vh=null,sr=null,ka=!1,Zn=null,xl=0,os=0,Oh=null,Ga=-1,Qa=0;function mt(){return ue&6?Ne():Ga!==-1?Ga:Ga=Ne()}function ar(t){return t.mode&1?ue&2&&et!==0?et&-et:IS.transition!==null?(Qa===0&&(Qa=Iv()),Qa):(t=fe,t!==0||(t=window.event,t=t===void 0?16:Dv(t.type)),t):1}function Jt(t,e,n,r){if(50<os)throw os=0,Oh=null,Error(B(185));Fs(t,n,r),(!(ue&2)||t!==Ge)&&(t===Ge&&(!(ue&2)&&(au|=n),Ue===4&&Yn(t,et)),It(t,r),n===1&&ue===0&&!(e.mode&1)&&(Ki=Ne()+500,ru&&Cr()))}function It(t,e){var n=t.callbackNode;IT(t,e);var r=cl(t,t===Ge?et:0);if(r===0)n!==null&&Im(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Im(n),e===1)t.tag===0?CS(yg.bind(null,t)):Yv(yg.bind(null,t)),ES(function(){!(ue&6)&&Cr()}),n=null;else{switch(Rv(r)){case 1:n=xd;break;case 4:n=Sv;break;case 16:n=ul;break;case 536870912:n=Cv;break;default:n=ul}n=Q_(n,U_.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function U_(t,e){if(Ga=-1,Qa=0,ue&6)throw Error(B(327));var n=t.callbackNode;if(Mi()&&t.callbackNode!==n)return null;var r=cl(t,t===Ge?et:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Al(t,r);else{e=r;var i=ue;ue|=2;var o=H_();(Ge!==t||et!==e)&&(_n=null,Ki=Ne()+500,zr(t,e));do try{WS();break}catch(l){z_(t,l)}while(!0);Bd(),Il.current=o,ue=i,Le!==null?e=0:(Ge=null,et=0,e=Ue)}if(e!==0){if(e===2&&(i=ah(t),i!==0&&(r=i,e=Lh(t,i))),e===1)throw n=xs,zr(t,0),Yn(t,r),It(t,Ne()),n;if(e===6)Yn(t,r);else{if(i=t.current.alternate,!(r&30)&&!zS(i)&&(e=Al(t,r),e===2&&(o=ah(t),o!==0&&(r=o,e=Lh(t,o))),e===1))throw n=xs,zr(t,0),Yn(t,r),It(t,Ne()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(B(345));case 2:Mr(t,Et,_n);break;case 3:if(Yn(t,r),(r&130023424)===r&&(e=tf+500-Ne(),10<e)){if(cl(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){mt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=mh(Mr.bind(null,t,Et,_n),e);break}Mr(t,Et,_n);break;case 4:if(Yn(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var s=31-Yt(r);o=1<<s,s=e[s],s>i&&(i=s),r&=~o}if(r=i,r=Ne()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*US(r/1960))-r,10<r){t.timeoutHandle=mh(Mr.bind(null,t,Et,_n),r);break}Mr(t,Et,_n);break;case 5:Mr(t,Et,_n);break;default:throw Error(B(329))}}}return It(t,Ne()),t.callbackNode===n?U_.bind(null,t):null}function Lh(t,e){var n=is;return t.current.memoizedState.isDehydrated&&(zr(t,e).flags|=256),t=Al(t,e),t!==2&&(e=Et,Et=n,e!==null&&Mh(e)),t}function Mh(t){Et===null?Et=t:Et.push.apply(Et,t)}function zS(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!en(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Yn(t,e){for(e&=~ef,e&=~au,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Yt(e),r=1<<n;t[n]=-1,e&=~r}}function yg(t){if(ue&6)throw Error(B(327));Mi();var e=cl(t,0);if(!(e&1))return It(t,Ne()),null;var n=Al(t,e);if(t.tag!==0&&n===2){var r=ah(t);r!==0&&(e=r,n=Lh(t,r))}if(n===1)throw n=xs,zr(t,0),Yn(t,e),It(t,Ne()),n;if(n===6)throw Error(B(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Mr(t,Et,_n),It(t,Ne()),null}function nf(t,e){var n=ue;ue|=1;try{return t(e)}finally{ue=n,ue===0&&(Ki=Ne()+500,ru&&Cr())}}function Jr(t){Zn!==null&&Zn.tag===0&&!(ue&6)&&Mi();var e=ue;ue|=1;var n=$t.transition,r=fe;try{if($t.transition=null,fe=1,t)return t()}finally{fe=r,$t.transition=n,ue=e,!(ue&6)&&Cr()}}function rf(){kt=ki.current,_e(ki)}function zr(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,_S(n)),Le!==null)for(n=Le.return;n!==null;){var r=n;switch(bd(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&ml();break;case 3:Hi(),_e(St),_e(ht),Kd();break;case 5:Wd(r);break;case 4:Hi();break;case 13:_e(Te);break;case 19:_e(Te);break;case 10:$d(r.type._context);break;case 22:case 23:rf()}n=n.return}if(Ge=t,Le=t=lr(t.current,null),et=kt=e,Ue=0,xs=null,ef=au=Yr=0,Et=is=null,Br!==null){for(e=0;e<Br.length;e++)if(n=Br[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}Br=null}return t}function z_(t,e){do{var n=Le;try{if(Bd(),Wa.current=Cl,Sl){for(var r=Se.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Sl=!1}if(Xr=0,Ke=Fe=Se=null,ns=!1,Cs=0,Zd.current=null,n===null||n.return===null){Ue=1,xs=e,Le=null;break}e:{var o=t,s=n.return,l=n,u=e;if(e=et,l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var c=u,d=l,p=d.tag;if(!(d.mode&1)&&(p===0||p===11||p===15)){var m=d.alternate;m?(d.updateQueue=m.updateQueue,d.memoizedState=m.memoizedState,d.lanes=m.lanes):(d.updateQueue=null,d.memoizedState=null)}var T=ig(s);if(T!==null){T.flags&=-257,og(T,s,l,o,e),T.mode&1&&rg(o,c,e),e=T,u=c;var k=e.updateQueue;if(k===null){var P=new Set;P.add(u),e.updateQueue=P}else k.add(u);break e}else{if(!(e&1)){rg(o,c,e),of();break e}u=Error(B(426))}}else if(Ee&&l.mode&1){var N=ig(s);if(N!==null){!(N.flags&65536)&&(N.flags|=256),og(N,s,l,o,e),jd(Wi(u,l));break e}}o=u=Wi(u,l),Ue!==4&&(Ue=2),is===null?is=[o]:is.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var w=R_(o,u,e);Ym(o,w);break e;case 1:l=u;var E=o.type,I=o.stateNode;if(!(o.flags&128)&&(typeof E.getDerivedStateFromError=="function"||I!==null&&typeof I.componentDidCatch=="function"&&(sr===null||!sr.has(I)))){o.flags|=65536,e&=-e,o.lanes|=e;var O=x_(o,l,e);Ym(o,O);break e}}o=o.return}while(o!==null)}K_(n)}catch(j){e=j,Le===n&&n!==null&&(Le=n=n.return);continue}break}while(!0)}function H_(){var t=Il.current;return Il.current=Cl,t===null?Cl:t}function of(){(Ue===0||Ue===3||Ue===2)&&(Ue=4),Ge===null||!(Yr&268435455)&&!(au&268435455)||Yn(Ge,et)}function Al(t,e){var n=ue;ue|=2;var r=H_();(Ge!==t||et!==e)&&(_n=null,zr(t,e));do try{HS();break}catch(i){z_(t,i)}while(!0);if(Bd(),ue=n,Il.current=r,Le!==null)throw Error(B(261));return Ge=null,et=0,Ue}function HS(){for(;Le!==null;)W_(Le)}function WS(){for(;Le!==null&&!gT();)W_(Le)}function W_(t){var e=G_(t.alternate,t,kt);t.memoizedProps=t.pendingProps,e===null?K_(t):Le=e,Zd.current=null}function K_(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=jS(n,e),n!==null){n.flags&=32767,Le=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ue=6,Le=null;return}}else if(n=bS(n,e,kt),n!==null){Le=n;return}if(e=e.sibling,e!==null){Le=e;return}Le=e=t}while(e!==null);Ue===0&&(Ue=5)}function Mr(t,e,n){var r=fe,i=$t.transition;try{$t.transition=null,fe=1,KS(t,e,n,r)}finally{$t.transition=i,fe=r}return null}function KS(t,e,n,r){do Mi();while(Zn!==null);if(ue&6)throw Error(B(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(B(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(RT(t,o),t===Ge&&(Le=Ge=null,et=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ka||(ka=!0,Q_(ul,function(){return Mi(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=$t.transition,$t.transition=null;var s=fe;fe=1;var l=ue;ue|=4,Zd.current=null,BS(t,n),B_(n,t),dS(fh),hl=!!dh,fh=dh=null,t.current=n,$S(n),yT(),ue=l,fe=s,$t.transition=o}else t.current=n;if(ka&&(ka=!1,Zn=t,xl=i),o=t.pendingLanes,o===0&&(sr=null),ET(n.stateNode),It(t,Ne()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Rl)throw Rl=!1,t=Vh,Vh=null,t;return xl&1&&t.tag!==0&&Mi(),o=t.pendingLanes,o&1?t===Oh?os++:(os=0,Oh=t):os=0,Cr(),null}function Mi(){if(Zn!==null){var t=Rv(xl),e=$t.transition,n=fe;try{if($t.transition=null,fe=16>t?16:t,Zn===null)var r=!1;else{if(t=Zn,Zn=null,xl=0,ue&6)throw Error(B(331));var i=ue;for(ue|=4,H=t.current;H!==null;){var o=H,s=o.child;if(H.flags&16){var l=o.deletions;if(l!==null){for(var u=0;u<l.length;u++){var c=l[u];for(H=c;H!==null;){var d=H;switch(d.tag){case 0:case 11:case 15:rs(8,d,o)}var p=d.child;if(p!==null)p.return=d,H=p;else for(;H!==null;){d=H;var m=d.sibling,T=d.return;if(b_(d),d===c){H=null;break}if(m!==null){m.return=T,H=m;break}H=T}}}var k=o.alternate;if(k!==null){var P=k.child;if(P!==null){k.child=null;do{var N=P.sibling;P.sibling=null,P=N}while(P!==null)}}H=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,H=s;else e:for(;H!==null;){if(o=H,o.flags&2048)switch(o.tag){case 0:case 11:case 15:rs(9,o,o.return)}var w=o.sibling;if(w!==null){w.return=o.return,H=w;break e}H=o.return}}var E=t.current;for(H=E;H!==null;){s=H;var I=s.child;if(s.subtreeFlags&2064&&I!==null)I.return=s,H=I;else e:for(s=E;H!==null;){if(l=H,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:su(9,l)}}catch(j){ke(l,l.return,j)}if(l===s){H=null;break e}var O=l.sibling;if(O!==null){O.return=l.return,H=O;break e}H=l.return}}if(ue=i,Cr(),an&&typeof an.onPostCommitFiberRoot=="function")try{an.onPostCommitFiberRoot(Jl,t)}catch{}r=!0}return r}finally{fe=n,$t.transition=e}}return!1}function vg(t,e,n){e=Wi(n,e),e=R_(t,e,1),t=or(t,e,1),e=mt(),t!==null&&(Fs(t,1,e),It(t,e))}function ke(t,e,n){if(t.tag===3)vg(t,t,n);else for(;e!==null;){if(e.tag===3){vg(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(sr===null||!sr.has(r))){t=Wi(n,t),t=x_(e,t,1),e=or(e,t,1),t=mt(),e!==null&&(Fs(e,1,t),It(e,t));break}}e=e.return}}function qS(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=mt(),t.pingedLanes|=t.suspendedLanes&n,Ge===t&&(et&n)===n&&(Ue===4||Ue===3&&(et&130023424)===et&&500>Ne()-tf?zr(t,0):ef|=n),It(t,e)}function q_(t,e){e===0&&(t.mode&1?(e=_a,_a<<=1,!(_a&130023424)&&(_a=4194304)):e=1);var n=mt();t=Nn(t,e),t!==null&&(Fs(t,e,n),It(t,n))}function GS(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),q_(t,n)}function QS(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(B(314))}r!==null&&r.delete(e),q_(t,n)}var G_;G_=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||St.current)Tt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Tt=!1,MS(t,e,n);Tt=!!(t.flags&131072)}else Tt=!1,Ee&&e.flags&1048576&&Jv(e,vl,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;qa(t,e),t=e.pendingProps;var i=$i(e,ht.current);Li(e,n),i=Gd(null,e,r,t,i,n);var o=Qd();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ct(r)?(o=!0,gl(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,zd(e),i.updater=ou,e.stateNode=i,i._reactInternals=e,Th(e,r,t,n),e=Ih(null,e,r,!0,o,n)):(e.tag=0,Ee&&o&&Md(e),ft(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(qa(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=YS(r),t=qt(r,t),i){case 0:e=Ch(null,e,r,t,n);break e;case 1:e=lg(null,e,r,t,n);break e;case 11:e=sg(null,e,r,t,n);break e;case 14:e=ag(null,e,r,qt(r.type,t),n);break e}throw Error(B(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:qt(r,i),Ch(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:qt(r,i),lg(t,e,r,i,n);case 3:e:{if(N_(e),t===null)throw Error(B(387));r=e.pendingProps,o=e.memoizedState,i=o.element,i_(t,e),wl(e,r,null,n);var s=e.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=Wi(Error(B(423)),e),e=ug(t,e,r,n,i);break e}else if(r!==i){i=Wi(Error(B(424)),e),e=ug(t,e,r,n,i);break e}else for(Nt=ir(e.stateNode.containerInfo.firstChild),Vt=e,Ee=!0,Qt=null,n=n_(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ui(),r===i){e=Dn(t,e,n);break e}ft(t,e,r,n)}e=e.child}return e;case 5:return o_(e),t===null&&_h(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,s=i.children,ph(r,i)?s=null:o!==null&&ph(r,o)&&(e.flags|=32),P_(t,e),ft(t,e,s,n),e.child;case 6:return t===null&&_h(e),null;case 13:return D_(t,e,n);case 4:return Hd(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=zi(e,null,r,n):ft(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:qt(r,i),sg(t,e,r,i,n);case 7:return ft(t,e,e.pendingProps,n),e.child;case 8:return ft(t,e,e.pendingProps.children,n),e.child;case 12:return ft(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,s=i.value,ge(_l,r._currentValue),r._currentValue=s,o!==null)if(en(o.value,s)){if(o.children===i.children&&!St.current){e=Dn(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var l=o.dependencies;if(l!==null){s=o.child;for(var u=l.firstContext;u!==null;){if(u.context===r){if(o.tag===1){u=Cn(-1,n&-n),u.tag=2;var c=o.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?u.next=u:(u.next=d.next,d.next=u),c.pending=u}}o.lanes|=n,u=o.alternate,u!==null&&(u.lanes|=n),Eh(o.return,n,e),l.lanes|=n;break}u=u.next}}else if(o.tag===10)s=o.type===e.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(B(341));s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Eh(s,n,e),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===e){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}ft(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Li(e,n),i=Ut(i),r=r(i),e.flags|=1,ft(t,e,r,n),e.child;case 14:return r=e.type,i=qt(r,e.pendingProps),i=qt(r.type,i),ag(t,e,r,i,n);case 15:return A_(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:qt(r,i),qa(t,e),e.tag=1,Ct(r)?(t=!0,gl(e)):t=!1,Li(e,n),I_(e,r,i),Th(e,r,i,n),Ih(null,e,r,!0,t,n);case 19:return V_(t,e,n);case 22:return k_(t,e,n)}throw Error(B(156,e.tag))};function Q_(t,e){return Tv(t,e)}function XS(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bt(t,e,n,r){return new XS(t,e,n,r)}function sf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function YS(t){if(typeof t=="function")return sf(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Cd)return 11;if(t===Id)return 14}return 2}function lr(t,e){var n=t.alternate;return n===null?(n=Bt(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Xa(t,e,n,r,i,o){var s=2;if(r=t,typeof t=="function")sf(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case _i:return Hr(n.children,i,o,e);case Sd:s=8,i|=8;break;case Kc:return t=Bt(12,n,e,i|2),t.elementType=Kc,t.lanes=o,t;case qc:return t=Bt(13,n,e,i),t.elementType=qc,t.lanes=o,t;case Gc:return t=Bt(19,n,e,i),t.elementType=Gc,t.lanes=o,t;case ov:return lu(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case rv:s=10;break e;case iv:s=9;break e;case Cd:s=11;break e;case Id:s=14;break e;case qn:s=16,r=null;break e}throw Error(B(130,t==null?t:typeof t,""))}return e=Bt(s,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function Hr(t,e,n,r){return t=Bt(7,t,r,e),t.lanes=n,t}function lu(t,e,n,r){return t=Bt(22,t,r,e),t.elementType=ov,t.lanes=n,t.stateNode={isHidden:!1},t}function xc(t,e,n){return t=Bt(6,t,null,e),t.lanes=n,t}function Ac(t,e,n){return e=Bt(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function JS(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=lc(0),this.expirationTimes=lc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=lc(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function af(t,e,n,r,i,o,s,l,u){return t=new JS(t,e,n,l,u),e===1?(e=1,o===!0&&(e|=8)):e=0,o=Bt(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},zd(o),t}function ZS(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:vi,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function X_(t){if(!t)return pr;t=t._reactInternals;e:{if(ti(t)!==t||t.tag!==1)throw Error(B(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Ct(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(B(171))}if(t.tag===1){var n=t.type;if(Ct(n))return Xv(t,n,e)}return e}function Y_(t,e,n,r,i,o,s,l,u){return t=af(n,r,!0,t,i,o,s,l,u),t.context=X_(null),n=t.current,r=mt(),i=ar(n),o=Cn(r,i),o.callback=e??null,or(n,o,i),t.current.lanes=i,Fs(t,i,r),It(t,r),t}function uu(t,e,n,r){var i=e.current,o=mt(),s=ar(i);return n=X_(n),e.context===null?e.context=n:e.pendingContext=n,e=Cn(o,s),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=or(i,e,s),t!==null&&(Jt(t,i,s,o),Ha(t,i,s)),s}function kl(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function _g(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function lf(t,e){_g(t,e),(t=t.alternate)&&_g(t,e)}function eC(){return null}var J_=typeof reportError=="function"?reportError:function(t){console.error(t)};function uf(t){this._internalRoot=t}cu.prototype.render=uf.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(B(409));uu(t,e,null,null)};cu.prototype.unmount=uf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Jr(function(){uu(null,t,null,null)}),e[Pn]=null}};function cu(t){this._internalRoot=t}cu.prototype.unstable_scheduleHydration=function(t){if(t){var e=kv();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Xn.length&&e!==0&&e<Xn[n].priority;n++);Xn.splice(n,0,t),n===0&&Nv(t)}};function cf(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function hu(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Eg(){}function tC(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var c=kl(s);o.call(c)}}var s=Y_(e,r,t,0,null,!1,!1,"",Eg);return t._reactRootContainer=s,t[Pn]=s.current,_s(t.nodeType===8?t.parentNode:t),Jr(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var c=kl(u);l.call(c)}}var u=af(t,0,!1,null,null,!1,!1,"",Eg);return t._reactRootContainer=u,t[Pn]=u.current,_s(t.nodeType===8?t.parentNode:t),Jr(function(){uu(e,u,n,r)}),u}function du(t,e,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var l=i;i=function(){var u=kl(s);l.call(u)}}uu(e,s,t,i)}else s=tC(n,e,t,i,r);return kl(s)}xv=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Ho(e.pendingLanes);n!==0&&(Ad(e,n|1),It(e,Ne()),!(ue&6)&&(Ki=Ne()+500,Cr()))}break;case 13:Jr(function(){var r=Nn(t,1);if(r!==null){var i=mt();Jt(r,t,1,i)}}),lf(t,1)}};kd=function(t){if(t.tag===13){var e=Nn(t,134217728);if(e!==null){var n=mt();Jt(e,t,134217728,n)}lf(t,134217728)}};Av=function(t){if(t.tag===13){var e=ar(t),n=Nn(t,e);if(n!==null){var r=mt();Jt(n,t,e,r)}lf(t,e)}};kv=function(){return fe};Pv=function(t,e){var n=fe;try{return fe=t,e()}finally{fe=n}};ih=function(t,e,n){switch(e){case"input":if(Yc(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=nu(r);if(!i)throw Error(B(90));av(r),Yc(r,i)}}}break;case"textarea":uv(t,n);break;case"select":e=n.value,e!=null&&Ni(t,!!n.multiple,e,!1)}};gv=nf;yv=Jr;var nC={usingClientEntryPoint:!1,Events:[$s,Si,nu,pv,mv,nf]},Fo={findFiberByHostInstance:Fr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},rC={bundleType:Fo.bundleType,version:Fo.version,rendererPackageName:Fo.rendererPackageName,rendererConfig:Fo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Fn.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Ev(t),t===null?null:t.stateNode},findFiberByHostInstance:Fo.findFiberByHostInstance||eC,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Pa=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Pa.isDisabled&&Pa.supportsFiber)try{Jl=Pa.inject(rC),an=Pa}catch{}}Mt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=nC;Mt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!cf(e))throw Error(B(200));return ZS(t,e,null,n)};Mt.createRoot=function(t,e){if(!cf(t))throw Error(B(299));var n=!1,r="",i=J_;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=af(t,1,!1,null,null,n,!1,r,i),t[Pn]=e.current,_s(t.nodeType===8?t.parentNode:t),new uf(e)};Mt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(B(188)):(t=Object.keys(t).join(","),Error(B(268,t)));return t=Ev(e),t=t===null?null:t.stateNode,t};Mt.flushSync=function(t){return Jr(t)};Mt.hydrate=function(t,e,n){if(!hu(e))throw Error(B(200));return du(null,t,e,!0,n)};Mt.hydrateRoot=function(t,e,n){if(!cf(t))throw Error(B(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=J_;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=Y_(e,null,t,1,n??null,i,!1,o,s),t[Pn]=e.current,_s(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new cu(e)};Mt.render=function(t,e,n){if(!hu(e))throw Error(B(200));return du(null,t,e,!1,n)};Mt.unmountComponentAtNode=function(t){if(!hu(t))throw Error(B(40));return t._reactRootContainer?(Jr(function(){du(null,null,t,!1,function(){t._reactRootContainer=null,t[Pn]=null})}),!0):!1};Mt.unstable_batchedUpdates=nf;Mt.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!hu(n))throw Error(B(200));if(t==null||t._reactInternals===void 0)throw Error(B(38));return du(t,e,n,!1,r)};Mt.version="18.3.1-next-f1338f8080-20240426";function Z_(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Z_)}catch(t){console.error(t)}}Z_(),Zy.exports=Mt;var e0=Zy.exports;const Pi=Xl(e0);var t0,wg=e0;t0=wg.createRoot,wg.hydrateRoot;var Tg={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n0=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},iC=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],s=t[n++],l=t[n++],u=((i&7)<<18|(o&63)<<12|(s&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},r0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],s=i+1<t.length,l=s?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0,d=o>>2,p=(o&3)<<4|l>>4;let m=(l&15)<<2|c>>6,T=c&63;u||(T=64,s||(m=64)),r.push(n[d],n[p],n[m],n[T])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(n0(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):iC(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],l=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const p=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||l==null||c==null||p==null)throw new oC;const m=o<<2|l>>4;if(r.push(m),c!==64){const T=l<<4&240|c>>2;if(r.push(T),p!==64){const k=c<<6&192|p;r.push(k)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class oC extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const sC=function(t){const e=n0(t);return r0.encodeByteArray(e,!0)},Pl=function(t){return sC(t).replace(/\./g,"")},aC=function(t){try{return r0.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lC(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uC=()=>lC().__FIREBASE_DEFAULTS__,cC=()=>{if(typeof process>"u"||typeof Tg>"u")return;const t=Tg.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},hC=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&aC(t[1]);return e&&JSON.parse(e)},hf=()=>{try{return uC()||cC()||hC()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},dC=t=>{var e,n;return(n=(e=hf())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},fC=t=>{const e=dC(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},i0=()=>{var t;return(t=hf())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pC{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mC(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Pl(JSON.stringify(n)),Pl(JSON.stringify(s)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gC(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function yC(){var t;const e=(t=hf())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function vC(){return!yC()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function _C(){try{return typeof indexedDB=="object"}catch{return!1}}function EC(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wC="FirebaseError";class io extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=wC,Object.setPrototypeOf(this,io.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,o0.prototype.create)}}class o0{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?TC(o,r):"Error",l=`${this.serviceName}: ${s} (${i}).`;return new io(i,l,r)}}function TC(t,e){return t.replace(SC,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const SC=/\{\$([^}]+)}/g;function bh(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],s=e[i];if(Sg(o)&&Sg(s)){if(!bh(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Sg(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mr(t){return t&&t._delegate?t._delegate:t}class As{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const br="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CC{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new pC;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(RC(e))try{this.getOrInitializeService({instanceIdentifier:br})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=br){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=br){return this.instances.has(e)}getOptions(e=br){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,s]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(o);r===l&&s.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:IC(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=br){return this.component?this.component.multipleInstances?e:br:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function IC(t){return t===br?void 0:t}function RC(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xC{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new CC(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var se;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(se||(se={}));const AC={debug:se.DEBUG,verbose:se.VERBOSE,info:se.INFO,warn:se.WARN,error:se.ERROR,silent:se.SILENT},kC=se.INFO,PC={[se.DEBUG]:"log",[se.VERBOSE]:"log",[se.INFO]:"info",[se.WARN]:"warn",[se.ERROR]:"error"},NC=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=PC[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class s0{constructor(e){this.name=e,this._logLevel=kC,this._logHandler=NC,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in se))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?AC[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,se.DEBUG,...e),this._logHandler(this,se.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,se.VERBOSE,...e),this._logHandler(this,se.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,se.INFO,...e),this._logHandler(this,se.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,se.WARN,...e),this._logHandler(this,se.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,se.ERROR,...e),this._logHandler(this,se.ERROR,...e)}}const DC=(t,e)=>e.some(n=>t instanceof n);let Cg,Ig;function VC(){return Cg||(Cg=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function OC(){return Ig||(Ig=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const a0=new WeakMap,jh=new WeakMap,l0=new WeakMap,kc=new WeakMap,df=new WeakMap;function LC(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(ur(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&a0.set(n,t)}).catch(()=>{}),df.set(e,t),e}function MC(t){if(jh.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});jh.set(t,e)}let Fh={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return jh.get(t);if(e==="objectStoreNames")return t.objectStoreNames||l0.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ur(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function bC(t){Fh=t(Fh)}function jC(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Pc(this),e,...n);return l0.set(r,e.sort?e.sort():[e]),ur(r)}:OC().includes(t)?function(...e){return t.apply(Pc(this),e),ur(a0.get(this))}:function(...e){return ur(t.apply(Pc(this),e))}}function FC(t){return typeof t=="function"?jC(t):(t instanceof IDBTransaction&&MC(t),DC(t,VC())?new Proxy(t,Fh):t)}function ur(t){if(t instanceof IDBRequest)return LC(t);if(kc.has(t))return kc.get(t);const e=FC(t);return e!==t&&(kc.set(t,e),df.set(e,t)),e}const Pc=t=>df.get(t);function BC(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(t,e),l=ur(s);return r&&s.addEventListener("upgradeneeded",u=>{r(ur(s.result),u.oldVersion,u.newVersion,ur(s.transaction),u)}),n&&s.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),l.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),l}const $C=["get","getKey","getAll","getAllKeys","count"],UC=["put","add","delete","clear"],Nc=new Map;function Rg(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Nc.get(e))return Nc.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=UC.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||$C.includes(n)))return;const o=async function(s,...l){const u=this.transaction(s,i?"readwrite":"readonly");let c=u.store;return r&&(c=c.index(l.shift())),(await Promise.all([c[n](...l),i&&u.done]))[0]};return Nc.set(e,o),o}bC(t=>({...t,get:(e,n,r)=>Rg(e,n)||t.get(e,n,r),has:(e,n)=>!!Rg(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zC{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(HC(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function HC(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Bh="@firebase/app",xg="0.10.15";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vn=new s0("@firebase/app"),WC="@firebase/app-compat",KC="@firebase/analytics-compat",qC="@firebase/analytics",GC="@firebase/app-check-compat",QC="@firebase/app-check",XC="@firebase/auth",YC="@firebase/auth-compat",JC="@firebase/database",ZC="@firebase/data-connect",eI="@firebase/database-compat",tI="@firebase/functions",nI="@firebase/functions-compat",rI="@firebase/installations",iI="@firebase/installations-compat",oI="@firebase/messaging",sI="@firebase/messaging-compat",aI="@firebase/performance",lI="@firebase/performance-compat",uI="@firebase/remote-config",cI="@firebase/remote-config-compat",hI="@firebase/storage",dI="@firebase/storage-compat",fI="@firebase/firestore",pI="@firebase/vertexai",mI="@firebase/firestore-compat",gI="firebase",yI="11.0.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $h="[DEFAULT]",vI={[Bh]:"fire-core",[WC]:"fire-core-compat",[qC]:"fire-analytics",[KC]:"fire-analytics-compat",[QC]:"fire-app-check",[GC]:"fire-app-check-compat",[XC]:"fire-auth",[YC]:"fire-auth-compat",[JC]:"fire-rtdb",[ZC]:"fire-data-connect",[eI]:"fire-rtdb-compat",[tI]:"fire-fn",[nI]:"fire-fn-compat",[rI]:"fire-iid",[iI]:"fire-iid-compat",[oI]:"fire-fcm",[sI]:"fire-fcm-compat",[aI]:"fire-perf",[lI]:"fire-perf-compat",[uI]:"fire-rc",[cI]:"fire-rc-compat",[hI]:"fire-gcs",[dI]:"fire-gcs-compat",[fI]:"fire-fst",[mI]:"fire-fst-compat",[pI]:"fire-vertex","fire-js":"fire-js",[gI]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nl=new Map,_I=new Map,Uh=new Map;function Ag(t,e){try{t.container.addComponent(e)}catch(n){Vn.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Dl(t){const e=t.name;if(Uh.has(e))return Vn.debug(`There were multiple attempts to register component ${e}.`),!1;Uh.set(e,t);for(const n of Nl.values())Ag(n,t);for(const n of _I.values())Ag(n,t);return!0}function EI(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wI={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},cr=new o0("app","Firebase",wI);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TI{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new As("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw cr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SI=yI;function fu(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:$h,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw cr.create("bad-app-name",{appName:String(i)});if(n||(n=i0()),!n)throw cr.create("no-options");const o=Nl.get(i);if(o){if(bh(n,o.options)&&bh(r,o.config))return o;throw cr.create("duplicate-app",{appName:i})}const s=new xC(i);for(const u of Uh.values())s.addComponent(u);const l=new TI(n,r,s);return Nl.set(i,l),l}function CI(t=$h){const e=Nl.get(t);if(!e&&t===$h&&i0())return fu();if(!e)throw cr.create("no-app",{appName:t});return e}function bi(t,e,n){var r;let i=(r=vI[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){const l=[`Unable to register library "${i}" with version "${e}":`];o&&l.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&l.push("and"),s&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Vn.warn(l.join(" "));return}Dl(new As(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const II="firebase-heartbeat-database",RI=1,ks="firebase-heartbeat-store";let Dc=null;function u0(){return Dc||(Dc=BC(II,RI,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(ks)}catch(n){console.warn(n)}}}}).catch(t=>{throw cr.create("idb-open",{originalErrorMessage:t.message})})),Dc}async function xI(t){try{const n=(await u0()).transaction(ks),r=await n.objectStore(ks).get(c0(t));return await n.done,r}catch(e){if(e instanceof io)Vn.warn(e.message);else{const n=cr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Vn.warn(n.message)}}}async function kg(t,e){try{const r=(await u0()).transaction(ks,"readwrite");await r.objectStore(ks).put(e,c0(t)),await r.done}catch(n){if(n instanceof io)Vn.warn(n.message);else{const r=cr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Vn.warn(r.message)}}}function c0(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AI=1024,kI=30*24*60*60*1e3;class PI{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new DI(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=Pg();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{const l=new Date(s.date).valueOf();return Date.now()-l<=kI}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Vn.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Pg(),{heartbeatsToSend:r,unsentEntries:i}=NI(this._heartbeatsCache.heartbeats),o=Pl(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return Vn.warn(n),""}}}function Pg(){return new Date().toISOString().substring(0,10)}function NI(t,e=AI){const n=[];let r=t.slice();for(const i of t){const o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),Ng(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Ng(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class DI{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return _C()?EC().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await xI(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return kg(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return kg(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Ng(t){return Pl(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VI(t){Dl(new As("platform-logger",e=>new zC(e),"PRIVATE")),Dl(new As("heartbeat",e=>new PI(e),"PRIVATE")),bi(Bh,xg,t),bi(Bh,xg,"esm2017"),bi("fire-js","")}VI("");var OI="firebase",LI="11.0.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */bi(OI,LI,"app");var Dg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Wr,h0;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(S,v){function C(){}C.prototype=v.prototype,S.D=v.prototype,S.prototype=new C,S.prototype.constructor=S,S.C=function(R,A,D){for(var x=Array(arguments.length-2),De=2;De<arguments.length;De++)x[De-2]=arguments[De];return v.prototype[A].apply(R,x)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(S,v,C){C||(C=0);var R=Array(16);if(typeof v=="string")for(var A=0;16>A;++A)R[A]=v.charCodeAt(C++)|v.charCodeAt(C++)<<8|v.charCodeAt(C++)<<16|v.charCodeAt(C++)<<24;else for(A=0;16>A;++A)R[A]=v[C++]|v[C++]<<8|v[C++]<<16|v[C++]<<24;v=S.g[0],C=S.g[1],A=S.g[2];var D=S.g[3],x=v+(D^C&(A^D))+R[0]+3614090360&4294967295;v=C+(x<<7&4294967295|x>>>25),x=D+(A^v&(C^A))+R[1]+3905402710&4294967295,D=v+(x<<12&4294967295|x>>>20),x=A+(C^D&(v^C))+R[2]+606105819&4294967295,A=D+(x<<17&4294967295|x>>>15),x=C+(v^A&(D^v))+R[3]+3250441966&4294967295,C=A+(x<<22&4294967295|x>>>10),x=v+(D^C&(A^D))+R[4]+4118548399&4294967295,v=C+(x<<7&4294967295|x>>>25),x=D+(A^v&(C^A))+R[5]+1200080426&4294967295,D=v+(x<<12&4294967295|x>>>20),x=A+(C^D&(v^C))+R[6]+2821735955&4294967295,A=D+(x<<17&4294967295|x>>>15),x=C+(v^A&(D^v))+R[7]+4249261313&4294967295,C=A+(x<<22&4294967295|x>>>10),x=v+(D^C&(A^D))+R[8]+1770035416&4294967295,v=C+(x<<7&4294967295|x>>>25),x=D+(A^v&(C^A))+R[9]+2336552879&4294967295,D=v+(x<<12&4294967295|x>>>20),x=A+(C^D&(v^C))+R[10]+4294925233&4294967295,A=D+(x<<17&4294967295|x>>>15),x=C+(v^A&(D^v))+R[11]+2304563134&4294967295,C=A+(x<<22&4294967295|x>>>10),x=v+(D^C&(A^D))+R[12]+1804603682&4294967295,v=C+(x<<7&4294967295|x>>>25),x=D+(A^v&(C^A))+R[13]+4254626195&4294967295,D=v+(x<<12&4294967295|x>>>20),x=A+(C^D&(v^C))+R[14]+2792965006&4294967295,A=D+(x<<17&4294967295|x>>>15),x=C+(v^A&(D^v))+R[15]+1236535329&4294967295,C=A+(x<<22&4294967295|x>>>10),x=v+(A^D&(C^A))+R[1]+4129170786&4294967295,v=C+(x<<5&4294967295|x>>>27),x=D+(C^A&(v^C))+R[6]+3225465664&4294967295,D=v+(x<<9&4294967295|x>>>23),x=A+(v^C&(D^v))+R[11]+643717713&4294967295,A=D+(x<<14&4294967295|x>>>18),x=C+(D^v&(A^D))+R[0]+3921069994&4294967295,C=A+(x<<20&4294967295|x>>>12),x=v+(A^D&(C^A))+R[5]+3593408605&4294967295,v=C+(x<<5&4294967295|x>>>27),x=D+(C^A&(v^C))+R[10]+38016083&4294967295,D=v+(x<<9&4294967295|x>>>23),x=A+(v^C&(D^v))+R[15]+3634488961&4294967295,A=D+(x<<14&4294967295|x>>>18),x=C+(D^v&(A^D))+R[4]+3889429448&4294967295,C=A+(x<<20&4294967295|x>>>12),x=v+(A^D&(C^A))+R[9]+568446438&4294967295,v=C+(x<<5&4294967295|x>>>27),x=D+(C^A&(v^C))+R[14]+3275163606&4294967295,D=v+(x<<9&4294967295|x>>>23),x=A+(v^C&(D^v))+R[3]+4107603335&4294967295,A=D+(x<<14&4294967295|x>>>18),x=C+(D^v&(A^D))+R[8]+1163531501&4294967295,C=A+(x<<20&4294967295|x>>>12),x=v+(A^D&(C^A))+R[13]+2850285829&4294967295,v=C+(x<<5&4294967295|x>>>27),x=D+(C^A&(v^C))+R[2]+4243563512&4294967295,D=v+(x<<9&4294967295|x>>>23),x=A+(v^C&(D^v))+R[7]+1735328473&4294967295,A=D+(x<<14&4294967295|x>>>18),x=C+(D^v&(A^D))+R[12]+2368359562&4294967295,C=A+(x<<20&4294967295|x>>>12),x=v+(C^A^D)+R[5]+4294588738&4294967295,v=C+(x<<4&4294967295|x>>>28),x=D+(v^C^A)+R[8]+2272392833&4294967295,D=v+(x<<11&4294967295|x>>>21),x=A+(D^v^C)+R[11]+1839030562&4294967295,A=D+(x<<16&4294967295|x>>>16),x=C+(A^D^v)+R[14]+4259657740&4294967295,C=A+(x<<23&4294967295|x>>>9),x=v+(C^A^D)+R[1]+2763975236&4294967295,v=C+(x<<4&4294967295|x>>>28),x=D+(v^C^A)+R[4]+1272893353&4294967295,D=v+(x<<11&4294967295|x>>>21),x=A+(D^v^C)+R[7]+4139469664&4294967295,A=D+(x<<16&4294967295|x>>>16),x=C+(A^D^v)+R[10]+3200236656&4294967295,C=A+(x<<23&4294967295|x>>>9),x=v+(C^A^D)+R[13]+681279174&4294967295,v=C+(x<<4&4294967295|x>>>28),x=D+(v^C^A)+R[0]+3936430074&4294967295,D=v+(x<<11&4294967295|x>>>21),x=A+(D^v^C)+R[3]+3572445317&4294967295,A=D+(x<<16&4294967295|x>>>16),x=C+(A^D^v)+R[6]+76029189&4294967295,C=A+(x<<23&4294967295|x>>>9),x=v+(C^A^D)+R[9]+3654602809&4294967295,v=C+(x<<4&4294967295|x>>>28),x=D+(v^C^A)+R[12]+3873151461&4294967295,D=v+(x<<11&4294967295|x>>>21),x=A+(D^v^C)+R[15]+530742520&4294967295,A=D+(x<<16&4294967295|x>>>16),x=C+(A^D^v)+R[2]+3299628645&4294967295,C=A+(x<<23&4294967295|x>>>9),x=v+(A^(C|~D))+R[0]+4096336452&4294967295,v=C+(x<<6&4294967295|x>>>26),x=D+(C^(v|~A))+R[7]+1126891415&4294967295,D=v+(x<<10&4294967295|x>>>22),x=A+(v^(D|~C))+R[14]+2878612391&4294967295,A=D+(x<<15&4294967295|x>>>17),x=C+(D^(A|~v))+R[5]+4237533241&4294967295,C=A+(x<<21&4294967295|x>>>11),x=v+(A^(C|~D))+R[12]+1700485571&4294967295,v=C+(x<<6&4294967295|x>>>26),x=D+(C^(v|~A))+R[3]+2399980690&4294967295,D=v+(x<<10&4294967295|x>>>22),x=A+(v^(D|~C))+R[10]+4293915773&4294967295,A=D+(x<<15&4294967295|x>>>17),x=C+(D^(A|~v))+R[1]+2240044497&4294967295,C=A+(x<<21&4294967295|x>>>11),x=v+(A^(C|~D))+R[8]+1873313359&4294967295,v=C+(x<<6&4294967295|x>>>26),x=D+(C^(v|~A))+R[15]+4264355552&4294967295,D=v+(x<<10&4294967295|x>>>22),x=A+(v^(D|~C))+R[6]+2734768916&4294967295,A=D+(x<<15&4294967295|x>>>17),x=C+(D^(A|~v))+R[13]+1309151649&4294967295,C=A+(x<<21&4294967295|x>>>11),x=v+(A^(C|~D))+R[4]+4149444226&4294967295,v=C+(x<<6&4294967295|x>>>26),x=D+(C^(v|~A))+R[11]+3174756917&4294967295,D=v+(x<<10&4294967295|x>>>22),x=A+(v^(D|~C))+R[2]+718787259&4294967295,A=D+(x<<15&4294967295|x>>>17),x=C+(D^(A|~v))+R[9]+3951481745&4294967295,S.g[0]=S.g[0]+v&4294967295,S.g[1]=S.g[1]+(A+(x<<21&4294967295|x>>>11))&4294967295,S.g[2]=S.g[2]+A&4294967295,S.g[3]=S.g[3]+D&4294967295}r.prototype.u=function(S,v){v===void 0&&(v=S.length);for(var C=v-this.blockSize,R=this.B,A=this.h,D=0;D<v;){if(A==0)for(;D<=C;)i(this,S,D),D+=this.blockSize;if(typeof S=="string"){for(;D<v;)if(R[A++]=S.charCodeAt(D++),A==this.blockSize){i(this,R),A=0;break}}else for(;D<v;)if(R[A++]=S[D++],A==this.blockSize){i(this,R),A=0;break}}this.h=A,this.o+=v},r.prototype.v=function(){var S=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);S[0]=128;for(var v=1;v<S.length-8;++v)S[v]=0;var C=8*this.o;for(v=S.length-8;v<S.length;++v)S[v]=C&255,C/=256;for(this.u(S),S=Array(16),v=C=0;4>v;++v)for(var R=0;32>R;R+=8)S[C++]=this.g[v]>>>R&255;return S};function o(S,v){var C=l;return Object.prototype.hasOwnProperty.call(C,S)?C[S]:C[S]=v(S)}function s(S,v){this.h=v;for(var C=[],R=!0,A=S.length-1;0<=A;A--){var D=S[A]|0;R&&D==v||(C[A]=D,R=!1)}this.g=C}var l={};function u(S){return-128<=S&&128>S?o(S,function(v){return new s([v|0],0>v?-1:0)}):new s([S|0],0>S?-1:0)}function c(S){if(isNaN(S)||!isFinite(S))return p;if(0>S)return N(c(-S));for(var v=[],C=1,R=0;S>=C;R++)v[R]=S/C|0,C*=4294967296;return new s(v,0)}function d(S,v){if(S.length==0)throw Error("number format error: empty string");if(v=v||10,2>v||36<v)throw Error("radix out of range: "+v);if(S.charAt(0)=="-")return N(d(S.substring(1),v));if(0<=S.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=c(Math.pow(v,8)),R=p,A=0;A<S.length;A+=8){var D=Math.min(8,S.length-A),x=parseInt(S.substring(A,A+D),v);8>D?(D=c(Math.pow(v,D)),R=R.j(D).add(c(x))):(R=R.j(C),R=R.add(c(x)))}return R}var p=u(0),m=u(1),T=u(16777216);t=s.prototype,t.m=function(){if(P(this))return-N(this).m();for(var S=0,v=1,C=0;C<this.g.length;C++){var R=this.i(C);S+=(0<=R?R:4294967296+R)*v,v*=4294967296}return S},t.toString=function(S){if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(k(this))return"0";if(P(this))return"-"+N(this).toString(S);for(var v=c(Math.pow(S,6)),C=this,R="";;){var A=O(C,v).g;C=w(C,A.j(v));var D=((0<C.g.length?C.g[0]:C.h)>>>0).toString(S);if(C=A,k(C))return D+R;for(;6>D.length;)D="0"+D;R=D+R}},t.i=function(S){return 0>S?0:S<this.g.length?this.g[S]:this.h};function k(S){if(S.h!=0)return!1;for(var v=0;v<S.g.length;v++)if(S.g[v]!=0)return!1;return!0}function P(S){return S.h==-1}t.l=function(S){return S=w(this,S),P(S)?-1:k(S)?0:1};function N(S){for(var v=S.g.length,C=[],R=0;R<v;R++)C[R]=~S.g[R];return new s(C,~S.h).add(m)}t.abs=function(){return P(this)?N(this):this},t.add=function(S){for(var v=Math.max(this.g.length,S.g.length),C=[],R=0,A=0;A<=v;A++){var D=R+(this.i(A)&65535)+(S.i(A)&65535),x=(D>>>16)+(this.i(A)>>>16)+(S.i(A)>>>16);R=x>>>16,D&=65535,x&=65535,C[A]=x<<16|D}return new s(C,C[C.length-1]&-2147483648?-1:0)};function w(S,v){return S.add(N(v))}t.j=function(S){if(k(this)||k(S))return p;if(P(this))return P(S)?N(this).j(N(S)):N(N(this).j(S));if(P(S))return N(this.j(N(S)));if(0>this.l(T)&&0>S.l(T))return c(this.m()*S.m());for(var v=this.g.length+S.g.length,C=[],R=0;R<2*v;R++)C[R]=0;for(R=0;R<this.g.length;R++)for(var A=0;A<S.g.length;A++){var D=this.i(R)>>>16,x=this.i(R)&65535,De=S.i(A)>>>16,Rt=S.i(A)&65535;C[2*R+2*A]+=x*Rt,E(C,2*R+2*A),C[2*R+2*A+1]+=D*Rt,E(C,2*R+2*A+1),C[2*R+2*A+1]+=x*De,E(C,2*R+2*A+1),C[2*R+2*A+2]+=D*De,E(C,2*R+2*A+2)}for(R=0;R<v;R++)C[R]=C[2*R+1]<<16|C[2*R];for(R=v;R<2*v;R++)C[R]=0;return new s(C,0)};function E(S,v){for(;(S[v]&65535)!=S[v];)S[v+1]+=S[v]>>>16,S[v]&=65535,v++}function I(S,v){this.g=S,this.h=v}function O(S,v){if(k(v))throw Error("division by zero");if(k(S))return new I(p,p);if(P(S))return v=O(N(S),v),new I(N(v.g),N(v.h));if(P(v))return v=O(S,N(v)),new I(N(v.g),v.h);if(30<S.g.length){if(P(S)||P(v))throw Error("slowDivide_ only works with positive integers.");for(var C=m,R=v;0>=R.l(S);)C=j(C),R=j(R);var A=M(C,1),D=M(R,1);for(R=M(R,2),C=M(C,2);!k(R);){var x=D.add(R);0>=x.l(S)&&(A=A.add(C),D=x),R=M(R,1),C=M(C,1)}return v=w(S,A.j(v)),new I(A,v)}for(A=p;0<=S.l(v);){for(C=Math.max(1,Math.floor(S.m()/v.m())),R=Math.ceil(Math.log(C)/Math.LN2),R=48>=R?1:Math.pow(2,R-48),D=c(C),x=D.j(v);P(x)||0<x.l(S);)C-=R,D=c(C),x=D.j(v);k(D)&&(D=m),A=A.add(D),S=w(S,x)}return new I(A,S)}t.A=function(S){return O(this,S).h},t.and=function(S){for(var v=Math.max(this.g.length,S.g.length),C=[],R=0;R<v;R++)C[R]=this.i(R)&S.i(R);return new s(C,this.h&S.h)},t.or=function(S){for(var v=Math.max(this.g.length,S.g.length),C=[],R=0;R<v;R++)C[R]=this.i(R)|S.i(R);return new s(C,this.h|S.h)},t.xor=function(S){for(var v=Math.max(this.g.length,S.g.length),C=[],R=0;R<v;R++)C[R]=this.i(R)^S.i(R);return new s(C,this.h^S.h)};function j(S){for(var v=S.g.length+1,C=[],R=0;R<v;R++)C[R]=S.i(R)<<1|S.i(R-1)>>>31;return new s(C,S.h)}function M(S,v){var C=v>>5;v%=32;for(var R=S.g.length-C,A=[],D=0;D<R;D++)A[D]=0<v?S.i(D+C)>>>v|S.i(D+C+1)<<32-v:S.i(D+C);return new s(A,S.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,h0=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=c,s.fromString=d,Wr=s}).apply(typeof Dg<"u"?Dg:typeof self<"u"?self:typeof window<"u"?window:{});var Na=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var d0,Ko,f0,Ya,zh,p0,m0,g0;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(a,h,f){return a==Array.prototype||a==Object.prototype||(a[h]=f.value),a};function n(a){a=[typeof globalThis=="object"&&globalThis,a,typeof window=="object"&&window,typeof self=="object"&&self,typeof Na=="object"&&Na];for(var h=0;h<a.length;++h){var f=a[h];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var r=n(this);function i(a,h){if(h)e:{var f=r;a=a.split(".");for(var y=0;y<a.length-1;y++){var V=a[y];if(!(V in f))break e;f=f[V]}a=a[a.length-1],y=f[a],h=h(y),h!=y&&h!=null&&e(f,a,{configurable:!0,writable:!0,value:h})}}function o(a,h){a instanceof String&&(a+="");var f=0,y=!1,V={next:function(){if(!y&&f<a.length){var L=f++;return{value:h(L,a[L]),done:!1}}return y=!0,{done:!0,value:void 0}}};return V[Symbol.iterator]=function(){return V},V}i("Array.prototype.values",function(a){return a||function(){return o(this,function(h,f){return f})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},l=this||self;function u(a){var h=typeof a;return h=h!="object"?h:a?Array.isArray(a)?"array":h:"null",h=="array"||h=="object"&&typeof a.length=="number"}function c(a){var h=typeof a;return h=="object"&&a!=null||h=="function"}function d(a,h,f){return a.call.apply(a.bind,arguments)}function p(a,h,f){if(!a)throw Error();if(2<arguments.length){var y=Array.prototype.slice.call(arguments,2);return function(){var V=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(V,y),a.apply(h,V)}}return function(){return a.apply(h,arguments)}}function m(a,h,f){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:p,m.apply(null,arguments)}function T(a,h){var f=Array.prototype.slice.call(arguments,1);return function(){var y=f.slice();return y.push.apply(y,arguments),a.apply(this,y)}}function k(a,h){function f(){}f.prototype=h.prototype,a.aa=h.prototype,a.prototype=new f,a.prototype.constructor=a,a.Qb=function(y,V,L){for(var U=Array(arguments.length-2),me=2;me<arguments.length;me++)U[me-2]=arguments[me];return h.prototype[V].apply(y,U)}}function P(a){const h=a.length;if(0<h){const f=Array(h);for(let y=0;y<h;y++)f[y]=a[y];return f}return[]}function N(a,h){for(let f=1;f<arguments.length;f++){const y=arguments[f];if(u(y)){const V=a.length||0,L=y.length||0;a.length=V+L;for(let U=0;U<L;U++)a[V+U]=y[U]}else a.push(y)}}class w{constructor(h,f){this.i=h,this.j=f,this.h=0,this.g=null}get(){let h;return 0<this.h?(this.h--,h=this.g,this.g=h.next,h.next=null):h=this.i(),h}}function E(a){return/^[\s\xa0]*$/.test(a)}function I(){var a=l.navigator;return a&&(a=a.userAgent)?a:""}function O(a){return O[" "](a),a}O[" "]=function(){};var j=I().indexOf("Gecko")!=-1&&!(I().toLowerCase().indexOf("webkit")!=-1&&I().indexOf("Edge")==-1)&&!(I().indexOf("Trident")!=-1||I().indexOf("MSIE")!=-1)&&I().indexOf("Edge")==-1;function M(a,h,f){for(const y in a)h.call(f,a[y],y,a)}function S(a,h){for(const f in a)h.call(void 0,a[f],f,a)}function v(a){const h={};for(const f in a)h[f]=a[f];return h}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function R(a,h){let f,y;for(let V=1;V<arguments.length;V++){y=arguments[V];for(f in y)a[f]=y[f];for(let L=0;L<C.length;L++)f=C[L],Object.prototype.hasOwnProperty.call(y,f)&&(a[f]=y[f])}}function A(a){var h=1;a=a.split(":");const f=[];for(;0<h&&a.length;)f.push(a.shift()),h--;return a.length&&f.push(a.join(":")),f}function D(a){l.setTimeout(()=>{throw a},0)}function x(){var a=G;let h=null;return a.g&&(h=a.g,a.g=a.g.next,a.g||(a.h=null),h.next=null),h}class De{constructor(){this.h=this.g=null}add(h,f){const y=Rt.get();y.set(h,f),this.h?this.h.next=y:this.g=y,this.h=y}}var Rt=new w(()=>new He,a=>a.reset());class He{constructor(){this.next=this.g=this.h=null}set(h,f){this.h=h,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let be,$=!1,G=new De,Q=()=>{const a=l.Promise.resolve(void 0);be=()=>{a.then(le)}};var le=()=>{for(var a;a=x();){try{a.h.call(a.g)}catch(f){D(f)}var h=Rt;h.j(a),100>h.h&&(h.h++,a.next=h.g,h.g=a)}$=!1};function ne(){this.s=this.s,this.C=this.C}ne.prototype.s=!1,ne.prototype.ma=function(){this.s||(this.s=!0,this.N())},ne.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ie(a,h){this.type=a,this.g=this.target=h,this.defaultPrevented=!1}ie.prototype.h=function(){this.defaultPrevented=!0};var de=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var a=!1,h=Object.defineProperty({},"passive",{get:function(){a=!0}});try{const f=()=>{};l.addEventListener("test",f,h),l.removeEventListener("test",f,h)}catch{}return a}();function je(a,h){if(ie.call(this,a?a.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,a){var f=this.type=a.type,y=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;if(this.target=a.target||a.srcElement,this.g=h,h=a.relatedTarget){if(j){e:{try{O(h.nodeName);var V=!0;break e}catch{}V=!1}V||(h=null)}}else f=="mouseover"?h=a.fromElement:f=="mouseout"&&(h=a.toElement);this.relatedTarget=h,y?(this.clientX=y.clientX!==void 0?y.clientX:y.pageX,this.clientY=y.clientY!==void 0?y.clientY:y.pageY,this.screenX=y.screenX||0,this.screenY=y.screenY||0):(this.clientX=a.clientX!==void 0?a.clientX:a.pageX,this.clientY=a.clientY!==void 0?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType=typeof a.pointerType=="string"?a.pointerType:xt[a.pointerType]||"",this.state=a.state,this.i=a,a.defaultPrevented&&je.aa.h.call(this)}}k(je,ie);var xt={2:"touch",3:"pen",4:"mouse"};je.prototype.h=function(){je.aa.h.call(this);var a=this.i;a.preventDefault?a.preventDefault():a.returnValue=!1};var vt="closure_listenable_"+(1e6*Math.random()|0),go=0;function xr(a,h,f,y,V){this.listener=a,this.proxy=null,this.src=h,this.type=f,this.capture=!!y,this.ha=V,this.key=++go,this.da=this.fa=!1}function Ht(a){a.da=!0,a.listener=null,a.proxy=null,a.src=null,a.ha=null}function mn(a){this.src=a,this.g={},this.h=0}mn.prototype.add=function(a,h,f,y,V){var L=a.toString();a=this.g[L],a||(a=this.g[L]=[],this.h++);var U=gn(a,h,y,V);return-1<U?(h=a[U],f||(h.fa=!1)):(h=new xr(h,this.src,L,!!y,V),h.fa=f,a.push(h)),h};function tn(a,h){var f=h.type;if(f in a.g){var y=a.g[f],V=Array.prototype.indexOf.call(y,h,void 0),L;(L=0<=V)&&Array.prototype.splice.call(y,V,1),L&&(Ht(h),a.g[f].length==0&&(delete a.g[f],a.h--))}}function gn(a,h,f,y){for(var V=0;V<a.length;++V){var L=a[V];if(!L.da&&L.listener==h&&L.capture==!!f&&L.ha==y)return V}return-1}var nn="closure_lm_"+(1e6*Math.random()|0),pe={};function Ar(a,h,f,y,V){if(Array.isArray(h)){for(var L=0;L<h.length;L++)Ar(a,h[L],f,y,V);return null}return f=Js(f),a&&a[vt]?a.K(h,f,c(y)?!!y.capture:!!y,V):kr(a,h,f,!1,y,V)}function kr(a,h,f,y,V,L){if(!h)throw Error("Invalid event type");var U=c(V)?!!V.capture:!!V,me=vo(a);if(me||(a[nn]=me=new mn(a)),f=me.add(h,f,y,U,L),f.proxy)return f;if(y=Fu(),f.proxy=y,y.src=a,y.listener=f,a.addEventListener)de||(V=U),V===void 0&&(V=!1),a.addEventListener(h.toString(),y,V);else if(a.attachEvent)a.attachEvent(Ys(h.toString()),y);else if(a.addListener&&a.removeListener)a.addListener(y);else throw Error("addEventListener and attachEvent are unavailable.");return f}function Fu(){function a(f){return h.call(a.src,a.listener,f)}const h=Bu;return a}function Xs(a,h,f,y,V){if(Array.isArray(h))for(var L=0;L<h.length;L++)Xs(a,h[L],f,y,V);else y=c(y)?!!y.capture:!!y,f=Js(f),a&&a[vt]?(a=a.i,h=String(h).toString(),h in a.g&&(L=a.g[h],f=gn(L,f,y,V),-1<f&&(Ht(L[f]),Array.prototype.splice.call(L,f,1),L.length==0&&(delete a.g[h],a.h--)))):a&&(a=vo(a))&&(h=a.g[h.toString()],a=-1,h&&(a=gn(h,f,y,V)),(f=-1<a?h[a]:null)&&yo(f))}function yo(a){if(typeof a!="number"&&a&&!a.da){var h=a.src;if(h&&h[vt])tn(h.i,a);else{var f=a.type,y=a.proxy;h.removeEventListener?h.removeEventListener(f,y,a.capture):h.detachEvent?h.detachEvent(Ys(f),y):h.addListener&&h.removeListener&&h.removeListener(y),(f=vo(h))?(tn(f,a),f.h==0&&(f.src=null,h[nn]=null)):Ht(a)}}}function Ys(a){return a in pe?pe[a]:pe[a]="on"+a}function Bu(a,h){if(a.da)a=!0;else{h=new je(h,this);var f=a.listener,y=a.ha||a.src;a.fa&&yo(a),a=f.call(y,h)}return a}function vo(a){return a=a[nn],a instanceof mn?a:null}var si="__closure_events_fn_"+(1e9*Math.random()>>>0);function Js(a){return typeof a=="function"?a:(a[si]||(a[si]=function(h){return a.handleEvent(h)}),a[si])}function X(){ne.call(this),this.i=new mn(this),this.M=this,this.F=null}k(X,ne),X.prototype[vt]=!0,X.prototype.removeEventListener=function(a,h,f,y){Xs(this,a,h,f,y)};function xe(a,h){var f,y=a.F;if(y)for(f=[];y;y=y.F)f.push(y);if(a=a.M,y=h.type||h,typeof h=="string")h=new ie(h,a);else if(h instanceof ie)h.target=h.target||a;else{var V=h;h=new ie(y,a),R(h,V)}if(V=!0,f)for(var L=f.length-1;0<=L;L--){var U=h.g=f[L];V=Pr(U,y,!0,h)&&V}if(U=h.g=a,V=Pr(U,y,!0,h)&&V,V=Pr(U,y,!1,h)&&V,f)for(L=0;L<f.length;L++)U=h.g=f[L],V=Pr(U,y,!1,h)&&V}X.prototype.N=function(){if(X.aa.N.call(this),this.i){var a=this.i,h;for(h in a.g){for(var f=a.g[h],y=0;y<f.length;y++)Ht(f[y]);delete a.g[h],a.h--}}this.F=null},X.prototype.K=function(a,h,f,y){return this.i.add(String(a),h,!1,f,y)},X.prototype.L=function(a,h,f,y){return this.i.add(String(a),h,!0,f,y)};function Pr(a,h,f,y){if(h=a.i.g[String(h)],!h)return!0;h=h.concat();for(var V=!0,L=0;L<h.length;++L){var U=h[L];if(U&&!U.da&&U.capture==f){var me=U.listener,Xe=U.ha||U.src;U.fa&&tn(a.i,U),V=me.call(Xe,y)!==!1&&V}}return V&&!y.defaultPrevented}function vp(a,h,f){if(typeof a=="function")f&&(a=m(a,f));else if(a&&typeof a.handleEvent=="function")a=m(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<Number(h)?-1:l.setTimeout(a,h||0)}function _p(a){a.g=vp(()=>{a.g=null,a.i&&(a.i=!1,_p(a))},a.l);const h=a.h;a.h=null,a.m.apply(null,h)}class a1 extends ne{constructor(h,f){super(),this.m=h,this.l=f,this.h=null,this.i=!1,this.g=null}j(h){this.h=arguments,this.g?this.i=!0:_p(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function _o(a){ne.call(this),this.h=a,this.g={}}k(_o,ne);var Ep=[];function wp(a){M(a.g,function(h,f){this.g.hasOwnProperty(f)&&yo(h)},a),a.g={}}_o.prototype.N=function(){_o.aa.N.call(this),wp(this)},_o.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var $u=l.JSON.stringify,l1=l.JSON.parse,u1=class{stringify(a){return l.JSON.stringify(a,void 0)}parse(a){return l.JSON.parse(a,void 0)}};function Uu(){}Uu.prototype.h=null;function Tp(a){return a.h||(a.h=a.i())}function Sp(){}var Eo={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function zu(){ie.call(this,"d")}k(zu,ie);function Hu(){ie.call(this,"c")}k(Hu,ie);var Nr={},Cp=null;function Zs(){return Cp=Cp||new X}Nr.La="serverreachability";function Ip(a){ie.call(this,Nr.La,a)}k(Ip,ie);function wo(a){const h=Zs();xe(h,new Ip(h))}Nr.STAT_EVENT="statevent";function Rp(a,h){ie.call(this,Nr.STAT_EVENT,a),this.stat=h}k(Rp,ie);function dt(a){const h=Zs();xe(h,new Rp(h,a))}Nr.Ma="timingevent";function xp(a,h){ie.call(this,Nr.Ma,a),this.size=h}k(xp,ie);function To(a,h){if(typeof a!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){a()},h)}function So(){this.g=!0}So.prototype.xa=function(){this.g=!1};function c1(a,h,f,y,V,L){a.info(function(){if(a.g)if(L)for(var U="",me=L.split("&"),Xe=0;Xe<me.length;Xe++){var ce=me[Xe].split("=");if(1<ce.length){var rt=ce[0];ce=ce[1];var it=rt.split("_");U=2<=it.length&&it[1]=="type"?U+(rt+"="+ce+"&"):U+(rt+"=redacted&")}}else U=null;else U=L;return"XMLHTTP REQ ("+y+") [attempt "+V+"]: "+h+`
`+f+`
`+U})}function h1(a,h,f,y,V,L,U){a.info(function(){return"XMLHTTP RESP ("+y+") [ attempt "+V+"]: "+h+`
`+f+`
`+L+" "+U})}function ai(a,h,f,y){a.info(function(){return"XMLHTTP TEXT ("+h+"): "+f1(a,f)+(y?" "+y:"")})}function d1(a,h){a.info(function(){return"TIMEOUT: "+h})}So.prototype.info=function(){};function f1(a,h){if(!a.g)return h;if(!h)return null;try{var f=JSON.parse(h);if(f){for(a=0;a<f.length;a++)if(Array.isArray(f[a])){var y=f[a];if(!(2>y.length)){var V=y[1];if(Array.isArray(V)&&!(1>V.length)){var L=V[0];if(L!="noop"&&L!="stop"&&L!="close")for(var U=1;U<V.length;U++)V[U]=""}}}}return $u(f)}catch{return h}}var ea={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ap={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Wu;function ta(){}k(ta,Uu),ta.prototype.g=function(){return new XMLHttpRequest},ta.prototype.i=function(){return{}},Wu=new ta;function zn(a,h,f,y){this.j=a,this.i=h,this.l=f,this.R=y||1,this.U=new _o(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new kp}function kp(){this.i=null,this.g="",this.h=!1}var Pp={},Ku={};function qu(a,h,f){a.L=1,a.v=oa(yn(h)),a.m=f,a.P=!0,Np(a,null)}function Np(a,h){a.F=Date.now(),na(a),a.A=yn(a.v);var f=a.A,y=a.R;Array.isArray(y)||(y=[String(y)]),Wp(f.i,"t",y),a.C=0,f=a.j.J,a.h=new kp,a.g=um(a.j,f?h:null,!a.m),0<a.O&&(a.M=new a1(m(a.Y,a,a.g),a.O)),h=a.U,f=a.g,y=a.ca;var V="readystatechange";Array.isArray(V)||(V&&(Ep[0]=V.toString()),V=Ep);for(var L=0;L<V.length;L++){var U=Ar(f,V[L],y||h.handleEvent,!1,h.h||h);if(!U)break;h.g[U.key]=U}h=a.H?v(a.H):{},a.m?(a.u||(a.u="POST"),h["Content-Type"]="application/x-www-form-urlencoded",a.g.ea(a.A,a.u,a.m,h)):(a.u="GET",a.g.ea(a.A,a.u,null,h)),wo(),c1(a.i,a.u,a.A,a.l,a.R,a.m)}zn.prototype.ca=function(a){a=a.target;const h=this.M;h&&vn(a)==3?h.j():this.Y(a)},zn.prototype.Y=function(a){try{if(a==this.g)e:{const it=vn(this.g);var h=this.g.Ba();const ci=this.g.Z();if(!(3>it)&&(it!=3||this.g&&(this.h.h||this.g.oa()||Jp(this.g)))){this.J||it!=4||h==7||(h==8||0>=ci?wo(3):wo(2)),Gu(this);var f=this.g.Z();this.X=f;t:if(Dp(this)){var y=Jp(this.g);a="";var V=y.length,L=vn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Dr(this),Co(this);var U="";break t}this.h.i=new l.TextDecoder}for(h=0;h<V;h++)this.h.h=!0,a+=this.h.i.decode(y[h],{stream:!(L&&h==V-1)});y.length=0,this.h.g+=a,this.C=0,U=this.h.g}else U=this.g.oa();if(this.o=f==200,h1(this.i,this.u,this.A,this.l,this.R,it,f),this.o){if(this.T&&!this.K){t:{if(this.g){var me,Xe=this.g;if((me=Xe.g?Xe.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!E(me)){var ce=me;break t}}ce=null}if(f=ce)ai(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Qu(this,f);else{this.o=!1,this.s=3,dt(12),Dr(this),Co(this);break e}}if(this.P){f=!0;let Wt;for(;!this.J&&this.C<U.length;)if(Wt=p1(this,U),Wt==Ku){it==4&&(this.s=4,dt(14),f=!1),ai(this.i,this.l,null,"[Incomplete Response]");break}else if(Wt==Pp){this.s=4,dt(15),ai(this.i,this.l,U,"[Invalid Chunk]"),f=!1;break}else ai(this.i,this.l,Wt,null),Qu(this,Wt);if(Dp(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),it!=4||U.length!=0||this.h.h||(this.s=1,dt(16),f=!1),this.o=this.o&&f,!f)ai(this.i,this.l,U,"[Invalid Chunked Response]"),Dr(this),Co(this);else if(0<U.length&&!this.W){this.W=!0;var rt=this.j;rt.g==this&&rt.ba&&!rt.M&&(rt.j.info("Great, no buffering proxy detected. Bytes received: "+U.length),tc(rt),rt.M=!0,dt(11))}}else ai(this.i,this.l,U,null),Qu(this,U);it==4&&Dr(this),this.o&&!this.J&&(it==4?om(this.j,this):(this.o=!1,na(this)))}else N1(this.g),f==400&&0<U.indexOf("Unknown SID")?(this.s=3,dt(12)):(this.s=0,dt(13)),Dr(this),Co(this)}}}catch{}finally{}};function Dp(a){return a.g?a.u=="GET"&&a.L!=2&&a.j.Ca:!1}function p1(a,h){var f=a.C,y=h.indexOf(`
`,f);return y==-1?Ku:(f=Number(h.substring(f,y)),isNaN(f)?Pp:(y+=1,y+f>h.length?Ku:(h=h.slice(y,y+f),a.C=y+f,h)))}zn.prototype.cancel=function(){this.J=!0,Dr(this)};function na(a){a.S=Date.now()+a.I,Vp(a,a.I)}function Vp(a,h){if(a.B!=null)throw Error("WatchDog timer not null");a.B=To(m(a.ba,a),h)}function Gu(a){a.B&&(l.clearTimeout(a.B),a.B=null)}zn.prototype.ba=function(){this.B=null;const a=Date.now();0<=a-this.S?(d1(this.i,this.A),this.L!=2&&(wo(),dt(17)),Dr(this),this.s=2,Co(this)):Vp(this,this.S-a)};function Co(a){a.j.G==0||a.J||om(a.j,a)}function Dr(a){Gu(a);var h=a.M;h&&typeof h.ma=="function"&&h.ma(),a.M=null,wp(a.U),a.g&&(h=a.g,a.g=null,h.abort(),h.ma())}function Qu(a,h){try{var f=a.j;if(f.G!=0&&(f.g==a||Xu(f.h,a))){if(!a.K&&Xu(f.h,a)&&f.G==3){try{var y=f.Da.g.parse(h)}catch{y=null}if(Array.isArray(y)&&y.length==3){var V=y;if(V[0]==0){e:if(!f.u){if(f.g)if(f.g.F+3e3<a.F)ha(f),ua(f);else break e;ec(f),dt(18)}}else f.za=V[1],0<f.za-f.T&&37500>V[2]&&f.F&&f.v==0&&!f.C&&(f.C=To(m(f.Za,f),6e3));if(1>=Mp(f.h)&&f.ca){try{f.ca()}catch{}f.ca=void 0}}else Or(f,11)}else if((a.K||f.g==a)&&ha(f),!E(h))for(V=f.Da.g.parse(h),h=0;h<V.length;h++){let ce=V[h];if(f.T=ce[0],ce=ce[1],f.G==2)if(ce[0]=="c"){f.K=ce[1],f.ia=ce[2];const rt=ce[3];rt!=null&&(f.la=rt,f.j.info("VER="+f.la));const it=ce[4];it!=null&&(f.Aa=it,f.j.info("SVER="+f.Aa));const ci=ce[5];ci!=null&&typeof ci=="number"&&0<ci&&(y=1.5*ci,f.L=y,f.j.info("backChannelRequestTimeoutMs_="+y)),y=f;const Wt=a.g;if(Wt){const fa=Wt.g?Wt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(fa){var L=y.h;L.g||fa.indexOf("spdy")==-1&&fa.indexOf("quic")==-1&&fa.indexOf("h2")==-1||(L.j=L.l,L.g=new Set,L.h&&(Yu(L,L.h),L.h=null))}if(y.D){const nc=Wt.g?Wt.g.getResponseHeader("X-HTTP-Session-Id"):null;nc&&(y.ya=nc,ye(y.I,y.D,nc))}}f.G=3,f.l&&f.l.ua(),f.ba&&(f.R=Date.now()-a.F,f.j.info("Handshake RTT: "+f.R+"ms")),y=f;var U=a;if(y.qa=lm(y,y.J?y.ia:null,y.W),U.K){bp(y.h,U);var me=U,Xe=y.L;Xe&&(me.I=Xe),me.B&&(Gu(me),na(me)),y.g=U}else rm(y);0<f.i.length&&ca(f)}else ce[0]!="stop"&&ce[0]!="close"||Or(f,7);else f.G==3&&(ce[0]=="stop"||ce[0]=="close"?ce[0]=="stop"?Or(f,7):Zu(f):ce[0]!="noop"&&f.l&&f.l.ta(ce),f.v=0)}}wo(4)}catch{}}var m1=class{constructor(a,h){this.g=a,this.map=h}};function Op(a){this.l=a||10,l.PerformanceNavigationTiming?(a=l.performance.getEntriesByType("navigation"),a=0<a.length&&(a[0].nextHopProtocol=="hq"||a[0].nextHopProtocol=="h2")):a=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=a?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Lp(a){return a.h?!0:a.g?a.g.size>=a.j:!1}function Mp(a){return a.h?1:a.g?a.g.size:0}function Xu(a,h){return a.h?a.h==h:a.g?a.g.has(h):!1}function Yu(a,h){a.g?a.g.add(h):a.h=h}function bp(a,h){a.h&&a.h==h?a.h=null:a.g&&a.g.has(h)&&a.g.delete(h)}Op.prototype.cancel=function(){if(this.i=jp(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const a of this.g.values())a.cancel();this.g.clear()}};function jp(a){if(a.h!=null)return a.i.concat(a.h.D);if(a.g!=null&&a.g.size!==0){let h=a.i;for(const f of a.g.values())h=h.concat(f.D);return h}return P(a.i)}function g1(a){if(a.V&&typeof a.V=="function")return a.V();if(typeof Map<"u"&&a instanceof Map||typeof Set<"u"&&a instanceof Set)return Array.from(a.values());if(typeof a=="string")return a.split("");if(u(a)){for(var h=[],f=a.length,y=0;y<f;y++)h.push(a[y]);return h}h=[],f=0;for(y in a)h[f++]=a[y];return h}function y1(a){if(a.na&&typeof a.na=="function")return a.na();if(!a.V||typeof a.V!="function"){if(typeof Map<"u"&&a instanceof Map)return Array.from(a.keys());if(!(typeof Set<"u"&&a instanceof Set)){if(u(a)||typeof a=="string"){var h=[];a=a.length;for(var f=0;f<a;f++)h.push(f);return h}h=[],f=0;for(const y in a)h[f++]=y;return h}}}function Fp(a,h){if(a.forEach&&typeof a.forEach=="function")a.forEach(h,void 0);else if(u(a)||typeof a=="string")Array.prototype.forEach.call(a,h,void 0);else for(var f=y1(a),y=g1(a),V=y.length,L=0;L<V;L++)h.call(void 0,y[L],f&&f[L],a)}var Bp=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function v1(a,h){if(a){a=a.split("&");for(var f=0;f<a.length;f++){var y=a[f].indexOf("="),V=null;if(0<=y){var L=a[f].substring(0,y);V=a[f].substring(y+1)}else L=a[f];h(L,V?decodeURIComponent(V.replace(/\+/g," ")):"")}}}function Vr(a){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,a instanceof Vr){this.h=a.h,ra(this,a.j),this.o=a.o,this.g=a.g,ia(this,a.s),this.l=a.l;var h=a.i,f=new xo;f.i=h.i,h.g&&(f.g=new Map(h.g),f.h=h.h),$p(this,f),this.m=a.m}else a&&(h=String(a).match(Bp))?(this.h=!1,ra(this,h[1]||"",!0),this.o=Io(h[2]||""),this.g=Io(h[3]||"",!0),ia(this,h[4]),this.l=Io(h[5]||"",!0),$p(this,h[6]||"",!0),this.m=Io(h[7]||"")):(this.h=!1,this.i=new xo(null,this.h))}Vr.prototype.toString=function(){var a=[],h=this.j;h&&a.push(Ro(h,Up,!0),":");var f=this.g;return(f||h=="file")&&(a.push("//"),(h=this.o)&&a.push(Ro(h,Up,!0),"@"),a.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.s,f!=null&&a.push(":",String(f))),(f=this.l)&&(this.g&&f.charAt(0)!="/"&&a.push("/"),a.push(Ro(f,f.charAt(0)=="/"?w1:E1,!0))),(f=this.i.toString())&&a.push("?",f),(f=this.m)&&a.push("#",Ro(f,S1)),a.join("")};function yn(a){return new Vr(a)}function ra(a,h,f){a.j=f?Io(h,!0):h,a.j&&(a.j=a.j.replace(/:$/,""))}function ia(a,h){if(h){if(h=Number(h),isNaN(h)||0>h)throw Error("Bad port number "+h);a.s=h}else a.s=null}function $p(a,h,f){h instanceof xo?(a.i=h,C1(a.i,a.h)):(f||(h=Ro(h,T1)),a.i=new xo(h,a.h))}function ye(a,h,f){a.i.set(h,f)}function oa(a){return ye(a,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),a}function Io(a,h){return a?h?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function Ro(a,h,f){return typeof a=="string"?(a=encodeURI(a).replace(h,_1),f&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function _1(a){return a=a.charCodeAt(0),"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var Up=/[#\/\?@]/g,E1=/[#\?:]/g,w1=/[#\?]/g,T1=/[#\?@]/g,S1=/#/g;function xo(a,h){this.h=this.g=null,this.i=a||null,this.j=!!h}function Hn(a){a.g||(a.g=new Map,a.h=0,a.i&&v1(a.i,function(h,f){a.add(decodeURIComponent(h.replace(/\+/g," ")),f)}))}t=xo.prototype,t.add=function(a,h){Hn(this),this.i=null,a=li(this,a);var f=this.g.get(a);return f||this.g.set(a,f=[]),f.push(h),this.h+=1,this};function zp(a,h){Hn(a),h=li(a,h),a.g.has(h)&&(a.i=null,a.h-=a.g.get(h).length,a.g.delete(h))}function Hp(a,h){return Hn(a),h=li(a,h),a.g.has(h)}t.forEach=function(a,h){Hn(this),this.g.forEach(function(f,y){f.forEach(function(V){a.call(h,V,y,this)},this)},this)},t.na=function(){Hn(this);const a=Array.from(this.g.values()),h=Array.from(this.g.keys()),f=[];for(let y=0;y<h.length;y++){const V=a[y];for(let L=0;L<V.length;L++)f.push(h[y])}return f},t.V=function(a){Hn(this);let h=[];if(typeof a=="string")Hp(this,a)&&(h=h.concat(this.g.get(li(this,a))));else{a=Array.from(this.g.values());for(let f=0;f<a.length;f++)h=h.concat(a[f])}return h},t.set=function(a,h){return Hn(this),this.i=null,a=li(this,a),Hp(this,a)&&(this.h-=this.g.get(a).length),this.g.set(a,[h]),this.h+=1,this},t.get=function(a,h){return a?(a=this.V(a),0<a.length?String(a[0]):h):h};function Wp(a,h,f){zp(a,h),0<f.length&&(a.i=null,a.g.set(li(a,h),P(f)),a.h+=f.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const a=[],h=Array.from(this.g.keys());for(var f=0;f<h.length;f++){var y=h[f];const L=encodeURIComponent(String(y)),U=this.V(y);for(y=0;y<U.length;y++){var V=L;U[y]!==""&&(V+="="+encodeURIComponent(String(U[y]))),a.push(V)}}return this.i=a.join("&")};function li(a,h){return h=String(h),a.j&&(h=h.toLowerCase()),h}function C1(a,h){h&&!a.j&&(Hn(a),a.i=null,a.g.forEach(function(f,y){var V=y.toLowerCase();y!=V&&(zp(this,y),Wp(this,V,f))},a)),a.j=h}function I1(a,h){const f=new So;if(l.Image){const y=new Image;y.onload=T(Wn,f,"TestLoadImage: loaded",!0,h,y),y.onerror=T(Wn,f,"TestLoadImage: error",!1,h,y),y.onabort=T(Wn,f,"TestLoadImage: abort",!1,h,y),y.ontimeout=T(Wn,f,"TestLoadImage: timeout",!1,h,y),l.setTimeout(function(){y.ontimeout&&y.ontimeout()},1e4),y.src=a}else h(!1)}function R1(a,h){const f=new So,y=new AbortController,V=setTimeout(()=>{y.abort(),Wn(f,"TestPingServer: timeout",!1,h)},1e4);fetch(a,{signal:y.signal}).then(L=>{clearTimeout(V),L.ok?Wn(f,"TestPingServer: ok",!0,h):Wn(f,"TestPingServer: server error",!1,h)}).catch(()=>{clearTimeout(V),Wn(f,"TestPingServer: error",!1,h)})}function Wn(a,h,f,y,V){try{V&&(V.onload=null,V.onerror=null,V.onabort=null,V.ontimeout=null),y(f)}catch{}}function x1(){this.g=new u1}function A1(a,h,f){const y=f||"";try{Fp(a,function(V,L){let U=V;c(V)&&(U=$u(V)),h.push(y+L+"="+encodeURIComponent(U))})}catch(V){throw h.push(y+"type="+encodeURIComponent("_badmap")),V}}function sa(a){this.l=a.Ub||null,this.j=a.eb||!1}k(sa,Uu),sa.prototype.g=function(){return new aa(this.l,this.j)},sa.prototype.i=function(a){return function(){return a}}({});function aa(a,h){X.call(this),this.D=a,this.o=h,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}k(aa,X),t=aa.prototype,t.open=function(a,h){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=a,this.A=h,this.readyState=1,ko(this)},t.send=function(a){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const h={headers:this.u,method:this.B,credentials:this.m,cache:void 0};a&&(h.body=a),(this.D||l).fetch(new Request(this.A,h)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ao(this)),this.readyState=0},t.Sa=function(a){if(this.g&&(this.l=a,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=a.headers,this.readyState=2,ko(this)),this.g&&(this.readyState=3,ko(this),this.g)))if(this.responseType==="arraybuffer")a.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in a){if(this.j=a.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Kp(this)}else a.text().then(this.Ra.bind(this),this.ga.bind(this))};function Kp(a){a.j.read().then(a.Pa.bind(a)).catch(a.ga.bind(a))}t.Pa=function(a){if(this.g){if(this.o&&a.value)this.response.push(a.value);else if(!this.o){var h=a.value?a.value:new Uint8Array(0);(h=this.v.decode(h,{stream:!a.done}))&&(this.response=this.responseText+=h)}a.done?Ao(this):ko(this),this.readyState==3&&Kp(this)}},t.Ra=function(a){this.g&&(this.response=this.responseText=a,Ao(this))},t.Qa=function(a){this.g&&(this.response=a,Ao(this))},t.ga=function(){this.g&&Ao(this)};function Ao(a){a.readyState=4,a.l=null,a.j=null,a.v=null,ko(a)}t.setRequestHeader=function(a,h){this.u.append(a,h)},t.getResponseHeader=function(a){return this.h&&this.h.get(a.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const a=[],h=this.h.entries();for(var f=h.next();!f.done;)f=f.value,a.push(f[0]+": "+f[1]),f=h.next();return a.join(`\r
`)};function ko(a){a.onreadystatechange&&a.onreadystatechange.call(a)}Object.defineProperty(aa.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(a){this.m=a?"include":"same-origin"}});function qp(a){let h="";return M(a,function(f,y){h+=y,h+=":",h+=f,h+=`\r
`}),h}function Ju(a,h,f){e:{for(y in f){var y=!1;break e}y=!0}y||(f=qp(f),typeof a=="string"?f!=null&&encodeURIComponent(String(f)):ye(a,h,f))}function Ae(a){X.call(this),this.headers=new Map,this.o=a||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}k(Ae,X);var k1=/^https?$/i,P1=["POST","PUT"];t=Ae.prototype,t.Ha=function(a){this.J=a},t.ea=function(a,h,f,y){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+a);h=h?h.toUpperCase():"GET",this.D=a,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Wu.g(),this.v=this.o?Tp(this.o):Tp(Wu),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(h,String(a),!0),this.B=!1}catch(L){Gp(this,L);return}if(a=f||"",f=new Map(this.headers),y)if(Object.getPrototypeOf(y)===Object.prototype)for(var V in y)f.set(V,y[V]);else if(typeof y.keys=="function"&&typeof y.get=="function")for(const L of y.keys())f.set(L,y.get(L));else throw Error("Unknown input type for opt_headers: "+String(y));y=Array.from(f.keys()).find(L=>L.toLowerCase()=="content-type"),V=l.FormData&&a instanceof l.FormData,!(0<=Array.prototype.indexOf.call(P1,h,void 0))||y||V||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[L,U]of f)this.g.setRequestHeader(L,U);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Yp(this),this.u=!0,this.g.send(a),this.u=!1}catch(L){Gp(this,L)}};function Gp(a,h){a.h=!1,a.g&&(a.j=!0,a.g.abort(),a.j=!1),a.l=h,a.m=5,Qp(a),la(a)}function Qp(a){a.A||(a.A=!0,xe(a,"complete"),xe(a,"error"))}t.abort=function(a){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=a||7,xe(this,"complete"),xe(this,"abort"),la(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),la(this,!0)),Ae.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Xp(this):this.bb())},t.bb=function(){Xp(this)};function Xp(a){if(a.h&&typeof s<"u"&&(!a.v[1]||vn(a)!=4||a.Z()!=2)){if(a.u&&vn(a)==4)vp(a.Ea,0,a);else if(xe(a,"readystatechange"),vn(a)==4){a.h=!1;try{const U=a.Z();e:switch(U){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var h=!0;break e;default:h=!1}var f;if(!(f=h)){var y;if(y=U===0){var V=String(a.D).match(Bp)[1]||null;!V&&l.self&&l.self.location&&(V=l.self.location.protocol.slice(0,-1)),y=!k1.test(V?V.toLowerCase():"")}f=y}if(f)xe(a,"complete"),xe(a,"success");else{a.m=6;try{var L=2<vn(a)?a.g.statusText:""}catch{L=""}a.l=L+" ["+a.Z()+"]",Qp(a)}}finally{la(a)}}}}function la(a,h){if(a.g){Yp(a);const f=a.g,y=a.v[0]?()=>{}:null;a.g=null,a.v=null,h||xe(a,"ready");try{f.onreadystatechange=y}catch{}}}function Yp(a){a.I&&(l.clearTimeout(a.I),a.I=null)}t.isActive=function(){return!!this.g};function vn(a){return a.g?a.g.readyState:0}t.Z=function(){try{return 2<vn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(a){if(this.g){var h=this.g.responseText;return a&&h.indexOf(a)==0&&(h=h.substring(a.length)),l1(h)}};function Jp(a){try{if(!a.g)return null;if("response"in a.g)return a.g.response;switch(a.H){case"":case"text":return a.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in a.g)return a.g.mozResponseArrayBuffer}return null}catch{return null}}function N1(a){const h={};a=(a.g&&2<=vn(a)&&a.g.getAllResponseHeaders()||"").split(`\r
`);for(let y=0;y<a.length;y++){if(E(a[y]))continue;var f=A(a[y]);const V=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();const L=h[V]||[];h[V]=L,L.push(f)}S(h,function(y){return y.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Po(a,h,f){return f&&f.internalChannelParams&&f.internalChannelParams[a]||h}function Zp(a){this.Aa=0,this.i=[],this.j=new So,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Po("failFast",!1,a),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Po("baseRetryDelayMs",5e3,a),this.cb=Po("retryDelaySeedMs",1e4,a),this.Wa=Po("forwardChannelMaxRetries",2,a),this.wa=Po("forwardChannelRequestTimeoutMs",2e4,a),this.pa=a&&a.xmlHttpFactory||void 0,this.Xa=a&&a.Tb||void 0,this.Ca=a&&a.useFetchStreams||!1,this.L=void 0,this.J=a&&a.supportsCrossDomainXhr||!1,this.K="",this.h=new Op(a&&a.concurrentRequestLimit),this.Da=new x1,this.P=a&&a.fastHandshake||!1,this.O=a&&a.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=a&&a.Rb||!1,a&&a.xa&&this.j.xa(),a&&a.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&a&&a.detectBufferingProxy||!1,this.ja=void 0,a&&a.longPollingTimeout&&0<a.longPollingTimeout&&(this.ja=a.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Zp.prototype,t.la=8,t.G=1,t.connect=function(a,h,f,y){dt(0),this.W=a,this.H=h||{},f&&y!==void 0&&(this.H.OSID=f,this.H.OAID=y),this.F=this.X,this.I=lm(this,null,this.W),ca(this)};function Zu(a){if(em(a),a.G==3){var h=a.U++,f=yn(a.I);if(ye(f,"SID",a.K),ye(f,"RID",h),ye(f,"TYPE","terminate"),No(a,f),h=new zn(a,a.j,h),h.L=2,h.v=oa(yn(f)),f=!1,l.navigator&&l.navigator.sendBeacon)try{f=l.navigator.sendBeacon(h.v.toString(),"")}catch{}!f&&l.Image&&(new Image().src=h.v,f=!0),f||(h.g=um(h.j,null),h.g.ea(h.v)),h.F=Date.now(),na(h)}am(a)}function ua(a){a.g&&(tc(a),a.g.cancel(),a.g=null)}function em(a){ua(a),a.u&&(l.clearTimeout(a.u),a.u=null),ha(a),a.h.cancel(),a.s&&(typeof a.s=="number"&&l.clearTimeout(a.s),a.s=null)}function ca(a){if(!Lp(a.h)&&!a.s){a.s=!0;var h=a.Ga;be||Q(),$||(be(),$=!0),G.add(h,a),a.B=0}}function D1(a,h){return Mp(a.h)>=a.h.j-(a.s?1:0)?!1:a.s?(a.i=h.D.concat(a.i),!0):a.G==1||a.G==2||a.B>=(a.Va?0:a.Wa)?!1:(a.s=To(m(a.Ga,a,h),sm(a,a.B)),a.B++,!0)}t.Ga=function(a){if(this.s)if(this.s=null,this.G==1){if(!a){this.U=Math.floor(1e5*Math.random()),a=this.U++;const V=new zn(this,this.j,a);let L=this.o;if(this.S&&(L?(L=v(L),R(L,this.S)):L=this.S),this.m!==null||this.O||(V.H=L,L=null),this.P)e:{for(var h=0,f=0;f<this.i.length;f++){t:{var y=this.i[f];if("__data__"in y.map&&(y=y.map.__data__,typeof y=="string")){y=y.length;break t}y=void 0}if(y===void 0)break;if(h+=y,4096<h){h=f;break e}if(h===4096||f===this.i.length-1){h=f+1;break e}}h=1e3}else h=1e3;h=nm(this,V,h),f=yn(this.I),ye(f,"RID",a),ye(f,"CVER",22),this.D&&ye(f,"X-HTTP-Session-Id",this.D),No(this,f),L&&(this.O?h="headers="+encodeURIComponent(String(qp(L)))+"&"+h:this.m&&Ju(f,this.m,L)),Yu(this.h,V),this.Ua&&ye(f,"TYPE","init"),this.P?(ye(f,"$req",h),ye(f,"SID","null"),V.T=!0,qu(V,f,null)):qu(V,f,h),this.G=2}}else this.G==3&&(a?tm(this,a):this.i.length==0||Lp(this.h)||tm(this))};function tm(a,h){var f;h?f=h.l:f=a.U++;const y=yn(a.I);ye(y,"SID",a.K),ye(y,"RID",f),ye(y,"AID",a.T),No(a,y),a.m&&a.o&&Ju(y,a.m,a.o),f=new zn(a,a.j,f,a.B+1),a.m===null&&(f.H=a.o),h&&(a.i=h.D.concat(a.i)),h=nm(a,f,1e3),f.I=Math.round(.5*a.wa)+Math.round(.5*a.wa*Math.random()),Yu(a.h,f),qu(f,y,h)}function No(a,h){a.H&&M(a.H,function(f,y){ye(h,y,f)}),a.l&&Fp({},function(f,y){ye(h,y,f)})}function nm(a,h,f){f=Math.min(a.i.length,f);var y=a.l?m(a.l.Na,a.l,a):null;e:{var V=a.i;let L=-1;for(;;){const U=["count="+f];L==-1?0<f?(L=V[0].g,U.push("ofs="+L)):L=0:U.push("ofs="+L);let me=!0;for(let Xe=0;Xe<f;Xe++){let ce=V[Xe].g;const rt=V[Xe].map;if(ce-=L,0>ce)L=Math.max(0,V[Xe].g-100),me=!1;else try{A1(rt,U,"req"+ce+"_")}catch{y&&y(rt)}}if(me){y=U.join("&");break e}}}return a=a.i.splice(0,f),h.D=a,y}function rm(a){if(!a.g&&!a.u){a.Y=1;var h=a.Fa;be||Q(),$||(be(),$=!0),G.add(h,a),a.v=0}}function ec(a){return a.g||a.u||3<=a.v?!1:(a.Y++,a.u=To(m(a.Fa,a),sm(a,a.v)),a.v++,!0)}t.Fa=function(){if(this.u=null,im(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var a=2*this.R;this.j.info("BP detection timer enabled: "+a),this.A=To(m(this.ab,this),a)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,dt(10),ua(this),im(this))};function tc(a){a.A!=null&&(l.clearTimeout(a.A),a.A=null)}function im(a){a.g=new zn(a,a.j,"rpc",a.Y),a.m===null&&(a.g.H=a.o),a.g.O=0;var h=yn(a.qa);ye(h,"RID","rpc"),ye(h,"SID",a.K),ye(h,"AID",a.T),ye(h,"CI",a.F?"0":"1"),!a.F&&a.ja&&ye(h,"TO",a.ja),ye(h,"TYPE","xmlhttp"),No(a,h),a.m&&a.o&&Ju(h,a.m,a.o),a.L&&(a.g.I=a.L);var f=a.g;a=a.ia,f.L=1,f.v=oa(yn(h)),f.m=null,f.P=!0,Np(f,a)}t.Za=function(){this.C!=null&&(this.C=null,ua(this),ec(this),dt(19))};function ha(a){a.C!=null&&(l.clearTimeout(a.C),a.C=null)}function om(a,h){var f=null;if(a.g==h){ha(a),tc(a),a.g=null;var y=2}else if(Xu(a.h,h))f=h.D,bp(a.h,h),y=1;else return;if(a.G!=0){if(h.o)if(y==1){f=h.m?h.m.length:0,h=Date.now()-h.F;var V=a.B;y=Zs(),xe(y,new xp(y,f)),ca(a)}else rm(a);else if(V=h.s,V==3||V==0&&0<h.X||!(y==1&&D1(a,h)||y==2&&ec(a)))switch(f&&0<f.length&&(h=a.h,h.i=h.i.concat(f)),V){case 1:Or(a,5);break;case 4:Or(a,10);break;case 3:Or(a,6);break;default:Or(a,2)}}}function sm(a,h){let f=a.Ta+Math.floor(Math.random()*a.cb);return a.isActive()||(f*=2),f*h}function Or(a,h){if(a.j.info("Error code "+h),h==2){var f=m(a.fb,a),y=a.Xa;const V=!y;y=new Vr(y||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||ra(y,"https"),oa(y),V?I1(y.toString(),f):R1(y.toString(),f)}else dt(2);a.G=0,a.l&&a.l.sa(h),am(a),em(a)}t.fb=function(a){a?(this.j.info("Successfully pinged google.com"),dt(2)):(this.j.info("Failed to ping google.com"),dt(1))};function am(a){if(a.G=0,a.ka=[],a.l){const h=jp(a.h);(h.length!=0||a.i.length!=0)&&(N(a.ka,h),N(a.ka,a.i),a.h.i.length=0,P(a.i),a.i.length=0),a.l.ra()}}function lm(a,h,f){var y=f instanceof Vr?yn(f):new Vr(f);if(y.g!="")h&&(y.g=h+"."+y.g),ia(y,y.s);else{var V=l.location;y=V.protocol,h=h?h+"."+V.hostname:V.hostname,V=+V.port;var L=new Vr(null);y&&ra(L,y),h&&(L.g=h),V&&ia(L,V),f&&(L.l=f),y=L}return f=a.D,h=a.ya,f&&h&&ye(y,f,h),ye(y,"VER",a.la),No(a,y),y}function um(a,h,f){if(h&&!a.J)throw Error("Can't create secondary domain capable XhrIo object.");return h=a.Ca&&!a.pa?new Ae(new sa({eb:f})):new Ae(a.pa),h.Ha(a.J),h}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function cm(){}t=cm.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function da(){}da.prototype.g=function(a,h){return new At(a,h)};function At(a,h){X.call(this),this.g=new Zp(h),this.l=a,this.h=h&&h.messageUrlParams||null,a=h&&h.messageHeaders||null,h&&h.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.g.o=a,a=h&&h.initMessageHeaders||null,h&&h.messageContentType&&(a?a["X-WebChannel-Content-Type"]=h.messageContentType:a={"X-WebChannel-Content-Type":h.messageContentType}),h&&h.va&&(a?a["X-WebChannel-Client-Profile"]=h.va:a={"X-WebChannel-Client-Profile":h.va}),this.g.S=a,(a=h&&h.Sb)&&!E(a)&&(this.g.m=a),this.v=h&&h.supportsCrossDomainXhr||!1,this.u=h&&h.sendRawJson||!1,(h=h&&h.httpSessionIdParam)&&!E(h)&&(this.g.D=h,a=this.h,a!==null&&h in a&&(a=this.h,h in a&&delete a[h])),this.j=new ui(this)}k(At,X),At.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},At.prototype.close=function(){Zu(this.g)},At.prototype.o=function(a){var h=this.g;if(typeof a=="string"){var f={};f.__data__=a,a=f}else this.u&&(f={},f.__data__=$u(a),a=f);h.i.push(new m1(h.Ya++,a)),h.G==3&&ca(h)},At.prototype.N=function(){this.g.l=null,delete this.j,Zu(this.g),delete this.g,At.aa.N.call(this)};function hm(a){zu.call(this),a.__headers__&&(this.headers=a.__headers__,this.statusCode=a.__status__,delete a.__headers__,delete a.__status__);var h=a.__sm__;if(h){e:{for(const f in h){a=f;break e}a=void 0}(this.i=a)&&(a=this.i,h=h!==null&&a in h?h[a]:void 0),this.data=h}else this.data=a}k(hm,zu);function dm(){Hu.call(this),this.status=1}k(dm,Hu);function ui(a){this.g=a}k(ui,cm),ui.prototype.ua=function(){xe(this.g,"a")},ui.prototype.ta=function(a){xe(this.g,new hm(a))},ui.prototype.sa=function(a){xe(this.g,new dm)},ui.prototype.ra=function(){xe(this.g,"b")},da.prototype.createWebChannel=da.prototype.g,At.prototype.send=At.prototype.o,At.prototype.open=At.prototype.m,At.prototype.close=At.prototype.close,g0=function(){return new da},m0=function(){return Zs()},p0=Nr,zh={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ea.NO_ERROR=0,ea.TIMEOUT=8,ea.HTTP_ERROR=6,Ya=ea,Ap.COMPLETE="complete",f0=Ap,Sp.EventType=Eo,Eo.OPEN="a",Eo.CLOSE="b",Eo.ERROR="c",Eo.MESSAGE="d",X.prototype.listen=X.prototype.K,Ko=Sp,Ae.prototype.listenOnce=Ae.prototype.L,Ae.prototype.getLastError=Ae.prototype.Ka,Ae.prototype.getLastErrorCode=Ae.prototype.Ba,Ae.prototype.getStatus=Ae.prototype.Z,Ae.prototype.getResponseJson=Ae.prototype.Oa,Ae.prototype.getResponseText=Ae.prototype.oa,Ae.prototype.send=Ae.prototype.ea,Ae.prototype.setWithCredentials=Ae.prototype.Ha,d0=Ae}).apply(typeof Na<"u"?Na:typeof self<"u"?self:typeof window<"u"?window:{});const Vg="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}lt.UNAUTHENTICATED=new lt(null),lt.GOOGLE_CREDENTIALS=new lt("google-credentials-uid"),lt.FIRST_PARTY=new lt("first-party-uid"),lt.MOCK_USER=new lt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let oo="11.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zr=new s0("@firebase/firestore");function pi(){return Zr.logLevel}function z(t,...e){if(Zr.logLevel<=se.DEBUG){const n=e.map(ff);Zr.debug(`Firestore (${oo}): ${t}`,...n)}}function On(t,...e){if(Zr.logLevel<=se.ERROR){const n=e.map(ff);Zr.error(`Firestore (${oo}): ${t}`,...n)}}function qi(t,...e){if(Zr.logLevel<=se.WARN){const n=e.map(ff);Zr.warn(`Firestore (${oo}): ${t}`,...n)}}function ff(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y(t="Unexpected state"){const e=`FIRESTORE (${oo}) INTERNAL ASSERTION FAILED: `+t;throw On(e),new Error(e)}function he(t,e){t||Y()}function Z(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class W extends io{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class In{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y0{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class MI{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(lt.UNAUTHENTICATED))}shutdown(){}}class bI{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class jI{constructor(e){this.t=e,this.currentUser=lt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){he(this.o===void 0);let r=this.i;const i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let o=new In;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new In,e.enqueueRetryable(()=>i(this.currentUser))};const s=()=>{const u=o;e.enqueueRetryable(async()=>{await u.promise,await i(this.currentUser)})},l=u=>{z("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(u=>l(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?l(u):(z("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new In)}},0),s()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(z("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(he(typeof r.accessToken=="string"),new y0(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return he(e===null||typeof e=="string"),new lt(e)}}class FI{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=lt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class BI{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new FI(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(lt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class $I{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class UI{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){he(this.o===void 0);const r=o=>{o.error!=null&&z("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.R;return this.R=o.token,z("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{z("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):z("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(he(typeof n.token=="string"),this.R=n.token,new $I(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zI(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v0{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=zI(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%e.length))}return r}}function ae(t,e){return t<e?-1:t>e?1:0}function Gi(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ze{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new W(F.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new W(F.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new W(F.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new W(F.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return ze.fromMillis(Date.now())}static fromDate(e){return ze.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new ze(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ae(this.nanoseconds,e.nanoseconds):ae(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J{constructor(e){this.timestamp=e}static fromTimestamp(e){return new J(e)}static min(){return new J(new ze(0,0))}static max(){return new J(new ze(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ps{constructor(e,n,r){n===void 0?n=0:n>e.length&&Y(),r===void 0?r=e.length-n:r>e.length-n&&Y(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Ps.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ps?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=e.get(i),s=n.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class we extends Ps{construct(e,n,r){return new we(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new W(F.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new we(n)}static emptyPath(){return new we([])}}const HI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ze extends Ps{construct(e,n,r){return new Ze(e,n,r)}static isValidIdentifier(e){return HI.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ze.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Ze(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new W(F.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<e.length;){const l=e[i];if(l==="\\"){if(i+1===e.length)throw new W(F.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new W(F.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else l==="`"?(s=!s,i++):l!=="."||s?(r+=l,i++):(o(),i++)}if(o(),s)throw new W(F.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ze(n)}static emptyPath(){return new Ze([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K{constructor(e){this.path=e}static fromPath(e){return new K(we.fromString(e))}static fromName(e){return new K(we.fromString(e).popFirst(5))}static empty(){return new K(we.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&we.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return we.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new K(new we(e.slice()))}}function WI(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=J.fromTimestamp(r===1e9?new ze(n+1,0):new ze(n,r));return new gr(i,K.empty(),e)}function KI(t){return new gr(t.readTime,t.key,-1)}class gr{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new gr(J.min(),K.empty(),-1)}static max(){return new gr(J.max(),K.empty(),-1)}}function qI(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=K.comparator(t.documentKey,e.documentKey),n!==0?n:ae(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class QI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function so(t){if(t.code!==F.FAILED_PRECONDITION||t.message!==GI)throw t;z("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Y(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new b((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof b?n:b.resolve(n)}catch(n){return b.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):b.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):b.reject(n)}static resolve(e){return new b((n,r)=>{n(e)})}static reject(e){return new b((n,r)=>{r(e)})}static waitFor(e){return new b((n,r)=>{let i=0,o=0,s=!1;e.forEach(l=>{++i,l.next(()=>{++o,s&&o===i&&n()},u=>r(u))}),s=!0,o===i&&n()})}static or(e){let n=b.resolve(!1);for(const r of e)n=n.next(i=>i?b.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new b((r,i)=>{const o=e.length,s=new Array(o);let l=0;for(let u=0;u<o;u++){const c=u;n(e[c]).next(d=>{s[c]=d,++l,l===o&&r(s)},d=>i(d))}})}static doWhile(e,n){return new b((r,i)=>{const o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}}function XI(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function ao(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pu{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}pu.oe=-1;function mu(t){return t==null}function Vl(t){return t===0&&1/t==-1/0}function YI(t){return typeof t=="number"&&Number.isInteger(t)&&!Vl(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JI(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=Og(e)),e=ZI(t.get(n),e);return Og(e)}function ZI(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const o=t.charAt(i);switch(o){case"\0":n+="";break;case"":n+="";break;default:n+=o}}return n}function Og(t){return t+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lg(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ir(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function _0(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{constructor(e,n){this.comparator=e,this.root=n||Je.EMPTY}insert(e,n){return new Re(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Je.BLACK,null,null))}remove(e){return new Re(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Je.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Da(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Da(this.root,e,this.comparator,!1)}getReverseIterator(){return new Da(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Da(this.root,e,this.comparator,!0)}}class Da{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Je{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??Je.RED,this.left=i??Je.EMPTY,this.right=o??Je.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new Je(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Je.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Je.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Je.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Je.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Y();const e=this.left.check();if(e!==this.right.check())throw Y();return e+(this.isRed()?0:1)}}Je.EMPTY=null,Je.RED=!0,Je.BLACK=!1;Je.EMPTY=new class{constructor(){this.size=0}get key(){throw Y()}get value(){throw Y()}get color(){throw Y()}get left(){throw Y()}get right(){throw Y()}copy(e,n,r,i,o){return this}insert(e,n,r){return new Je(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qe{constructor(e){this.comparator=e,this.data=new Re(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Mg(this.data.getIterator())}getIteratorFrom(e){return new Mg(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Qe)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Qe(this.comparator);return n.data=e,n}}class Mg{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dt{constructor(e){this.fields=e,e.sort(Ze.comparator)}static empty(){return new Dt([])}unionWith(e){let n=new Qe(Ze.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Dt(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Gi(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new E0("Invalid base64 string: "+o):o}}(e);return new nt(n)}static fromUint8Array(e){const n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new nt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ae(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}nt.EMPTY_BYTE_STRING=new nt("");const eR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function yr(t){if(he(!!t),typeof t=="string"){let e=0;const n=eR.exec(t);if(he(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Pe(t.seconds),nanos:Pe(t.nanos)}}function Pe(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function vr(t){return typeof t=="string"?nt.fromBase64String(t):nt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pf(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function gu(t){const e=t.mapValue.fields.__previous_value__;return pf(e)?gu(e):e}function Ns(t){const e=yr(t.mapValue.fields.__local_write_time__.timestampValue);return new ze(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tR{constructor(e,n,r,i,o,s,l,u,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=l,this.longPollingOptions=u,this.useFetchStreams=c}}class Ds{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Ds("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Ds&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Va={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function _r(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?pf(t)?4:rR(t)?9007199254740991:nR(t)?10:11:Y()}function hn(t,e){if(t===e)return!0;const n=_r(t);if(n!==_r(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Ns(t).isEqual(Ns(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const s=yr(i.timestampValue),l=yr(o.timestampValue);return s.seconds===l.seconds&&s.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return vr(i.bytesValue).isEqual(vr(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return Pe(i.geoPointValue.latitude)===Pe(o.geoPointValue.latitude)&&Pe(i.geoPointValue.longitude)===Pe(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Pe(i.integerValue)===Pe(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const s=Pe(i.doubleValue),l=Pe(o.doubleValue);return s===l?Vl(s)===Vl(l):isNaN(s)&&isNaN(l)}return!1}(t,e);case 9:return Gi(t.arrayValue.values||[],e.arrayValue.values||[],hn);case 10:case 11:return function(i,o){const s=i.mapValue.fields||{},l=o.mapValue.fields||{};if(Lg(s)!==Lg(l))return!1;for(const u in s)if(s.hasOwnProperty(u)&&(l[u]===void 0||!hn(s[u],l[u])))return!1;return!0}(t,e);default:return Y()}}function Vs(t,e){return(t.values||[]).find(n=>hn(n,e))!==void 0}function Qi(t,e){if(t===e)return 0;const n=_r(t),r=_r(e);if(n!==r)return ae(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ae(t.booleanValue,e.booleanValue);case 2:return function(o,s){const l=Pe(o.integerValue||o.doubleValue),u=Pe(s.integerValue||s.doubleValue);return l<u?-1:l>u?1:l===u?0:isNaN(l)?isNaN(u)?0:-1:1}(t,e);case 3:return bg(t.timestampValue,e.timestampValue);case 4:return bg(Ns(t),Ns(e));case 5:return ae(t.stringValue,e.stringValue);case 6:return function(o,s){const l=vr(o),u=vr(s);return l.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){const l=o.split("/"),u=s.split("/");for(let c=0;c<l.length&&c<u.length;c++){const d=ae(l[c],u[c]);if(d!==0)return d}return ae(l.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){const l=ae(Pe(o.latitude),Pe(s.latitude));return l!==0?l:ae(Pe(o.longitude),Pe(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return jg(t.arrayValue,e.arrayValue);case 10:return function(o,s){var l,u,c,d;const p=o.fields||{},m=s.fields||{},T=(l=p.value)===null||l===void 0?void 0:l.arrayValue,k=(u=m.value)===null||u===void 0?void 0:u.arrayValue,P=ae(((c=T==null?void 0:T.values)===null||c===void 0?void 0:c.length)||0,((d=k==null?void 0:k.values)===null||d===void 0?void 0:d.length)||0);return P!==0?P:jg(T,k)}(t.mapValue,e.mapValue);case 11:return function(o,s){if(o===Va.mapValue&&s===Va.mapValue)return 0;if(o===Va.mapValue)return 1;if(s===Va.mapValue)return-1;const l=o.fields||{},u=Object.keys(l),c=s.fields||{},d=Object.keys(c);u.sort(),d.sort();for(let p=0;p<u.length&&p<d.length;++p){const m=ae(u[p],d[p]);if(m!==0)return m;const T=Qi(l[u[p]],c[d[p]]);if(T!==0)return T}return ae(u.length,d.length)}(t.mapValue,e.mapValue);default:throw Y()}}function bg(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ae(t,e);const n=yr(t),r=yr(e),i=ae(n.seconds,r.seconds);return i!==0?i:ae(n.nanos,r.nanos)}function jg(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const o=Qi(n[i],r[i]);if(o)return o}return ae(n.length,r.length)}function Xi(t){return Hh(t)}function Hh(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=yr(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return vr(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return K.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=Hh(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const s of r)o?o=!1:i+=",",i+=`${s}:${Hh(n.fields[s])}`;return i+"}"}(t.mapValue):Y()}function Ja(t){switch(_r(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=gu(t);return e?16+Ja(e):16;case 5:return 2*t.stringValue.length;case 6:return vr(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,o)=>i+Ja(o),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return Ir(r.fields,(o,s)=>{i+=o.length+Ja(s)}),i}(t.mapValue);default:throw Y()}}function Wh(t){return!!t&&"integerValue"in t}function mf(t){return!!t&&"arrayValue"in t}function Fg(t){return!!t&&"nullValue"in t}function Bg(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Za(t){return!!t&&"mapValue"in t}function nR(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function ss(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Ir(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=ss(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ss(t.arrayValue.values[n]);return e}return Object.assign({},t)}function rR(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wt{constructor(e){this.value=e}static empty(){return new wt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Za(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ss(n)}setAll(e){let n=Ze.emptyPath(),r={},i=[];e.forEach((s,l)=>{if(!n.isImmediateParentOf(l)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=l.popLast()}s?r[l.lastSegment()]=ss(s):i.push(l.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());Za(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return hn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Za(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Ir(n,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new wt(ss(this.value))}}function w0(t){const e=[];return Ir(t.fields,(n,r)=>{const i=new Ze([n]);if(Za(r)){const o=w0(r.mapValue).fields;if(o.length===0)e.push(i);else for(const s of o)e.push(i.child(s))}else e.push(i)}),new Dt(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ct{constructor(e,n,r,i,o,s,l){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=l}static newInvalidDocument(e){return new ct(e,0,J.min(),J.min(),J.min(),wt.empty(),0)}static newFoundDocument(e,n,r,i){return new ct(e,1,n,J.min(),r,i,0)}static newNoDocument(e,n){return new ct(e,2,n,J.min(),J.min(),wt.empty(),0)}static newUnknownDocument(e,n){return new ct(e,3,n,J.min(),J.min(),wt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(J.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=wt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=wt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=J.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof ct&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ct(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ol{constructor(e,n){this.position=e,this.inclusive=n}}function $g(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],s=t.position[i];if(o.field.isKeyField()?r=K.comparator(K.fromName(s.referenceValue),n.key):r=Qi(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function Ug(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!hn(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ll{constructor(e,n="asc"){this.field=e,this.dir=n}}function iR(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T0{}class $e extends T0{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new sR(e,n,r):n==="array-contains"?new uR(e,r):n==="in"?new cR(e,r):n==="not-in"?new hR(e,r):n==="array-contains-any"?new dR(e,r):new $e(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new aR(e,r):new lR(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Qi(n,this.value)):n!==null&&_r(this.value)===_r(n)&&this.matchesComparison(Qi(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Y()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class dn extends T0{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new dn(e,n)}matches(e){return S0(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function S0(t){return t.op==="and"}function C0(t){return oR(t)&&S0(t)}function oR(t){for(const e of t.filters)if(e instanceof dn)return!1;return!0}function Kh(t){if(t instanceof $e)return t.field.canonicalString()+t.op.toString()+Xi(t.value);if(C0(t))return t.filters.map(e=>Kh(e)).join(",");{const e=t.filters.map(n=>Kh(n)).join(",");return`${t.op}(${e})`}}function I0(t,e){return t instanceof $e?function(r,i){return i instanceof $e&&r.op===i.op&&r.field.isEqual(i.field)&&hn(r.value,i.value)}(t,e):t instanceof dn?function(r,i){return i instanceof dn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,l)=>o&&I0(s,i.filters[l]),!0):!1}(t,e):void Y()}function R0(t){return t instanceof $e?function(n){return`${n.field.canonicalString()} ${n.op} ${Xi(n.value)}`}(t):t instanceof dn?function(n){return n.op.toString()+" {"+n.getFilters().map(R0).join(" ,")+"}"}(t):"Filter"}class sR extends $e{constructor(e,n,r){super(e,n,r),this.key=K.fromName(r.referenceValue)}matches(e){const n=K.comparator(e.key,this.key);return this.matchesComparison(n)}}class aR extends $e{constructor(e,n){super(e,"in",n),this.keys=x0("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class lR extends $e{constructor(e,n){super(e,"not-in",n),this.keys=x0("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function x0(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>K.fromName(r.referenceValue))}class uR extends $e{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return mf(n)&&Vs(n.arrayValue,this.value)}}class cR extends $e{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Vs(this.value.arrayValue,n)}}class hR extends $e{constructor(e,n){super(e,"not-in",n)}matches(e){if(Vs(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Vs(this.value.arrayValue,n)}}class dR extends $e{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!mf(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Vs(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fR{constructor(e,n=null,r=[],i=[],o=null,s=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=l,this.ue=null}}function zg(t,e=null,n=[],r=[],i=null,o=null,s=null){return new fR(t,e,n,r,i,o,s)}function gf(t){const e=Z(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Kh(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),mu(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Xi(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Xi(r)).join(",")),e.ue=n}return e.ue}function yf(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!iR(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!I0(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Ug(t.startAt,e.startAt)&&Ug(t.endAt,e.endAt)}function qh(t){return K.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yu{constructor(e,n=null,r=[],i=[],o=null,s="F",l=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=l,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function pR(t,e,n,r,i,o,s,l){return new yu(t,e,n,r,i,o,s,l)}function vf(t){return new yu(t)}function Hg(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function mR(t){return t.collectionGroup!==null}function as(t){const e=Z(t);if(e.ce===null){e.ce=[];const n=new Set;for(const o of e.explicitOrderBy)e.ce.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let l=new Qe(Ze.comparator);return s.filters.forEach(u=>{u.getFlattenedFilters().forEach(c=>{c.isInequality()&&(l=l.add(c.field))})}),l})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.ce.push(new Ll(o,r))}),n.has(Ze.keyField().canonicalString())||e.ce.push(new Ll(Ze.keyField(),r))}return e.ce}function un(t){const e=Z(t);return e.le||(e.le=gR(e,as(t))),e.le}function gR(t,e){if(t.limitType==="F")return zg(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new Ll(i.field,o)});const n=t.endAt?new Ol(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Ol(t.startAt.position,t.startAt.inclusive):null;return zg(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Gh(t,e,n){return new yu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function vu(t,e){return yf(un(t),un(e))&&t.limitType===e.limitType}function A0(t){return`${gf(un(t))}|lt:${t.limitType}`}function mi(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>R0(i)).join(", ")}]`),mu(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Xi(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Xi(i)).join(",")),`Target(${r})`}(un(t))}; limitType=${t.limitType})`}function _u(t,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):K.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(const o of as(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,l,u){const c=$g(s,l,u);return s.inclusive?c<=0:c<0}(r.startAt,as(r),i)||r.endAt&&!function(s,l,u){const c=$g(s,l,u);return s.inclusive?c>=0:c>0}(r.endAt,as(r),i))}(t,e)}function yR(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function k0(t){return(e,n)=>{let r=!1;for(const i of as(t)){const o=vR(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function vR(t,e,n){const r=t.field.isKeyField()?K.comparator(e.key,n.key):function(o,s,l){const u=s.data.field(o),c=l.data.field(o);return u!==null&&c!==null?Qi(u,c):Y()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Y()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ni{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ir(this.inner,(n,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return _0(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _R=new Re(K.comparator);function Ln(){return _R}const P0=new Re(K.comparator);function qo(...t){let e=P0;for(const n of t)e=e.insert(n.key,n);return e}function N0(t){let e=P0;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Ur(){return ls()}function D0(){return ls()}function ls(){return new ni(t=>t.toString(),(t,e)=>t.isEqual(e))}const ER=new Re(K.comparator),wR=new Qe(K.comparator);function re(...t){let e=wR;for(const n of t)e=e.add(n);return e}const TR=new Qe(ae);function SR(){return TR}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _f(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Vl(e)?"-0":e}}function V0(t){return{integerValue:""+t}}function CR(t,e){return YI(e)?V0(e):_f(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eu{constructor(){this._=void 0}}function IR(t,e,n){return t instanceof Ml?function(i,o){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&pf(o)&&(o=gu(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(n,e):t instanceof Os?L0(t,e):t instanceof Ls?M0(t,e):function(i,o){const s=O0(i,o),l=Wg(s)+Wg(i.Pe);return Wh(s)&&Wh(i.Pe)?V0(l):_f(i.serializer,l)}(t,e)}function RR(t,e,n){return t instanceof Os?L0(t,e):t instanceof Ls?M0(t,e):n}function O0(t,e){return t instanceof bl?function(r){return Wh(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class Ml extends Eu{}class Os extends Eu{constructor(e){super(),this.elements=e}}function L0(t,e){const n=b0(e);for(const r of t.elements)n.some(i=>hn(i,r))||n.push(r);return{arrayValue:{values:n}}}class Ls extends Eu{constructor(e){super(),this.elements=e}}function M0(t,e){let n=b0(e);for(const r of t.elements)n=n.filter(i=>!hn(i,r));return{arrayValue:{values:n}}}class bl extends Eu{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function Wg(t){return Pe(t.integerValue||t.doubleValue)}function b0(t){return mf(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function xR(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Os&&i instanceof Os||r instanceof Ls&&i instanceof Ls?Gi(r.elements,i.elements,hn):r instanceof bl&&i instanceof bl?hn(r.Pe,i.Pe):r instanceof Ml&&i instanceof Ml}(t.transform,e.transform)}class AR{constructor(e,n){this.version=e,this.transformResults=n}}class Zt{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Zt}static exists(e){return new Zt(void 0,e)}static updateTime(e){return new Zt(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function el(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class wu{}function j0(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Ef(t.key,Zt.none()):new zs(t.key,t.data,Zt.none());{const n=t.data,r=wt.empty();let i=new Qe(Ze.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new Rr(t.key,r,new Dt(i.toArray()),Zt.none())}}function kR(t,e,n){t instanceof zs?function(i,o,s){const l=i.value.clone(),u=qg(i.fieldTransforms,o,s.transformResults);l.setAll(u),o.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(t,e,n):t instanceof Rr?function(i,o,s){if(!el(i.precondition,o))return void o.convertToUnknownDocument(s.version);const l=qg(i.fieldTransforms,o,s.transformResults),u=o.data;u.setAll(F0(i)),u.setAll(l),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(t,e,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function us(t,e,n,r){return t instanceof zs?function(o,s,l,u){if(!el(o.precondition,s))return l;const c=o.value.clone(),d=Gg(o.fieldTransforms,u,s);return c.setAll(d),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof Rr?function(o,s,l,u){if(!el(o.precondition,s))return l;const c=Gg(o.fieldTransforms,u,s),d=s.data;return d.setAll(F0(o)),d.setAll(c),s.convertToFoundDocument(s.version,d).setHasLocalMutations(),l===null?null:l.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(p=>p.field))}(t,e,n,r):function(o,s,l){return el(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):l}(t,e,n)}function PR(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=O0(r.transform,i||null);o!=null&&(n===null&&(n=wt.empty()),n.set(r.field,o))}return n||null}function Kg(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Gi(r,i,(o,s)=>xR(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class zs extends wu{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Rr extends wu{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function F0(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function qg(t,e,n){const r=new Map;he(t.length===n.length);for(let i=0;i<n.length;i++){const o=t[i],s=o.transform,l=e.data.field(o.field);r.set(o.field,RR(s,l,n[i]))}return r}function Gg(t,e,n){const r=new Map;for(const i of t){const o=i.transform,s=n.data.field(i.field);r.set(i.field,IR(o,s,e))}return r}class Ef extends wu{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class NR extends wu{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DR{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&kR(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=us(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=us(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=D0();return this.mutations.forEach(i=>{const o=e.get(i.key),s=o.overlayedDocument;let l=this.applyToLocalView(s,o.mutatedFields);l=n.has(i.key)?null:l;const u=j0(s,l);u!==null&&r.set(i.key,u),s.isValidDocument()||s.convertToNoDocument(J.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),re())}isEqual(e){return this.batchId===e.batchId&&Gi(this.mutations,e.mutations,(n,r)=>Kg(n,r))&&Gi(this.baseMutations,e.baseMutations,(n,r)=>Kg(n,r))}}class wf{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){he(e.mutations.length===r.length);let i=function(){return ER}();const o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new wf(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VR{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OR{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ve,oe;function LR(t){switch(t){default:return Y();case F.CANCELLED:case F.UNKNOWN:case F.DEADLINE_EXCEEDED:case F.RESOURCE_EXHAUSTED:case F.INTERNAL:case F.UNAVAILABLE:case F.UNAUTHENTICATED:return!1;case F.INVALID_ARGUMENT:case F.NOT_FOUND:case F.ALREADY_EXISTS:case F.PERMISSION_DENIED:case F.FAILED_PRECONDITION:case F.ABORTED:case F.OUT_OF_RANGE:case F.UNIMPLEMENTED:case F.DATA_LOSS:return!0}}function B0(t){if(t===void 0)return On("GRPC error has no .code"),F.UNKNOWN;switch(t){case Ve.OK:return F.OK;case Ve.CANCELLED:return F.CANCELLED;case Ve.UNKNOWN:return F.UNKNOWN;case Ve.DEADLINE_EXCEEDED:return F.DEADLINE_EXCEEDED;case Ve.RESOURCE_EXHAUSTED:return F.RESOURCE_EXHAUSTED;case Ve.INTERNAL:return F.INTERNAL;case Ve.UNAVAILABLE:return F.UNAVAILABLE;case Ve.UNAUTHENTICATED:return F.UNAUTHENTICATED;case Ve.INVALID_ARGUMENT:return F.INVALID_ARGUMENT;case Ve.NOT_FOUND:return F.NOT_FOUND;case Ve.ALREADY_EXISTS:return F.ALREADY_EXISTS;case Ve.PERMISSION_DENIED:return F.PERMISSION_DENIED;case Ve.FAILED_PRECONDITION:return F.FAILED_PRECONDITION;case Ve.ABORTED:return F.ABORTED;case Ve.OUT_OF_RANGE:return F.OUT_OF_RANGE;case Ve.UNIMPLEMENTED:return F.UNIMPLEMENTED;case Ve.DATA_LOSS:return F.DATA_LOSS;default:return Y()}}(oe=Ve||(Ve={}))[oe.OK=0]="OK",oe[oe.CANCELLED=1]="CANCELLED",oe[oe.UNKNOWN=2]="UNKNOWN",oe[oe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",oe[oe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",oe[oe.NOT_FOUND=5]="NOT_FOUND",oe[oe.ALREADY_EXISTS=6]="ALREADY_EXISTS",oe[oe.PERMISSION_DENIED=7]="PERMISSION_DENIED",oe[oe.UNAUTHENTICATED=16]="UNAUTHENTICATED",oe[oe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",oe[oe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",oe[oe.ABORTED=10]="ABORTED",oe[oe.OUT_OF_RANGE=11]="OUT_OF_RANGE",oe[oe.UNIMPLEMENTED=12]="UNIMPLEMENTED",oe[oe.INTERNAL=13]="INTERNAL",oe[oe.UNAVAILABLE=14]="UNAVAILABLE",oe[oe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MR(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bR=new Wr([4294967295,4294967295],0);function Qg(t){const e=MR().encode(t),n=new h0;return n.update(e),new Uint8Array(n.digest())}function Xg(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Wr([n,r],0),new Wr([i,o],0)]}class Tf{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Go(`Invalid padding: ${n}`);if(r<0)throw new Go(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Go(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Go(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Wr.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(Wr.fromNumber(r)));return i.compare(bR)===1&&(i=new Wr([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=Qg(e),[r,i]=Xg(n);for(let o=0;o<this.hashCount;o++){const s=this.Ee(r,i,o);if(!this.de(s))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new Tf(o,i,n);return r.forEach(l=>s.insert(l)),s}insert(e){if(this.Ie===0)return;const n=Qg(e),[r,i]=Xg(n);for(let o=0;o<this.hashCount;o++){const s=this.Ee(r,i,o);this.Ae(s)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Go extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tu{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Hs.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Tu(J.min(),i,new Re(ae),Ln(),re())}}class Hs{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Hs(r,n,re(),re(),re())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tl{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class $0{constructor(e,n){this.targetId=e,this.me=n}}class U0{constructor(e,n,r=nt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class Yg{constructor(){this.fe=0,this.ge=Zg(),this.pe=nt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=re(),n=re(),r=re();return this.ge.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Y()}}),new Hs(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=Zg()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,he(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class jR{constructor(e){this.Le=e,this.Be=new Map,this.ke=Ln(),this.qe=Jg(),this.Qe=new Re(ae)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:Y()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const o=i.target;if(qh(o))if(r===0){const s=new K(o.path);this.Ue(n,s,ct.newNoDocument(s,J.min()))}else he(r===1);else{const s=this.Ye(n);if(s!==r){const l=this.Ze(e),u=l?this.Xe(l,e,s):1;if(u!==0){this.je(n);const c=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,c)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let s,l;try{s=vr(r).toUint8Array()}catch(u){if(u instanceof E0)return qi("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{l=new Tf(s,i,o)}catch(u){return qi(u instanceof Go?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return l.Ie===0?null:l}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(o=>{const s=this.Le.tt(),l=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(l)||(this.Ue(n,o,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((o,s)=>{const l=this.Je(s);if(l){if(o.current&&qh(l.target)){const u=new K(l.target.path);this.ke.get(u)!==null||this.it(s,u)||this.Ue(s,u,ct.newNoDocument(u,e))}o.be&&(n.set(s,o.ve()),o.Ce())}});let r=re();this.qe.forEach((o,s)=>{let l=!0;s.forEachWhile(u=>{const c=this.Je(u);return!c||c.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(r=r.add(o))}),this.ke.forEach((o,s)=>s.setReadTime(e));const i=new Tu(e,n,this.Qe,this.ke,r);return this.ke=Ln(),this.qe=Jg(),this.Qe=new Re(ae),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new Yg,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new Qe(ae),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||z("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Yg),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function Jg(){return new Re(K.comparator)}function Zg(){return new Re(K.comparator)}const FR={asc:"ASCENDING",desc:"DESCENDING"},BR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},$R={and:"AND",or:"OR"};class UR{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Qh(t,e){return t.useProto3Json||mu(e)?e:{value:e}}function jl(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function z0(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function zR(t,e){return jl(t,e.toTimestamp())}function cn(t){return he(!!t),J.fromTimestamp(function(n){const r=yr(n);return new ze(r.seconds,r.nanos)}(t))}function Sf(t,e){return Xh(t,e).canonicalString()}function Xh(t,e){const n=function(i){return new we(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function H0(t){const e=we.fromString(t);return he(Q0(e)),e}function Yh(t,e){return Sf(t.databaseId,e.path)}function Vc(t,e){const n=H0(e);if(n.get(1)!==t.databaseId.projectId)throw new W(F.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new W(F.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new K(K0(n))}function W0(t,e){return Sf(t.databaseId,e)}function HR(t){const e=H0(t);return e.length===4?we.emptyPath():K0(e)}function Jh(t){return new we(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function K0(t){return he(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function ey(t,e,n){return{name:Yh(t,e),fields:n.value.mapValue.fields}}function WR(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:Y()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(c,d){return c.useProto3Json?(he(d===void 0||typeof d=="string"),nt.fromBase64String(d||"")):(he(d===void 0||d instanceof Buffer||d instanceof Uint8Array),nt.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,l=s&&function(c){const d=c.code===void 0?F.UNKNOWN:B0(c.code);return new W(d,c.message||"")}(s);n=new U0(r,i,o,l||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Vc(t,r.document.name),o=cn(r.document.updateTime),s=r.document.createTime?cn(r.document.createTime):J.min(),l=new wt({mapValue:{fields:r.document.fields}}),u=ct.newFoundDocument(i,o,s,l),c=r.targetIds||[],d=r.removedTargetIds||[];n=new tl(c,d,u.key,u)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Vc(t,r.document),o=r.readTime?cn(r.readTime):J.min(),s=ct.newNoDocument(i,o),l=r.removedTargetIds||[];n=new tl([],l,s.key,s)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Vc(t,r.document),o=r.removedTargetIds||[];n=new tl([],o,i,null)}else{if(!("filter"in e))return Y();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,s=new OR(i,o),l=r.targetId;n=new $0(l,s)}}return n}function KR(t,e){let n;if(e instanceof zs)n={update:ey(t,e.key,e.value)};else if(e instanceof Ef)n={delete:Yh(t,e.key)};else if(e instanceof Rr)n={update:ey(t,e.key,e.data),updateMask:tx(e.fieldMask)};else{if(!(e instanceof NR))return Y();n={verify:Yh(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,s){const l=s.transform;if(l instanceof Ml)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof Os)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof Ls)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof bl)return{fieldPath:s.field.canonicalString(),increment:l.Pe};throw Y()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:zR(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Y()}(t,e.precondition)),n}function qR(t,e){return t&&t.length>0?(he(e!==void 0),t.map(n=>function(i,o){let s=i.updateTime?cn(i.updateTime):cn(o);return s.isEqual(J.min())&&(s=cn(o)),new AR(s,i.transformResults||[])}(n,e))):[]}function GR(t,e){return{documents:[W0(t,e.path)]}}function QR(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=W0(t,i);const o=function(c){if(c.length!==0)return G0(dn.create(c,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const s=function(c){if(c.length!==0)return c.map(d=>function(m){return{field:gi(m.field),direction:JR(m.dir)}}(d))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const l=Qh(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{_t:n,parent:i}}function XR(t){let e=HR(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){he(r===1);const d=n.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let o=[];n.where&&(o=function(p){const m=q0(p);return m instanceof dn&&C0(m)?m.getFilters():[m]}(n.where));let s=[];n.orderBy&&(s=function(p){return p.map(m=>function(k){return new Ll(yi(k.field),function(N){switch(N){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(k.direction))}(m))}(n.orderBy));let l=null;n.limit&&(l=function(p){let m;return m=typeof p=="object"?p.value:p,mu(m)?null:m}(n.limit));let u=null;n.startAt&&(u=function(p){const m=!!p.before,T=p.values||[];return new Ol(T,m)}(n.startAt));let c=null;return n.endAt&&(c=function(p){const m=!p.before,T=p.values||[];return new Ol(T,m)}(n.endAt)),pR(e,i,s,o,l,"F",u,c)}function YR(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Y()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function q0(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=yi(n.unaryFilter.field);return $e.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=yi(n.unaryFilter.field);return $e.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=yi(n.unaryFilter.field);return $e.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=yi(n.unaryFilter.field);return $e.create(s,"!=",{nullValue:"NULL_VALUE"});default:return Y()}}(t):t.fieldFilter!==void 0?function(n){return $e.create(yi(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Y()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return dn.create(n.compositeFilter.filters.map(r=>q0(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Y()}}(n.compositeFilter.op))}(t):Y()}function JR(t){return FR[t]}function ZR(t){return BR[t]}function ex(t){return $R[t]}function gi(t){return{fieldPath:t.canonicalString()}}function yi(t){return Ze.fromServerFormat(t.fieldPath)}function G0(t){return t instanceof $e?function(n){if(n.op==="=="){if(Bg(n.value))return{unaryFilter:{field:gi(n.field),op:"IS_NAN"}};if(Fg(n.value))return{unaryFilter:{field:gi(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Bg(n.value))return{unaryFilter:{field:gi(n.field),op:"IS_NOT_NAN"}};if(Fg(n.value))return{unaryFilter:{field:gi(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:gi(n.field),op:ZR(n.op),value:n.value}}}(t):t instanceof dn?function(n){const r=n.getFilters().map(i=>G0(i));return r.length===1?r[0]:{compositeFilter:{op:ex(n.op),filters:r}}}(t):Y()}function tx(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function Q0(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class er{constructor(e,n,r,i,o=J.min(),s=J.min(),l=nt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=l,this.expectedCount=u}withSequenceNumber(e){return new er(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new er(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new er(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new er(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nx{constructor(e){this.ct=e}}function rx(t){const e=XR({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Gh(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ix{constructor(){this.un=new ox}addToCollectionParentIndex(e,n){return this.un.add(n),b.resolve()}getCollectionParents(e,n){return b.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return b.resolve()}deleteFieldIndex(e,n){return b.resolve()}deleteAllFieldIndexes(e){return b.resolve()}createTargetIndexes(e,n){return b.resolve()}getDocumentsMatchingTarget(e,n){return b.resolve(null)}getIndexType(e,n){return b.resolve(0)}getFieldIndexes(e,n){return b.resolve([])}getNextCollectionGroupToUpdate(e){return b.resolve(null)}getMinOffset(e,n){return b.resolve(gr.min())}getMinOffsetFromCollectionGroup(e,n){return b.resolve(gr.min())}updateCollectionGroup(e,n,r){return b.resolve()}updateIndexEntries(e,n){return b.resolve()}}class ox{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Qe(we.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Qe(we.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ty={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class _t{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new _t(e,_t.DEFAULT_COLLECTION_PERCENTILE,_t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */_t.DEFAULT_COLLECTION_PERCENTILE=10,_t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,_t.DEFAULT=new _t(41943040,_t.DEFAULT_COLLECTION_PERCENTILE,_t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),_t.DISABLED=new _t(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yi{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Yi(0)}static kn(){return new Yi(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ny([t,e],[n,r]){const i=ae(t,n);return i===0?ae(e,r):i}class sx{constructor(e){this.Un=e,this.buffer=new Qe(ny),this.Wn=0}Gn(){return++this.Wn}zn(e){const n=[e,this.Gn()];if(this.buffer.size<this.Un)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();ny(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class ax{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Hn(6e4)}stop(){this.jn&&(this.jn.cancel(),this.jn=null)}get started(){return this.jn!==null}Hn(e){z("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){ao(n)?z("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n):await so(n)}await this.Hn(3e5)})}}class lx{constructor(e,n){this.Jn=e,this.params=n}calculateTargetCount(e,n){return this.Jn.Yn(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return b.resolve(pu.oe);const r=new sx(n);return this.Jn.forEachTarget(e,i=>r.zn(i.sequenceNumber)).next(()=>this.Jn.Zn(e,i=>r.zn(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Jn.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Jn.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(z("LruGarbageCollector","Garbage collection skipped; disabled"),b.resolve(ty)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(z("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),ty):this.Xn(e,n))}getCacheSize(e){return this.Jn.getCacheSize(e)}Xn(e,n){let r,i,o,s,l,u,c;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(p=>(p>this.params.maximumSequenceNumbersToCollect?(z("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),i=this.params.maximumSequenceNumbersToCollect):i=p,s=Date.now(),this.nthSequenceNumber(e,i))).next(p=>(r=p,l=Date.now(),this.removeTargets(e,r,n))).next(p=>(o=p,u=Date.now(),this.removeOrphanedDocuments(e,r))).next(p=>(c=Date.now(),pi()<=se.DEBUG&&z("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-d}ms
	Determined least recently used ${i} in `+(l-s)+`ms
	Removed ${o} targets in `+(u-l)+`ms
	Removed ${p} documents in `+(c-u)+`ms
Total Duration: ${c-d}ms`),b.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:p})))}}function ux(t,e){return new lx(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cx{constructor(){this.changes=new ni(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,ct.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?b.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hx{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dx{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&us(r.mutation,i,Dt.empty(),ze.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,re()).next(()=>r))}getLocalViewOfDocuments(e,n,r=re()){const i=Ur();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=qo();return o.forEach((l,u)=>{s=s.insert(l,u.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){const r=Ur();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,re()))}populateOverlays(e,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,l)=>{n.set(s,l)})})}computeViews(e,n,r,i){let o=Ln();const s=ls(),l=function(){return ls()}();return n.forEach((u,c)=>{const d=r.get(c.key);i.has(c.key)&&(d===void 0||d.mutation instanceof Rr)?o=o.insert(c.key,c):d!==void 0?(s.set(c.key,d.mutation.getFieldMask()),us(d.mutation,c,d.mutation.getFieldMask(),ze.now())):s.set(c.key,Dt.empty())}),this.recalculateAndSaveOverlays(e,o).next(u=>(u.forEach((c,d)=>s.set(c,d)),n.forEach((c,d)=>{var p;return l.set(c,new hx(d,(p=s.get(c))!==null&&p!==void 0?p:null))}),l))}recalculateAndSaveOverlays(e,n){const r=ls();let i=new Re((s,l)=>s-l),o=re();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(const l of s)l.keys().forEach(u=>{const c=n.get(u);if(c===null)return;let d=r.get(u)||Dt.empty();d=l.applyToLocalView(c,d),r.set(u,d);const p=(i.get(l.batchId)||re()).add(u);i=i.insert(l.batchId,p)})}).next(()=>{const s=[],l=i.getReverseIterator();for(;l.hasNext();){const u=l.getNext(),c=u.key,d=u.value,p=D0();d.forEach(m=>{if(!o.has(m)){const T=j0(n.get(m),r.get(m));T!==null&&p.set(m,T),o=o.add(m)}}),s.push(this.documentOverlayCache.saveOverlays(e,c,p))}return b.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return K.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):mR(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):b.resolve(Ur());let l=-1,u=o;return s.next(c=>b.forEach(c,(d,p)=>(l<p.largestBatchId&&(l=p.largestBatchId),o.get(d)?b.resolve():this.remoteDocumentCache.getEntry(e,d).next(m=>{u=u.insert(d,m)}))).next(()=>this.populateOverlays(e,c,o)).next(()=>this.computeViews(e,u,c,re())).next(d=>({batchId:l,changes:N0(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new K(n)).next(r=>{let i=qo();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let s=qo();return this.indexManager.getCollectionParents(e,o).next(l=>b.forEach(l,u=>{const c=function(p,m){return new yu(m,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,u.child(o));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(d=>{d.forEach((p,m)=>{s=s.insert(p,m)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((u,c)=>{const d=c.getKey();s.get(d)===null&&(s=s.insert(d,ct.newInvalidDocument(d)))});let l=qo();return s.forEach((u,c)=>{const d=o.get(u);d!==void 0&&us(d.mutation,c,Dt.empty(),ze.now()),_u(n,c)&&(l=l.insert(u,c))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fx{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return b.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:cn(i.createTime)}}(n)),b.resolve()}getNamedQuery(e,n){return b.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:rx(i.bundledQuery),readTime:cn(i.readTime)}}(n)),b.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class px{constructor(){this.overlays=new Re(K.comparator),this.Ir=new Map}getOverlay(e,n){return b.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Ur();return b.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.ht(e,n,o)}),b.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Ir.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Ir.delete(r)),b.resolve()}getOverlaysForCollection(e,n,r){const i=Ur(),o=n.length+1,s=new K(n.child("")),l=this.overlays.getIteratorFrom(s);for(;l.hasNext();){const u=l.getNext().value,c=u.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===o&&u.largestBatchId>r&&i.set(u.getKey(),u)}return b.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new Re((c,d)=>c-d);const s=this.overlays.getIterator();for(;s.hasNext();){const c=s.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let d=o.get(c.largestBatchId);d===null&&(d=Ur(),o=o.insert(c.largestBatchId,d)),d.set(c.getKey(),c)}}const l=Ur(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((c,d)=>l.set(c,d)),!(l.size()>=i)););return b.resolve(l)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const s=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new VR(n,r));let o=this.Ir.get(n);o===void 0&&(o=re(),this.Ir.set(n,o)),this.Ir.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mx{constructor(){this.sessionToken=nt.EMPTY_BYTE_STRING}getSessionToken(e){return b.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,b.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cf{constructor(){this.Tr=new Qe(We.Er),this.dr=new Qe(We.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new We(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new We(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new K(new we([])),r=new We(n,e),i=new We(n,e+1),o=[];return this.dr.forEachInRange([r,i],s=>{this.Vr(s),o.push(s.key)}),o}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new K(new we([])),r=new We(n,e),i=new We(n,e+1);let o=re();return this.dr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){const n=new We(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class We{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return K.comparator(e.key,n.key)||ae(e.wr,n.wr)}static Ar(e,n){return ae(e.wr,n.wr)||K.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gx{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new Qe(We.Er)}checkEmpty(e){return b.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const o=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new DR(o,n,r,i);this.mutationQueue.push(s);for(const l of i)this.br=this.br.add(new We(l.key,o)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return b.resolve(s)}lookupMutationBatch(e,n){return b.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.vr(r),o=i<0?0:i;return b.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return b.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return b.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new We(n,0),i=new We(n,Number.POSITIVE_INFINITY),o=[];return this.br.forEachInRange([r,i],s=>{const l=this.Dr(s.wr);o.push(l)}),b.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Qe(ae);return n.forEach(i=>{const o=new We(i,0),s=new We(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([o,s],l=>{r=r.add(l.wr)})}),b.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;K.isDocumentKey(o)||(o=o.child(""));const s=new We(new K(o),0);let l=new Qe(ae);return this.br.forEachWhile(u=>{const c=u.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(l=l.add(u.wr)),!0)},s),b.resolve(this.Cr(l))}Cr(e){const n=[];return e.forEach(r=>{const i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){he(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return b.forEach(n.mutations,i=>{const o=new We(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new We(n,0),i=this.br.firstAfterOrEqual(r);return b.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,b.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yx{constructor(e){this.Mr=e,this.docs=function(){return new Re(K.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return b.resolve(r?r.document.mutableCopy():ct.newInvalidDocument(n))}getEntries(e,n){let r=Ln();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():ct.newInvalidDocument(i))}),b.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=Ln();const s=n.path,l=new K(s.child("")),u=this.docs.getIteratorFrom(l);for(;u.hasNext();){const{key:c,value:{document:d}}=u.getNext();if(!s.isPrefixOf(c.path))break;c.path.length>s.length+1||qI(KI(d),r)<=0||(i.has(d.key)||_u(n,d))&&(o=o.insert(d.key,d.mutableCopy()))}return b.resolve(o)}getAllFromCollectionGroup(e,n,r,i){Y()}Or(e,n){return b.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new vx(this)}getSize(e){return b.resolve(this.size)}}class vx extends cx{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),b.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _x{constructor(e){this.persistence=e,this.Nr=new ni(n=>gf(n),yf),this.lastRemoteSnapshotVersion=J.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Cf,this.targetCount=0,this.kr=Yi.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),b.resolve()}getLastRemoteSnapshotVersion(e){return b.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return b.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),b.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),b.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new Yi(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,b.resolve()}updateTargetData(e,n){return this.Kn(n),b.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,b.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.Nr.forEach((s,l)=>{l.sequenceNumber<=n&&r.get(l.targetId)===null&&(this.Nr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,l.targetId)),i++)}),b.waitFor(o).next(()=>i)}getTargetCount(e){return b.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return b.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),b.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),b.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),b.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return b.resolve(r)}containsKey(e,n){return b.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X0{constructor(e,n){this.qr={},this.overlays={},this.Qr=new pu(0),this.Kr=!1,this.Kr=!0,this.$r=new mx,this.referenceDelegate=e(this),this.Ur=new _x(this),this.indexManager=new ix,this.remoteDocumentCache=function(i){return new yx(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new nx(n),this.Gr=new fx(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new px,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new gx(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){z("MemoryPersistence","Starting transaction:",e);const i=new Ex(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(o=>this.referenceDelegate.jr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Hr(e,n){return b.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class Ex extends QI{constructor(e){super(),this.currentSequenceNumber=e}}class If{constructor(e){this.persistence=e,this.Jr=new Cf,this.Yr=null}static Zr(e){return new If(e)}get Xr(){if(this.Yr)return this.Yr;throw Y()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),b.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),b.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),b.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.Xr.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return b.forEach(this.Xr,r=>{const i=K.fromPath(r);return this.ei(e,i).next(o=>{o||n.removeEntry(i,J.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return b.or([()=>b.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}class Fl{constructor(e,n){this.persistence=e,this.ti=new ni(r=>JI(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=ux(this,n)}static Zr(e,n){return new Fl(e,n)}zr(){}jr(e){return b.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}Yn(e){const n=this.er(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}er(e){let n=0;return this.Zn(e,r=>{n++}).next(()=>n)}Zn(e,n){return b.forEach(this.ti,(r,i)=>this.nr(e,r,i).next(o=>o?b.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.Or(e,s=>this.nr(e,s,n).next(l=>{l||(r++,o.removeEntry(s,J.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.ti.set(n,e.currentSequenceNumber),b.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.ti.set(r,e.currentSequenceNumber),b.resolve()}removeReference(e,n,r){return this.ti.set(r,e.currentSequenceNumber),b.resolve()}updateLimboDocument(e,n){return this.ti.set(n,e.currentSequenceNumber),b.resolve()}Wr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Ja(e.data.value)),n}nr(e,n,r){return b.or([()=>this.persistence.Hr(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.ti.get(n);return b.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rf{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=re(),i=re();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new Rf(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wx{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tx{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return vC()?8:XI(gC())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.Yi(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Zi(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;const s=new wx;return this.Xi(e,n,s).next(l=>{if(o.result=l,this.zi)return this.es(e,n,s,l.size)})}).next(()=>o.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(pi()<=se.DEBUG&&z("QueryEngine","SDK will not create cache indexes for query:",mi(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),b.resolve()):(pi()<=se.DEBUG&&z("QueryEngine","Query:",mi(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(pi()<=se.DEBUG&&z("QueryEngine","The SDK decides to create cache indexes for query:",mi(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,un(n))):b.resolve())}Yi(e,n){if(Hg(n))return b.resolve(null);let r=un(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Gh(n,null,"F"),r=un(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const s=re(...o);return this.Ji.getDocuments(e,s).next(l=>this.indexManager.getMinOffset(e,r).next(u=>{const c=this.ts(n,l);return this.ns(n,c,s,u.readTime)?this.Yi(e,Gh(n,null,"F")):this.rs(e,c,n,u)}))})))}Zi(e,n,r,i){return Hg(n)||i.isEqual(J.min())?b.resolve(null):this.Ji.getDocuments(e,r).next(o=>{const s=this.ts(n,o);return this.ns(n,s,r,i)?b.resolve(null):(pi()<=se.DEBUG&&z("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),mi(n)),this.rs(e,s,n,WI(i,-1)).next(l=>l))})}ts(e,n){let r=new Qe(k0(e));return n.forEach((i,o)=>{_u(e,o)&&(r=r.add(o))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Xi(e,n,r){return pi()<=se.DEBUG&&z("QueryEngine","Using full collection scan to execute query:",mi(n)),this.Ji.getDocumentsMatchingQuery(e,n,gr.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sx{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new Re(ae),this._s=new ni(o=>gf(o),yf),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new dx(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function Cx(t,e,n,r){return new Sx(t,e,n,r)}async function Y0(t,e){const n=Z(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const s=[],l=[];let u=re();for(const c of i){s.push(c.batchId);for(const d of c.mutations)u=u.add(d.key)}for(const c of o){l.push(c.batchId);for(const d of c.mutations)u=u.add(d.key)}return n.localDocuments.getDocuments(r,u).next(c=>({hs:c,removedBatchIds:s,addedBatchIds:l}))})})}function Ix(t,e){const n=Z(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=n.cs.newChangeBuffer({trackRemovals:!0});return function(l,u,c,d){const p=c.batch,m=p.keys();let T=b.resolve();return m.forEach(k=>{T=T.next(()=>d.getEntry(u,k)).next(P=>{const N=c.docVersions.get(k);he(N!==null),P.version.compareTo(N)<0&&(p.applyToRemoteDocument(P,c),P.isValidDocument()&&(P.setReadTime(c.commitVersion),d.addEntry(P)))})}),T.next(()=>l.mutationQueue.removeMutationBatch(u,p))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(l){let u=re();for(let c=0;c<l.mutationResults.length;++c)l.mutationResults[c].transformResults.length>0&&(u=u.add(l.batch.mutations[c].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function J0(t){const e=Z(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function Rx(t,e){const n=Z(t),r=e.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const l=[];e.targetChanges.forEach((d,p)=>{const m=i.get(p);if(!m)return;l.push(n.Ur.removeMatchingKeys(o,d.removedDocuments,p).next(()=>n.Ur.addMatchingKeys(o,d.addedDocuments,p)));let T=m.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(p)!==null?T=T.withResumeToken(nt.EMPTY_BYTE_STRING,J.min()).withLastLimboFreeSnapshotVersion(J.min()):d.resumeToken.approximateByteSize()>0&&(T=T.withResumeToken(d.resumeToken,r)),i=i.insert(p,T),function(P,N,w){return P.resumeToken.approximateByteSize()===0||N.snapshotVersion.toMicroseconds()-P.snapshotVersion.toMicroseconds()>=3e8?!0:w.addedDocuments.size+w.modifiedDocuments.size+w.removedDocuments.size>0}(m,T,d)&&l.push(n.Ur.updateTargetData(o,T))});let u=Ln(),c=re();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(o,d))}),l.push(xx(o,s,e.documentUpdates).next(d=>{u=d.Ps,c=d.Is})),!r.isEqual(J.min())){const d=n.Ur.getLastRemoteSnapshotVersion(o).next(p=>n.Ur.setTargetsMetadata(o,o.currentSequenceNumber,r));l.push(d)}return b.waitFor(l).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,u,c)).next(()=>u)}).then(o=>(n.os=i,o))}function xx(t,e,n){let r=re(),i=re();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=Ln();return n.forEach((l,u)=>{const c=o.get(l);u.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(l)),u.isNoDocument()&&u.version.isEqual(J.min())?(e.removeEntry(l,u.readTime),s=s.insert(l,u)):!c.isValidDocument()||u.version.compareTo(c.version)>0||u.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(u),s=s.insert(l,u)):z("LocalStore","Ignoring outdated watch update for ",l,". Current version:",c.version," Watch version:",u.version)}),{Ps:s,Is:i}})}function Ax(t,e){const n=Z(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function kx(t,e){const n=Z(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(o=>o?(i=o,b.resolve(i)):n.Ur.allocateTargetId(r).next(s=>(i=new er(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function Zh(t,e,n){const r=Z(t),i=r.os.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!ao(s))throw s;z("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.os=r.os.remove(e),r._s.delete(i.target)}function ry(t,e,n){const r=Z(t);let i=J.min(),o=re();return r.persistence.runTransaction("Execute query","readwrite",s=>function(u,c,d){const p=Z(u),m=p._s.get(d);return m!==void 0?b.resolve(p.os.get(m)):p.Ur.getTargetData(c,d)}(r,s,un(e)).next(l=>{if(l)return i=l.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(s,l.targetId).next(u=>{o=u})}).next(()=>r.ss.getDocumentsMatchingQuery(s,e,n?i:J.min(),n?o:re())).next(l=>(Px(r,yR(e),l),{documents:l,Ts:o})))}function Px(t,e,n){let r=t.us.get(e)||J.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.us.set(e,r)}class iy{constructor(){this.activeTargetIds=SR()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Nx{constructor(){this.so=new iy,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new iy,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dx{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oy{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){z("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){z("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Oa=null;function Oc(){return Oa===null?Oa=function(){return 268435456+Math.round(2147483648*Math.random())}():Oa++,"0x"+Oa.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vx={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ox{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const at="WebChannelConnection";class Lx extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${o}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get Fo(){return!1}Mo(n,r,i,o,s){const l=Oc(),u=this.xo(n,r.toUriEncodedString());z("RestConnection",`Sending RPC '${n}' ${l}:`,u,i);const c={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(c,o,s),this.No(n,u,c,i).then(d=>(z("RestConnection",`Received RPC '${n}' ${l}: `,d),d),d=>{throw qi("RestConnection",`RPC '${n}' ${l} failed with error: `,d,"url: ",u,"request:",i),d})}Lo(n,r,i,o,s,l){return this.Mo(n,r,i,o,s)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+oo}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,s)=>n[s]=o),i&&i.headers.forEach((o,s)=>n[s]=o)}xo(n,r){const i=Vx[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){const o=Oc();return new Promise((s,l)=>{const u=new d0;u.setWithCredentials(!0),u.listenOnce(f0.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Ya.NO_ERROR:const d=u.getResponseJson();z(at,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(d)),s(d);break;case Ya.TIMEOUT:z(at,`RPC '${e}' ${o} timed out`),l(new W(F.DEADLINE_EXCEEDED,"Request time out"));break;case Ya.HTTP_ERROR:const p=u.getStatus();if(z(at,`RPC '${e}' ${o} failed with status:`,p,"response text:",u.getResponseText()),p>0){let m=u.getResponseJson();Array.isArray(m)&&(m=m[0]);const T=m==null?void 0:m.error;if(T&&T.status&&T.message){const k=function(N){const w=N.toLowerCase().replace(/_/g,"-");return Object.values(F).indexOf(w)>=0?w:F.UNKNOWN}(T.status);l(new W(k,T.message))}else l(new W(F.UNKNOWN,"Server responded with status "+u.getStatus()))}else l(new W(F.UNAVAILABLE,"Connection failed."));break;default:Y()}}finally{z(at,`RPC '${e}' ${o} completed.`)}});const c=JSON.stringify(i);z(at,`RPC '${e}' ${o} sending request:`,i),u.send(n,"POST",c,r,15)})}Bo(e,n,r){const i=Oc(),o=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=g0(),l=m0(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(u.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Oo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const d=o.join("");z(at,`Creating RPC '${e}' stream ${i}: ${d}`,u);const p=s.createWebChannel(d,u);let m=!1,T=!1;const k=new Ox({Io:N=>{T?z(at,`Not sending because RPC '${e}' stream ${i} is closed:`,N):(m||(z(at,`Opening RPC '${e}' stream ${i} transport.`),p.open(),m=!0),z(at,`RPC '${e}' stream ${i} sending:`,N),p.send(N))},To:()=>p.close()}),P=(N,w,E)=>{N.listen(w,I=>{try{E(I)}catch(O){setTimeout(()=>{throw O},0)}})};return P(p,Ko.EventType.OPEN,()=>{T||(z(at,`RPC '${e}' stream ${i} transport opened.`),k.yo())}),P(p,Ko.EventType.CLOSE,()=>{T||(T=!0,z(at,`RPC '${e}' stream ${i} transport closed`),k.So())}),P(p,Ko.EventType.ERROR,N=>{T||(T=!0,qi(at,`RPC '${e}' stream ${i} transport errored:`,N),k.So(new W(F.UNAVAILABLE,"The operation could not be completed")))}),P(p,Ko.EventType.MESSAGE,N=>{var w;if(!T){const E=N.data[0];he(!!E);const I=E,O=I.error||((w=I[0])===null||w===void 0?void 0:w.error);if(O){z(at,`RPC '${e}' stream ${i} received error:`,O);const j=O.status;let M=function(C){const R=Ve[C];if(R!==void 0)return B0(R)}(j),S=O.message;M===void 0&&(M=F.INTERNAL,S="Unknown error status: "+j+" with message "+O.message),T=!0,k.So(new W(M,S)),p.close()}else z(at,`RPC '${e}' stream ${i} received:`,E),k.bo(E)}}),P(l,p0.STAT_EVENT,N=>{N.stat===zh.PROXY?z(at,`RPC '${e}' stream ${i} detected buffering proxy`):N.stat===zh.NOPROXY&&z(at,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{k.wo()},0),k}}function Lc(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Su(t){return new UR(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z0{constructor(e,n,r=1e3,i=1.5,o=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=o,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&z("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eE{constructor(e,n,r,i,o,s,l,u){this.ui=e,this.Ho=r,this.Jo=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=l,this.listener=u,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new Z0(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===F.RESOURCE_EXHAUSTED?(On(n.toString()),On("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===F.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{const i=new W(F.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return z("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(z("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Mx extends eE{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=WR(this.serializer,e),r=function(o){if(!("targetChange"in o))return J.min();const s=o.targetChange;return s.targetIds&&s.targetIds.length?J.min():s.readTime?cn(s.readTime):J.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=Jh(this.serializer),n.addTarget=function(o,s){let l;const u=s.target;if(l=qh(u)?{documents:GR(o,u)}:{query:QR(o,u)._t},l.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){l.resumeToken=z0(o,s.resumeToken);const c=Qh(o,s.expectedCount);c!==null&&(l.expectedCount=c)}else if(s.snapshotVersion.compareTo(J.min())>0){l.readTime=jl(o,s.snapshotVersion.toTimestamp());const c=Qh(o,s.expectedCount);c!==null&&(l.expectedCount=c)}return l}(this.serializer,e);const r=YR(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=Jh(this.serializer),n.removeTarget=e,this.a_(n)}}class bx extends eE{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return he(!!e.streamToken),this.lastStreamToken=e.streamToken,he(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){he(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=qR(e.writeResults,e.commitTime),r=cn(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=Jh(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>KR(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jx extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new W(F.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Mo(e,Xh(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===F.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new W(F.UNKNOWN,o.toString())})}Lo(e,n,r,i,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,l])=>this.connection.Lo(e,Xh(n,r),i,s,l,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===F.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new W(F.UNKNOWN,s.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class Fx{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(On(n),this.D_=!1):z("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bx{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=o,this.k_._o(s=>{r.enqueueAndForget(async()=>{ri(this)&&(z("RemoteStore","Restarting streams for network reachability change."),await async function(u){const c=Z(u);c.L_.add(4),await Ws(c),c.q_.set("Unknown"),c.L_.delete(4),await Cu(c)}(this))})}),this.q_=new Fx(r,i)}}async function Cu(t){if(ri(t))for(const e of t.B_)await e(!0)}async function Ws(t){for(const e of t.B_)await e(!1)}function tE(t,e){const n=Z(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),Pf(n)?kf(n):lo(n).r_()&&Af(n,e))}function xf(t,e){const n=Z(t),r=lo(n);n.N_.delete(e),r.r_()&&nE(n,e),n.N_.size===0&&(r.r_()?r.o_():ri(n)&&n.q_.set("Unknown"))}function Af(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(J.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}lo(t).A_(e)}function nE(t,e){t.Q_.xe(e),lo(t).R_(e)}function kf(t){t.Q_=new jR({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),lo(t).start(),t.q_.v_()}function Pf(t){return ri(t)&&!lo(t).n_()&&t.N_.size>0}function ri(t){return Z(t).L_.size===0}function rE(t){t.Q_=void 0}async function $x(t){t.q_.set("Online")}async function Ux(t){t.N_.forEach((e,n)=>{Af(t,e)})}async function zx(t,e){rE(t),Pf(t)?(t.q_.M_(e),kf(t)):t.q_.set("Unknown")}async function Hx(t,e,n){if(t.q_.set("Online"),e instanceof U0&&e.state===2&&e.cause)try{await async function(i,o){const s=o.cause;for(const l of o.targetIds)i.N_.has(l)&&(await i.remoteSyncer.rejectListen(l,s),i.N_.delete(l),i.Q_.removeTarget(l))}(t,e)}catch(r){z("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Bl(t,r)}else if(e instanceof tl?t.Q_.Ke(e):e instanceof $0?t.Q_.He(e):t.Q_.We(e),!n.isEqual(J.min()))try{const r=await J0(t.localStore);n.compareTo(r)>=0&&await function(o,s){const l=o.Q_.rt(s);return l.targetChanges.forEach((u,c)=>{if(u.resumeToken.approximateByteSize()>0){const d=o.N_.get(c);d&&o.N_.set(c,d.withResumeToken(u.resumeToken,s))}}),l.targetMismatches.forEach((u,c)=>{const d=o.N_.get(u);if(!d)return;o.N_.set(u,d.withResumeToken(nt.EMPTY_BYTE_STRING,d.snapshotVersion)),nE(o,u);const p=new er(d.target,u,c,d.sequenceNumber);Af(o,p)}),o.remoteSyncer.applyRemoteEvent(l)}(t,n)}catch(r){z("RemoteStore","Failed to raise snapshot:",r),await Bl(t,r)}}async function Bl(t,e,n){if(!ao(e))throw e;t.L_.add(1),await Ws(t),t.q_.set("Offline"),n||(n=()=>J0(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{z("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await Cu(t)})}function iE(t,e){return e().catch(n=>Bl(t,n,e))}async function Iu(t){const e=Z(t),n=Er(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;Wx(e);)try{const i=await Ax(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,Kx(e,i)}catch(i){await Bl(e,i)}oE(e)&&sE(e)}function Wx(t){return ri(t)&&t.O_.length<10}function Kx(t,e){t.O_.push(e);const n=Er(t);n.r_()&&n.V_&&n.m_(e.mutations)}function oE(t){return ri(t)&&!Er(t).n_()&&t.O_.length>0}function sE(t){Er(t).start()}async function qx(t){Er(t).p_()}async function Gx(t){const e=Er(t);for(const n of t.O_)e.m_(n.mutations)}async function Qx(t,e,n){const r=t.O_.shift(),i=wf.from(r,e,n);await iE(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Iu(t)}async function Xx(t,e){e&&Er(t).V_&&await async function(r,i){if(function(s){return LR(s)&&s!==F.ABORTED}(i.code)){const o=r.O_.shift();Er(r).s_(),await iE(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await Iu(r)}}(t,e),oE(t)&&sE(t)}async function sy(t,e){const n=Z(t);n.asyncQueue.verifyOperationInProgress(),z("RemoteStore","RemoteStore received new credentials");const r=ri(n);n.L_.add(3),await Ws(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await Cu(n)}async function Yx(t,e){const n=Z(t);e?(n.L_.delete(2),await Cu(n)):e||(n.L_.add(2),await Ws(n),n.q_.set("Unknown"))}function lo(t){return t.K_||(t.K_=function(n,r,i){const o=Z(n);return o.w_(),new Mx(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Eo:$x.bind(null,t),Ro:Ux.bind(null,t),mo:zx.bind(null,t),d_:Hx.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),Pf(t)?kf(t):t.q_.set("Unknown")):(await t.K_.stop(),rE(t))})),t.K_}function Er(t){return t.U_||(t.U_=function(n,r,i){const o=Z(n);return o.w_(),new bx(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:qx.bind(null,t),mo:Xx.bind(null,t),f_:Gx.bind(null,t),g_:Qx.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await Iu(t)):(await t.U_.stop(),t.O_.length>0&&(z("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nf{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new In,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const s=Date.now()+r,l=new Nf(e,n,s,i,o);return l.start(r),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new W(F.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Df(t,e){if(On("AsyncQueue",`${e}: ${t}`),ao(t))return new W(F.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ji{constructor(e){this.comparator=e?(n,r)=>e(n,r)||K.comparator(n.key,r.key):(n,r)=>K.comparator(n.key,r.key),this.keyedMap=qo(),this.sortedSet=new Re(this.comparator)}static emptySet(e){return new ji(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof ji)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new ji;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ay{constructor(){this.W_=new Re(K.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):Y():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Ji{constructor(e,n,r,i,o,s,l,u,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=l,this.excludesMetadataChanges=u,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,o){const s=[];return n.forEach(l=>{s.push({type:0,doc:l})}),new Ji(e,n,ji.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&vu(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jx{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class Zx{constructor(){this.queries=ly(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const i=Z(n),o=i.queries;i.queries=ly(),o.forEach((s,l)=>{for(const u of l.j_)u.onError(r)})})(this,new W(F.ABORTED,"Firestore shutting down"))}}function ly(){return new ni(t=>A0(t),vu)}async function aE(t,e){const n=Z(t);let r=3;const i=e.query;let o=n.queries.get(i);o?!o.H_()&&e.J_()&&(r=2):(o=new Jx,r=e.J_()?0:1);try{switch(r){case 0:o.z_=await n.onListen(i,!0);break;case 1:o.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(s){const l=Df(s,`Initialization of query '${mi(e.query)}' failed`);return void e.onError(l)}n.queries.set(i,o),o.j_.push(e),e.Z_(n.onlineState),o.z_&&e.X_(o.z_)&&Vf(n)}async function lE(t,e){const n=Z(t),r=e.query;let i=3;const o=n.queries.get(r);if(o){const s=o.j_.indexOf(e);s>=0&&(o.j_.splice(s,1),o.j_.length===0?i=e.J_()?0:1:!o.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function eA(t,e){const n=Z(t);let r=!1;for(const i of e){const o=i.query,s=n.queries.get(o);if(s){for(const l of s.j_)l.X_(i)&&(r=!0);s.z_=i}}r&&Vf(n)}function tA(t,e,n){const r=Z(t),i=r.queries.get(e);if(i)for(const o of i.j_)o.onError(n);r.queries.delete(e)}function Vf(t){t.Y_.forEach(e=>{e.next()})}var ed,uy;(uy=ed||(ed={})).ea="default",uy.Cache="cache";class uE{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Ji(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=Ji.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==ed.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cE{constructor(e){this.key=e}}class hE{constructor(e){this.key=e}}class nA{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=re(),this.mutatedKeys=re(),this.Aa=k0(e),this.Ra=new ji(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new ay,i=n?n.Ra:this.Ra;let o=n?n.mutatedKeys:this.mutatedKeys,s=i,l=!1;const u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,p)=>{const m=i.get(d),T=_u(this.query,p)?p:null,k=!!m&&this.mutatedKeys.has(m.key),P=!!T&&(T.hasLocalMutations||this.mutatedKeys.has(T.key)&&T.hasCommittedMutations);let N=!1;m&&T?m.data.isEqual(T.data)?k!==P&&(r.track({type:3,doc:T}),N=!0):this.ga(m,T)||(r.track({type:2,doc:T}),N=!0,(u&&this.Aa(T,u)>0||c&&this.Aa(T,c)<0)&&(l=!0)):!m&&T?(r.track({type:0,doc:T}),N=!0):m&&!T&&(r.track({type:1,doc:m}),N=!0,(u||c)&&(l=!0)),N&&(T?(s=s.add(T),o=P?o.add(d):o.delete(d)):(s=s.delete(d),o=o.delete(d)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const d=this.query.limitType==="F"?s.last():s.first();s=s.delete(d.key),o=o.delete(d.key),r.track({type:1,doc:d})}return{Ra:s,fa:r,ns:l,mutatedKeys:o}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const o=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const s=e.fa.G_();s.sort((d,p)=>function(T,k){const P=N=>{switch(N){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Y()}};return P(T)-P(k)}(d.type,p.type)||this.Aa(d.doc,p.doc)),this.pa(r),i=i!=null&&i;const l=n&&!i?this.ya():[],u=this.da.size===0&&this.current&&!i?1:0,c=u!==this.Ea;return this.Ea=u,s.length!==0||c?{snapshot:new Ji(this.query,e.Ra,o,s,e.mutatedKeys,u===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:l}:{wa:l}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new ay,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=re(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new hE(r))}),this.da.forEach(r=>{e.has(r)||n.push(new cE(r))}),n}ba(e){this.Ta=e.Ts,this.da=re();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return Ji.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class rA{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class iA{constructor(e){this.key=e,this.va=!1}}class oA{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Ca={},this.Fa=new ni(l=>A0(l),vu),this.Ma=new Map,this.xa=new Set,this.Oa=new Re(K.comparator),this.Na=new Map,this.La=new Cf,this.Ba={},this.ka=new Map,this.qa=Yi.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function sA(t,e,n=!0){const r=yE(t);let i;const o=r.Fa.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Da()):i=await dE(r,e,n,!0),i}async function aA(t,e){const n=yE(t);await dE(n,e,!0,!1)}async function dE(t,e,n,r){const i=await kx(t.localStore,un(e)),o=i.targetId,s=t.sharedClientState.addLocalQueryTarget(o,n);let l;return r&&(l=await lA(t,e,o,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&tE(t.remoteStore,i),l}async function lA(t,e,n,r,i){t.Ka=(p,m,T)=>async function(P,N,w,E){let I=N.view.ma(w);I.ns&&(I=await ry(P.localStore,N.query,!1).then(({documents:S})=>N.view.ma(S,I)));const O=E&&E.targetChanges.get(N.targetId),j=E&&E.targetMismatches.get(N.targetId)!=null,M=N.view.applyChanges(I,P.isPrimaryClient,O,j);return hy(P,N.targetId,M.wa),M.snapshot}(t,p,m,T);const o=await ry(t.localStore,e,!0),s=new nA(e,o.Ts),l=s.ma(o.documents),u=Hs.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=s.applyChanges(l,t.isPrimaryClient,u);hy(t,n,c.wa);const d=new rA(e,n,s);return t.Fa.set(e,d),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),c.snapshot}async function uA(t,e,n){const r=Z(t),i=r.Fa.get(e),o=r.Ma.get(i.targetId);if(o.length>1)return r.Ma.set(i.targetId,o.filter(s=>!vu(s,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Zh(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&xf(r.remoteStore,i.targetId),td(r,i.targetId)}).catch(so)):(td(r,i.targetId),await Zh(r.localStore,i.targetId,!0))}async function cA(t,e){const n=Z(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),xf(n.remoteStore,r.targetId))}async function hA(t,e,n){const r=vA(t);try{const i=await function(s,l){const u=Z(s),c=ze.now(),d=l.reduce((T,k)=>T.add(k.key),re());let p,m;return u.persistence.runTransaction("Locally write mutations","readwrite",T=>{let k=Ln(),P=re();return u.cs.getEntries(T,d).next(N=>{k=N,k.forEach((w,E)=>{E.isValidDocument()||(P=P.add(w))})}).next(()=>u.localDocuments.getOverlayedDocuments(T,k)).next(N=>{p=N;const w=[];for(const E of l){const I=PR(E,p.get(E.key).overlayedDocument);I!=null&&w.push(new Rr(E.key,I,w0(I.value.mapValue),Zt.exists(!0)))}return u.mutationQueue.addMutationBatch(T,c,w,l)}).next(N=>{m=N;const w=N.applyToLocalDocumentSet(p,P);return u.documentOverlayCache.saveOverlays(T,N.batchId,w)})}).then(()=>({batchId:m.batchId,changes:N0(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,l,u){let c=s.Ba[s.currentUser.toKey()];c||(c=new Re(ae)),c=c.insert(l,u),s.Ba[s.currentUser.toKey()]=c}(r,i.batchId,n),await Ks(r,i.changes),await Iu(r.remoteStore)}catch(i){const o=Df(i,"Failed to persist write");n.reject(o)}}async function fE(t,e){const n=Z(t);try{const r=await Rx(n.localStore,e);e.targetChanges.forEach((i,o)=>{const s=n.Na.get(o);s&&(he(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.va=!0:i.modifiedDocuments.size>0?he(s.va):i.removedDocuments.size>0&&(he(s.va),s.va=!1))}),await Ks(n,r,e)}catch(r){await so(r)}}function cy(t,e,n){const r=Z(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Fa.forEach((o,s)=>{const l=s.view.Z_(e);l.snapshot&&i.push(l.snapshot)}),function(s,l){const u=Z(s);u.onlineState=l;let c=!1;u.queries.forEach((d,p)=>{for(const m of p.j_)m.Z_(l)&&(c=!0)}),c&&Vf(u)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function dA(t,e,n){const r=Z(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Na.get(e),o=i&&i.key;if(o){let s=new Re(K.comparator);s=s.insert(o,ct.newNoDocument(o,J.min()));const l=re().add(o),u=new Tu(J.min(),new Map,new Re(ae),s,l);await fE(r,u),r.Oa=r.Oa.remove(o),r.Na.delete(e),Of(r)}else await Zh(r.localStore,e,!1).then(()=>td(r,e,n)).catch(so)}async function fA(t,e){const n=Z(t),r=e.batch.batchId;try{const i=await Ix(n.localStore,e);mE(n,r,null),pE(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Ks(n,i)}catch(i){await so(i)}}async function pA(t,e,n){const r=Z(t);try{const i=await function(s,l){const u=Z(s);return u.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let d;return u.mutationQueue.lookupMutationBatch(c,l).next(p=>(he(p!==null),d=p.keys(),u.mutationQueue.removeMutationBatch(c,p))).next(()=>u.mutationQueue.performConsistencyCheck(c)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(c,d,l)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,d)).next(()=>u.localDocuments.getDocuments(c,d))})}(r.localStore,e);mE(r,e,n),pE(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Ks(r,i)}catch(i){await so(i)}}function pE(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function mE(t,e,n){const r=Z(t);let i=r.Ba[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function td(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||gE(t,r)})}function gE(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(xf(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),Of(t))}function hy(t,e,n){for(const r of n)r instanceof cE?(t.La.addReference(r.key,e),mA(t,r)):r instanceof hE?(z("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||gE(t,r.key)):Y()}function mA(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(z("SyncEngine","New document in limbo: "+n),t.xa.add(r),Of(t))}function Of(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new K(we.fromString(e)),r=t.qa.next();t.Na.set(r,new iA(n)),t.Oa=t.Oa.insert(n,r),tE(t.remoteStore,new er(un(vf(n.path)),r,"TargetPurposeLimboResolution",pu.oe))}}async function Ks(t,e,n){const r=Z(t),i=[],o=[],s=[];r.Fa.isEmpty()||(r.Fa.forEach((l,u)=>{s.push(r.Ka(u,e,n).then(c=>{var d;if((c||n)&&r.isPrimaryClient){const p=c?!c.fromCache:(d=n==null?void 0:n.targetChanges.get(u.targetId))===null||d===void 0?void 0:d.current;r.sharedClientState.updateQueryState(u.targetId,p?"current":"not-current")}if(c){i.push(c);const p=Rf.Wi(u.targetId,c);o.push(p)}}))}),await Promise.all(s),r.Ca.d_(i),await async function(u,c){const d=Z(u);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>b.forEach(c,m=>b.forEach(m.$i,T=>d.persistence.referenceDelegate.addReference(p,m.targetId,T)).next(()=>b.forEach(m.Ui,T=>d.persistence.referenceDelegate.removeReference(p,m.targetId,T)))))}catch(p){if(!ao(p))throw p;z("LocalStore","Failed to update sequence numbers: "+p)}for(const p of c){const m=p.targetId;if(!p.fromCache){const T=d.os.get(m),k=T.snapshotVersion,P=T.withLastLimboFreeSnapshotVersion(k);d.os=d.os.insert(m,P)}}}(r.localStore,o))}async function gA(t,e){const n=Z(t);if(!n.currentUser.isEqual(e)){z("SyncEngine","User change. New user:",e.toKey());const r=await Y0(n.localStore,e);n.currentUser=e,function(o,s){o.ka.forEach(l=>{l.forEach(u=>{u.reject(new W(F.CANCELLED,s))})}),o.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Ks(n,r.hs)}}function yA(t,e){const n=Z(t),r=n.Na.get(e);if(r&&r.va)return re().add(r.key);{let i=re();const o=n.Ma.get(e);if(!o)return i;for(const s of o){const l=n.Fa.get(s);i=i.unionWith(l.view.Va)}return i}}function yE(t){const e=Z(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=fE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=yA.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=dA.bind(null,e),e.Ca.d_=eA.bind(null,e.eventManager),e.Ca.$a=tA.bind(null,e.eventManager),e}function vA(t){const e=Z(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=fA.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=pA.bind(null,e),e}class $l{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Su(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return Cx(this.persistence,new Tx,e.initialUser,this.serializer)}Ga(e){return new X0(If.Zr,this.serializer)}Wa(e){return new Nx}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}$l.provider={build:()=>new $l};class _A extends $l{constructor(e){super(),this.cacheSizeBytes=e}ja(e,n){he(this.persistence.referenceDelegate instanceof Fl);const r=this.persistence.referenceDelegate.garbageCollector;return new ax(r,e.asyncQueue,n)}Ga(e){const n=this.cacheSizeBytes!==void 0?_t.withCacheSize(this.cacheSizeBytes):_t.DEFAULT;return new X0(r=>Fl.Zr(r,n),this.serializer)}}class nd{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>cy(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=gA.bind(null,this.syncEngine),await Yx(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Zx}()}createDatastore(e){const n=Su(e.databaseInfo.databaseId),r=function(o){return new Lx(o)}(e.databaseInfo);return function(o,s,l,u){return new jx(o,s,l,u)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,o,s,l){return new Bx(r,i,o,s,l)}(this.localStore,this.datastore,e.asyncQueue,n=>cy(this.syncEngine,n,0),function(){return oy.D()?new oy:new Dx}())}createSyncEngine(e,n){return function(i,o,s,l,u,c,d){const p=new oA(i,o,s,l,u,c);return d&&(p.Qa=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const o=Z(i);z("RemoteStore","RemoteStore shutting down."),o.L_.add(5),await Ws(o),o.k_.shutdown(),o.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}nd.provider={build:()=>new nd};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vE{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):On("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EA{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=lt.UNAUTHENTICATED,this.clientId=v0.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async s=>{z("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(z("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new In;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Df(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Mc(t,e){t.asyncQueue.verifyOperationInProgress(),z("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await Y0(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function dy(t,e){t.asyncQueue.verifyOperationInProgress();const n=await wA(t);z("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>sy(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>sy(e.remoteStore,i)),t._onlineComponents=e}async function wA(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){z("FirestoreClient","Using user provided OfflineComponentProvider");try{await Mc(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===F.FAILED_PRECONDITION||i.code===F.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;qi("Error using user provided cache. Falling back to memory cache: "+n),await Mc(t,new $l)}}else z("FirestoreClient","Using default OfflineComponentProvider"),await Mc(t,new _A(void 0));return t._offlineComponents}async function _E(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(z("FirestoreClient","Using user provided OnlineComponentProvider"),await dy(t,t._uninitializedComponentsProvider._online)):(z("FirestoreClient","Using default OnlineComponentProvider"),await dy(t,new nd))),t._onlineComponents}function TA(t){return _E(t).then(e=>e.syncEngine)}async function EE(t){const e=await _E(t),n=e.eventManager;return n.onListen=sA.bind(null,e.syncEngine),n.onUnlisten=uA.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=aA.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=cA.bind(null,e.syncEngine),n}function SA(t,e,n={}){const r=new In;return t.asyncQueue.enqueueAndForget(async()=>function(o,s,l,u,c){const d=new vE({next:m=>{d.Za(),s.enqueueAndForget(()=>lE(o,p));const T=m.docs.has(l);!T&&m.fromCache?c.reject(new W(F.UNAVAILABLE,"Failed to get document because the client is offline.")):T&&m.fromCache&&u&&u.source==="server"?c.reject(new W(F.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(m)},error:m=>c.reject(m)}),p=new uE(vf(l.path),d,{includeMetadataChanges:!0,_a:!0});return aE(o,p)}(await EE(t),t.asyncQueue,e,n,r)),r.promise}function CA(t,e,n={}){const r=new In;return t.asyncQueue.enqueueAndForget(async()=>function(o,s,l,u,c){const d=new vE({next:m=>{d.Za(),s.enqueueAndForget(()=>lE(o,p)),m.fromCache&&u.source==="server"?c.reject(new W(F.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(m)},error:m=>c.reject(m)}),p=new uE(l,d,{includeMetadataChanges:!0,_a:!0});return aE(o,p)}(await EE(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wE(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fy=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TE(t,e,n){if(!n)throw new W(F.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function IA(t,e,n,r){if(e===!0&&r===!0)throw new W(F.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function py(t){if(!K.isDocumentKey(t))throw new W(F.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function my(t){if(K.isDocumentKey(t))throw new W(F.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Lf(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Y()}function Mn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new W(F.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Lf(t);throw new W(F.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gy{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new W(F.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new W(F.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}IA("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=wE((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new W(F.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new W(F.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new W(F.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ru{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new gy({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new W(F.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new W(F.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new gy(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new MI;switch(r.type){case"firstParty":return new BI(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new W(F.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=fy.get(n);r&&(z("ComponentProvider","Removing Datastore"),fy.delete(n),r.terminate())}(this),Promise.resolve()}}function RA(t,e,n,r={}){var i;const o=(t=Mn(t,Ru))._getSettings(),s=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&qi("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let l,u;if(typeof r.mockUserToken=="string")l=r.mockUserToken,u=lt.MOCK_USER;else{l=mC(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new W(F.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new lt(c)}t._authCredentials=new bI(new y0(l,u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xu{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new xu(this.firestore,e,this._query)}}class Ot{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new hr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ot(this.firestore,e,this._key)}}class hr extends xu{constructor(e,n,r){super(e,n,vf(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ot(this.firestore,null,new K(e))}withConverter(e){return new hr(this.firestore,e,this._path)}}function bn(t,e,...n){if(t=mr(t),TE("collection","path",e),t instanceof Ru){const r=we.fromString(e,...n);return my(r),new hr(t,null,r)}{if(!(t instanceof Ot||t instanceof hr))throw new W(F.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(we.fromString(e,...n));return my(r),new hr(t.firestore,null,r)}}function uo(t,e,...n){if(t=mr(t),arguments.length===1&&(e=v0.newId()),TE("doc","path",e),t instanceof Ru){const r=we.fromString(e,...n);return py(r),new Ot(t,null,new K(r))}{if(!(t instanceof Ot||t instanceof hr))throw new W(F.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(we.fromString(e,...n));return py(r),new Ot(t.firestore,t instanceof hr?t.converter:null,new K(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yy{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new Z0(this,"async_queue_retry"),this.Vu=()=>{const r=Lc();r&&z("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=Lc();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=Lc();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new In;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!ao(e))throw e;z("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const i=function(s){let l=s.message||"";return s.stack&&(l=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),l}(r);throw On("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const i=Nf.createAndSchedule(this,e,n,r,o=>this.yu(o));return this.Tu.push(i),i}fu(){this.Eu&&Y()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}class co extends Ru{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new yy,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new yy(e),this._firestoreClient=void 0,await e}}}function Mf(t,e){const n=typeof t=="object"?t:CI(),r=typeof t=="string"?t:"(default)",i=EI(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=fC("firestore");o&&RA(i,...o)}return i}function bf(t){if(t._terminated)throw new W(F.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||xA(t),t._firestoreClient}function xA(t){var e,n,r;const i=t._freezeSettings(),o=function(l,u,c,d){return new tR(l,u,c,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,wE(d.experimentalLongPollingOptions),d.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new EA(t._authCredentials,t._appCheckCredentials,t._queue,o,t._componentsProvider&&function(l){const u=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(u),_online:u}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zi{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Zi(nt.fromBase64String(e))}catch(n){throw new W(F.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Zi(nt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Au{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new W(F.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ze(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jf{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ff{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new W(F.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new W(F.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ae(this._lat,e._lat)||ae(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bf{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AA=/^__.*__$/;class kA{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Rr(e,this.data,this.fieldMask,n,this.fieldTransforms):new zs(e,this.data,n,this.fieldTransforms)}}class SE{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Rr(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function CE(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Y()}}class $f{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.vu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new $f(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Ul(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(CE(this.Cu)&&AA.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class PA{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Su(e)}Qu(e,n,r,i=!1){return new $f({Cu:e,methodName:n,qu:r,path:Ze.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function IE(t){const e=t._freezeSettings(),n=Su(t._databaseId);return new PA(t._databaseId,!!e.ignoreUndefinedProperties,n)}function NA(t,e,n,r,i,o={}){const s=t.Qu(o.merge||o.mergeFields?2:0,e,n,i);Uf("Data must be an object, but it was:",s,r);const l=RE(r,s);let u,c;if(o.merge)u=new Dt(s.fieldMask),c=s.fieldTransforms;else if(o.mergeFields){const d=[];for(const p of o.mergeFields){const m=rd(e,p,n);if(!s.contains(m))throw new W(F.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);AE(d,m)||d.push(m)}u=new Dt(d),c=s.fieldTransforms.filter(p=>u.covers(p.field))}else u=null,c=s.fieldTransforms;return new kA(new wt(l),u,c)}class ku extends jf{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof ku}}function DA(t,e,n,r){const i=t.Qu(1,e,n);Uf("Data must be an object, but it was:",i,r);const o=[],s=wt.empty();Ir(r,(u,c)=>{const d=zf(e,u,n);c=mr(c);const p=i.Nu(d);if(c instanceof ku)o.push(d);else{const m=Pu(c,p);m!=null&&(o.push(d),s.set(d,m))}});const l=new Dt(o);return new SE(s,l,i.fieldTransforms)}function VA(t,e,n,r,i,o){const s=t.Qu(1,e,n),l=[rd(e,r,n)],u=[i];if(o.length%2!=0)throw new W(F.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<o.length;m+=2)l.push(rd(e,o[m])),u.push(o[m+1]);const c=[],d=wt.empty();for(let m=l.length-1;m>=0;--m)if(!AE(c,l[m])){const T=l[m];let k=u[m];k=mr(k);const P=s.Nu(T);if(k instanceof ku)c.push(T);else{const N=Pu(k,P);N!=null&&(c.push(T),d.set(T,N))}}const p=new Dt(c);return new SE(d,p,s.fieldTransforms)}function Pu(t,e){if(xE(t=mr(t)))return Uf("Unsupported field value:",e,t),RE(t,e);if(t instanceof jf)return function(r,i){if(!CE(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){const o=[];let s=0;for(const l of r){let u=Pu(l,i.Lu(s));u==null&&(u={nullValue:"NULL_VALUE"}),o.push(u),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=mr(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return CR(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=ze.fromDate(r);return{timestampValue:jl(i.serializer,o)}}if(r instanceof ze){const o=new ze(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:jl(i.serializer,o)}}if(r instanceof Ff)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Zi)return{bytesValue:z0(i.serializer,r._byteString)};if(r instanceof Ot){const o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Bu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Sf(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Bf)return function(s,l){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:s.toArray().map(u=>{if(typeof u!="number")throw l.Bu("VectorValues must only contain numeric values.");return _f(l.serializer,u)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${Lf(r)}`)}(t,e)}function RE(t,e){const n={};return _0(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ir(t,(r,i)=>{const o=Pu(i,e.Mu(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function xE(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof ze||t instanceof Ff||t instanceof Zi||t instanceof Ot||t instanceof jf||t instanceof Bf)}function Uf(t,e,n){if(!xE(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=Lf(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function rd(t,e,n){if((e=mr(e))instanceof Au)return e._internalPath;if(typeof e=="string")return zf(t,e);throw Ul("Field path arguments must be of type string or ",t,!1,void 0,n)}const OA=new RegExp("[~\\*/\\[\\]]");function zf(t,e,n){if(e.search(OA)>=0)throw Ul(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Au(...e.split("."))._internalPath}catch{throw Ul(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Ul(t,e,n,r,i){const o=r&&!r.isEmpty(),s=i!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let u="";return(o||s)&&(u+=" (found",o&&(u+=` in field ${r}`),s&&(u+=` in document ${i}`),u+=")"),new W(F.INVALID_ARGUMENT,l+t+u)}function AE(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kE{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Ot(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new LA(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(PE("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class LA extends kE{data(){return super.data()}}function PE(t,e){return typeof e=="string"?zf(t,e):e instanceof Au?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MA(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new W(F.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class bA{convertValue(e,n="none"){switch(_r(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Pe(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(vr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Y()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Ir(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(e){var n,r,i;const o=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>Pe(s.doubleValue));return new Bf(o)}convertGeoPoint(e){return new Ff(Pe(e.latitude),Pe(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=gu(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Ns(e));default:return null}}convertTimestamp(e){const n=yr(e);return new ze(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=we.fromString(e);he(Q0(r));const i=new Ds(r.get(1),r.get(3)),o=new K(r.popFirst(5));return i.isEqual(n)||On(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jA(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qo{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class NE extends kE{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new nl(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(PE("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class nl extends NE{data(e={}){return super.data(e)}}class FA{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Qo(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new nl(this._firestore,this._userDataWriter,r.key,r,new Qo(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new W(F.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(l=>{const u=new nl(i._firestore,i._userDataWriter,l.doc.key,l.doc,new Qo(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);return l.doc,{type:"added",doc:u,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(l=>o||l.type!==3).map(l=>{const u=new nl(i._firestore,i._userDataWriter,l.doc.key,l.doc,new Qo(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,d=-1;return l.type!==0&&(c=s.indexOf(l.doc.key),s=s.delete(l.doc.key)),l.type!==1&&(s=s.add(l.doc),d=s.indexOf(l.doc.key)),{type:BA(l.type),doc:u,oldIndex:c,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function BA(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Y()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $A(t){t=Mn(t,Ot);const e=Mn(t.firestore,co);return SA(bf(e),t._key).then(n=>zA(e,t,n))}class DE extends bA{constructor(e){super(),this.firestore=e}convertBytes(e){return new Zi(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ot(this.firestore,null,n)}}function eo(t){t=Mn(t,xu);const e=Mn(t.firestore,co),n=bf(e),r=new DE(e);return MA(t._query),CA(n,t._query).then(i=>new FA(e,r,t,i))}function UA(t,e,n,...r){t=Mn(t,Ot);const i=Mn(t.firestore,co),o=IE(i);let s;return s=typeof(e=mr(e))=="string"||e instanceof Au?VA(o,"updateDoc",t._key,e,n,r):DA(o,"updateDoc",t._key,e),Kf(i,[s.toMutation(t._key,Zt.exists(!0))])}function Hf(t){return Kf(Mn(t.firestore,co),[new Ef(t._key,Zt.none())])}function Wf(t,e){const n=Mn(t.firestore,co),r=uo(t),i=jA(t.converter,e);return Kf(n,[NA(IE(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Zt.exists(!1))]).then(()=>r)}function Kf(t,e){return function(r,i){const o=new In;return r.asyncQueue.enqueueAndForget(async()=>hA(await TA(r),i,o)),o.promise}(bf(t),e)}function zA(t,e,n){const r=n.docs.get(e._key),i=new DE(t);return new NE(t,i,e._key,r,new Qo(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){oo=i})(SI),Dl(new As("firestore",(r,{instanceIdentifier:i,options:o})=>{const s=r.getProvider("app").getImmediate(),l=new co(new jI(r.getProvider("auth-internal")),new UI(r.getProvider("app-check-internal")),function(c,d){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new W(F.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ds(c.options.projectId,d)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),l._setSettings(o),l},"PUBLIC").setMultipleInstances(!0)),bi(Vg,"4.7.4",e),bi(Vg,"4.7.4","esm2017")})();var VE={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(t){(function(){var e={}.hasOwnProperty;function n(){for(var o="",s=0;s<arguments.length;s++){var l=arguments[s];l&&(o=i(o,r(l)))}return o}function r(o){if(typeof o=="string"||typeof o=="number")return o;if(typeof o!="object")return"";if(Array.isArray(o))return n.apply(null,o);if(o.toString!==Object.prototype.toString&&!o.toString.toString().includes("[native code]"))return o.toString();var s="";for(var l in o)e.call(o,l)&&o[l]&&(s=i(s,l));return s}function i(o,s){return s?o?o+" "+s:o+s:o}t.exports?(n.default=n,t.exports=n):window.classNames=n})()})(VE);var HA=VE.exports;const q=Xl(HA);function id(){return id=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},id.apply(null,arguments)}function OE(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.includes(r))continue;n[r]=t[r]}return n}function vy(t){return"default"+t.charAt(0).toUpperCase()+t.substr(1)}function WA(t){var e=KA(t,"string");return typeof e=="symbol"?e:String(e)}function KA(t,e){if(typeof t!="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function qA(t,e,n){var r=g.useRef(t!==void 0),i=g.useState(e),o=i[0],s=i[1],l=t!==void 0,u=r.current;return r.current=l,!l&&u&&o!==e&&s(e),[l?t:o,g.useCallback(function(c){for(var d=arguments.length,p=new Array(d>1?d-1:0),m=1;m<d;m++)p[m-1]=arguments[m];n&&n.apply(void 0,[c].concat(p)),s(c)},[n])]}function LE(t,e){return Object.keys(e).reduce(function(n,r){var i,o=n,s=o[vy(r)],l=o[r],u=OE(o,[vy(r),r].map(WA)),c=e[r],d=qA(l,s,t[c]),p=d[0],m=d[1];return id({},u,(i={},i[r]=p,i[c]=m,i))},t)}function od(t,e){return od=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},od(t,e)}function GA(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,od(t,e)}const QA=["xxl","xl","lg","md","sm","xs"],XA="xs",Nu=g.createContext({prefixes:{},breakpoints:QA,minBreakpoint:XA});function ee(t,e){const{prefixes:n}=g.useContext(Nu);return t||n[e]||e}function ME(){const{breakpoints:t}=g.useContext(Nu);return t}function bE(){const{minBreakpoint:t}=g.useContext(Nu);return t}function YA(){const{dir:t}=g.useContext(Nu);return t==="rtl"}function Du(t){return t&&t.ownerDocument||document}function JA(t){var e=Du(t);return e&&e.defaultView||window}function ZA(t,e){return JA(t).getComputedStyle(t,e)}var ek=/([A-Z])/g;function tk(t){return t.replace(ek,"-$1").toLowerCase()}var nk=/^ms-/;function La(t){return tk(t).replace(nk,"-ms-")}var rk=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function ik(t){return!!(t&&rk.test(t))}function Rn(t,e){var n="",r="";if(typeof e=="string")return t.style.getPropertyValue(La(e))||ZA(t).getPropertyValue(La(e));Object.keys(e).forEach(function(i){var o=e[i];!o&&o!==0?t.style.removeProperty(La(i)):ik(i)?r+=i+"("+o+") ":n+=La(i)+": "+o+";"}),r&&(n+="transform: "+r+";"),t.style.cssText+=";"+n}var jE={exports:{}},ok="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",sk=ok,ak=sk;function FE(){}function BE(){}BE.resetWarningCache=FE;var lk=function(){function t(r,i,o,s,l,u){if(u!==ak){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:BE,resetWarningCache:FE};return n.PropTypes=n,n};jE.exports=lk();var uk=jE.exports;const xn=Xl(uk),_y={disabled:!1},$E=qe.createContext(null);var ck=function(e){return e.scrollTop},Xo="unmounted",Qn="exited",Xt="entering",wn="entered",Ms="exiting",Bn=function(t){GA(e,t);function e(r,i){var o;o=t.call(this,r,i)||this;var s=i,l=s&&!s.isMounting?r.enter:r.appear,u;return o.appearStatus=null,r.in?l?(u=Qn,o.appearStatus=Xt):u=wn:r.unmountOnExit||r.mountOnEnter?u=Xo:u=Qn,o.state={status:u},o.nextCallback=null,o}e.getDerivedStateFromProps=function(i,o){var s=i.in;return s&&o.status===Xo?{status:Qn}:null};var n=e.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(i){var o=null;if(i!==this.props){var s=this.state.status;this.props.in?s!==Xt&&s!==wn&&(o=Xt):(s===Xt||s===wn)&&(o=Ms)}this.updateStatus(!1,o)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var i=this.props.timeout,o,s,l;return o=s=l=i,i!=null&&typeof i!="number"&&(o=i.exit,s=i.enter,l=i.appear!==void 0?i.appear:s),{exit:o,enter:s,appear:l}},n.updateStatus=function(i,o){if(i===void 0&&(i=!1),o!==null)if(this.cancelNextCallback(),o===Xt){if(this.props.unmountOnExit||this.props.mountOnEnter){var s=this.props.nodeRef?this.props.nodeRef.current:Pi.findDOMNode(this);s&&ck(s)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Qn&&this.setState({status:Xo})},n.performEnter=function(i){var o=this,s=this.props.enter,l=this.context?this.context.isMounting:i,u=this.props.nodeRef?[l]:[Pi.findDOMNode(this),l],c=u[0],d=u[1],p=this.getTimeouts(),m=l?p.appear:p.enter;if(!i&&!s||_y.disabled){this.safeSetState({status:wn},function(){o.props.onEntered(c)});return}this.props.onEnter(c,d),this.safeSetState({status:Xt},function(){o.props.onEntering(c,d),o.onTransitionEnd(m,function(){o.safeSetState({status:wn},function(){o.props.onEntered(c,d)})})})},n.performExit=function(){var i=this,o=this.props.exit,s=this.getTimeouts(),l=this.props.nodeRef?void 0:Pi.findDOMNode(this);if(!o||_y.disabled){this.safeSetState({status:Qn},function(){i.props.onExited(l)});return}this.props.onExit(l),this.safeSetState({status:Ms},function(){i.props.onExiting(l),i.onTransitionEnd(s.exit,function(){i.safeSetState({status:Qn},function(){i.props.onExited(l)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(i,o){o=this.setNextCallback(o),this.setState(i,o)},n.setNextCallback=function(i){var o=this,s=!0;return this.nextCallback=function(l){s&&(s=!1,o.nextCallback=null,i(l))},this.nextCallback.cancel=function(){s=!1},this.nextCallback},n.onTransitionEnd=function(i,o){this.setNextCallback(o);var s=this.props.nodeRef?this.props.nodeRef.current:Pi.findDOMNode(this),l=i==null&&!this.props.addEndListener;if(!s||l){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var u=this.props.nodeRef?[this.nextCallback]:[s,this.nextCallback],c=u[0],d=u[1];this.props.addEndListener(c,d)}i!=null&&setTimeout(this.nextCallback,i)},n.render=function(){var i=this.state.status;if(i===Xo)return null;var o=this.props,s=o.children;o.in,o.mountOnEnter,o.unmountOnExit,o.appear,o.enter,o.exit,o.timeout,o.addEndListener,o.onEnter,o.onEntering,o.onEntered,o.onExit,o.onExiting,o.onExited,o.nodeRef;var l=OE(o,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return qe.createElement($E.Provider,{value:null},typeof s=="function"?s(i,l):qe.cloneElement(qe.Children.only(s),l))},e}(qe.Component);Bn.contextType=$E;Bn.propTypes={};function di(){}Bn.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:di,onEntering:di,onEntered:di,onExit:di,onExiting:di,onExited:di};Bn.UNMOUNTED=Xo;Bn.EXITED=Qn;Bn.ENTERING=Xt;Bn.ENTERED=wn;Bn.EXITING=Ms;const ho=!!(typeof window<"u"&&window.document&&window.document.createElement);var sd=!1,ad=!1;try{var bc={get passive(){return sd=!0},get once(){return ad=sd=!0}};ho&&(window.addEventListener("test",bc,bc),window.removeEventListener("test",bc,!0))}catch{}function UE(t,e,n,r){if(r&&typeof r!="boolean"&&!ad){var i=r.once,o=r.capture,s=n;!ad&&i&&(s=n.__once||function l(u){this.removeEventListener(e,l,o),n.call(this,u)},n.__once=s),t.addEventListener(e,s,sd?r:o)}t.addEventListener(e,n,r)}function ld(t,e,n,r){var i=r&&typeof r!="boolean"?r.capture:r;t.removeEventListener(e,n,i),n.__once&&t.removeEventListener(e,n.__once,i)}function zl(t,e,n,r){return UE(t,e,n,r),function(){ld(t,e,n,r)}}function hk(t,e,n,r){if(r===void 0&&(r=!0),t){var i=document.createEvent("HTMLEvents");i.initEvent(e,n,r),t.dispatchEvent(i)}}function dk(t){var e=Rn(t,"transitionDuration")||"",n=e.indexOf("ms")===-1?1e3:1;return parseFloat(e)*n}function fk(t,e,n){n===void 0&&(n=5);var r=!1,i=setTimeout(function(){r||hk(t,"transitionend",!0)},e+n),o=zl(t,"transitionend",function(){r=!0},{once:!0});return function(){clearTimeout(i),o()}}function zE(t,e,n,r){n==null&&(n=dk(t)||0);var i=fk(t,n,r),o=zl(t,"transitionend",e);return function(){i(),o()}}function Ey(t,e){const n=Rn(t,e)||"",r=n.indexOf("ms")===-1?1e3:1;return parseFloat(n)*r}function qf(t,e){const n=Ey(t,"transitionDuration"),r=Ey(t,"transitionDelay"),i=zE(t,o=>{o.target===t&&(i(),e(o))},n+r)}function Bo(...t){return t.filter(e=>e!=null).reduce((e,n)=>{if(typeof n!="function")throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return e===null?n:function(...i){e.apply(this,i),n.apply(this,i)}},null)}function HE(t){t.offsetHeight}const wy=t=>!t||typeof t=="function"?t:e=>{t.current=e};function pk(t,e){const n=wy(t),r=wy(e);return i=>{n&&n(i),r&&r(i)}}function fo(t,e){return g.useMemo(()=>pk(t,e),[t,e])}function mk(t){return t&&"setState"in t?Pi.findDOMNode(t):t??null}const Gf=qe.forwardRef(({onEnter:t,onEntering:e,onEntered:n,onExit:r,onExiting:i,onExited:o,addEndListener:s,children:l,childRef:u,...c},d)=>{const p=g.useRef(null),m=fo(p,u),T=M=>{m(mk(M))},k=M=>S=>{M&&p.current&&M(p.current,S)},P=g.useCallback(k(t),[t]),N=g.useCallback(k(e),[e]),w=g.useCallback(k(n),[n]),E=g.useCallback(k(r),[r]),I=g.useCallback(k(i),[i]),O=g.useCallback(k(o),[o]),j=g.useCallback(k(s),[s]);return _.jsx(Bn,{ref:d,...c,onEnter:P,onEntered:w,onEntering:N,onExit:E,onExited:O,onExiting:I,addEndListener:j,nodeRef:p,children:typeof l=="function"?(M,S)=>l(M,{...S,ref:T}):qe.cloneElement(l,{ref:T})})}),gk={height:["marginTop","marginBottom"],width:["marginLeft","marginRight"]};function yk(t,e){const n=`offset${t[0].toUpperCase()}${t.slice(1)}`,r=e[n],i=gk[t];return r+parseInt(Rn(e,i[0]),10)+parseInt(Rn(e,i[1]),10)}const vk={[Qn]:"collapse",[Ms]:"collapsing",[Xt]:"collapsing",[wn]:"collapse show"},_k=qe.forwardRef(({onEnter:t,onEntering:e,onEntered:n,onExit:r,onExiting:i,className:o,children:s,dimension:l="height",in:u=!1,timeout:c=300,mountOnEnter:d=!1,unmountOnExit:p=!1,appear:m=!1,getDimensionValue:T=yk,...k},P)=>{const N=typeof l=="function"?l():l,w=g.useMemo(()=>Bo(M=>{M.style[N]="0"},t),[N,t]),E=g.useMemo(()=>Bo(M=>{const S=`scroll${N[0].toUpperCase()}${N.slice(1)}`;M.style[N]=`${M[S]}px`},e),[N,e]),I=g.useMemo(()=>Bo(M=>{M.style[N]=null},n),[N,n]),O=g.useMemo(()=>Bo(M=>{M.style[N]=`${T(N,M)}px`,HE(M)},r),[r,T,N]),j=g.useMemo(()=>Bo(M=>{M.style[N]=null},i),[N,i]);return _.jsx(Gf,{ref:P,addEndListener:qf,...k,"aria-expanded":k.role?u:null,onEnter:w,onEntering:E,onEntered:I,onExit:O,onExiting:j,childRef:s.ref,in:u,timeout:c,mountOnEnter:d,unmountOnExit:p,appear:m,children:(M,S)=>qe.cloneElement(s,{...S,className:q(o,s.props.className,vk[M],N==="width"&&"collapse-horizontal")})})});function Ek(t){const e=g.useRef(t);return g.useEffect(()=>{e.current=t},[t]),e}function pt(t){const e=Ek(t);return g.useCallback(function(...n){return e.current&&e.current(...n)},[e])}const Vu=t=>g.forwardRef((e,n)=>_.jsx("div",{...e,ref:n,className:q(e.className,t)}));function wk(){return g.useState(null)}function Tk(){const t=g.useRef(!0),e=g.useRef(()=>t.current);return g.useEffect(()=>(t.current=!0,()=>{t.current=!1}),[]),e.current}function Sk(t){const e=g.useRef(null);return g.useEffect(()=>{e.current=t}),e.current}const Ck=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",Ik=typeof document<"u",ud=Ik||Ck?g.useLayoutEffect:g.useEffect,Rk=["as","disabled"];function xk(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Ak(t){return!t||t.trim()==="#"}function Qf({tagName:t,disabled:e,href:n,target:r,rel:i,role:o,onClick:s,tabIndex:l=0,type:u}){t||(n!=null||r!=null||i!=null?t="a":t="button");const c={tagName:t};if(t==="button")return[{type:u||"button",disabled:e},c];const d=m=>{if((e||t==="a"&&Ak(n))&&m.preventDefault(),e){m.stopPropagation();return}s==null||s(m)},p=m=>{m.key===" "&&(m.preventDefault(),d(m))};return t==="a"&&(n||(n="#"),e&&(n=void 0)),[{role:o??"button",disabled:void 0,tabIndex:e?void 0:l,href:n,target:t==="a"?r:void 0,"aria-disabled":e||void 0,rel:t==="a"?i:void 0,onClick:d,onKeyDown:p},c]}const WE=g.forwardRef((t,e)=>{let{as:n,disabled:r}=t,i=xk(t,Rk);const[o,{tagName:s}]=Qf(Object.assign({tagName:n,disabled:r},i));return _.jsx(s,Object.assign({},i,o,{ref:e}))});WE.displayName="Button";const kk=["onKeyDown"];function Pk(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Nk(t){return!t||t.trim()==="#"}const KE=g.forwardRef((t,e)=>{let{onKeyDown:n}=t,r=Pk(t,kk);const[i]=Qf(Object.assign({tagName:"a"},r)),o=pt(s=>{i.onKeyDown(s),n==null||n(s)});return Nk(r.href)||r.role==="button"?_.jsx("a",Object.assign({ref:e},r,i,{onKeyDown:o})):_.jsx("a",Object.assign({ref:e},r,{onKeyDown:n}))});KE.displayName="Anchor";function Dk(t){return t.code==="Escape"||t.keyCode===27}function qE(){const t=g.version.split(".");return{major:+t[0],minor:+t[1],patch:+t[2]}}const Vk={[Xt]:"show",[wn]:"show"},Ou=g.forwardRef(({className:t,children:e,transitionClasses:n={},onEnter:r,...i},o)=>{const s={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,...i},l=g.useCallback((d,p)=>{HE(d),r==null||r(d,p)},[r]),{major:u}=qE(),c=u>=19?e.props.ref:e.ref;return _.jsx(Gf,{ref:o,addEndListener:qf,...s,onEnter:l,childRef:c,children:(d,p)=>g.cloneElement(e,{...p,className:q("fade",t,e.props.className,Vk[d],n[d])})})});Ou.displayName="Fade";const Ok={"aria-label":xn.string,onClick:xn.func,variant:xn.oneOf(["white"])},Xf=g.forwardRef(({className:t,variant:e,"aria-label":n="Close",...r},i)=>_.jsx("button",{ref:i,type:"button",className:q("btn-close",e&&`btn-close-${e}`,t),"aria-label":n,...r}));Xf.displayName="CloseButton";Xf.propTypes=Ok;const Pt=g.forwardRef(({as:t,bsPrefix:e,variant:n="primary",size:r,active:i=!1,disabled:o=!1,className:s,...l},u)=>{const c=ee(e,"btn"),[d,{tagName:p}]=Qf({tagName:t,disabled:o,...l}),m=p;return _.jsx(m,{...d,...l,ref:u,disabled:o,className:q(s,c,i&&"active",n&&`${c}-${n}`,r&&`${c}-${r}`,l.href&&o&&"disabled")})});Pt.displayName="Button";const Yf=g.forwardRef(({className:t,bsPrefix:e,as:n="div",...r},i)=>(e=ee(e,"card-body"),_.jsx(n,{ref:i,className:q(t,e),...r})));Yf.displayName="CardBody";const GE=g.forwardRef(({className:t,bsPrefix:e,as:n="div",...r},i)=>(e=ee(e,"card-footer"),_.jsx(n,{ref:i,className:q(t,e),...r})));GE.displayName="CardFooter";const Jf=g.createContext(null);Jf.displayName="CardHeaderContext";const QE=g.forwardRef(({bsPrefix:t,className:e,as:n="div",...r},i)=>{const o=ee(t,"card-header"),s=g.useMemo(()=>({cardHeaderBsPrefix:o}),[o]);return _.jsx(Jf.Provider,{value:s,children:_.jsx(n,{ref:i,...r,className:q(e,o)})})});QE.displayName="CardHeader";const XE=g.forwardRef(({bsPrefix:t,className:e,variant:n,as:r="img",...i},o)=>{const s=ee(t,"card-img");return _.jsx(r,{ref:o,className:q(n?`${s}-${n}`:s,e),...i})});XE.displayName="CardImg";const YE=g.forwardRef(({className:t,bsPrefix:e,as:n="div",...r},i)=>(e=ee(e,"card-img-overlay"),_.jsx(n,{ref:i,className:q(t,e),...r})));YE.displayName="CardImgOverlay";const JE=g.forwardRef(({className:t,bsPrefix:e,as:n="a",...r},i)=>(e=ee(e,"card-link"),_.jsx(n,{ref:i,className:q(t,e),...r})));JE.displayName="CardLink";const Lk=Vu("h6"),ZE=g.forwardRef(({className:t,bsPrefix:e,as:n=Lk,...r},i)=>(e=ee(e,"card-subtitle"),_.jsx(n,{ref:i,className:q(t,e),...r})));ZE.displayName="CardSubtitle";const ew=g.forwardRef(({className:t,bsPrefix:e,as:n="p",...r},i)=>(e=ee(e,"card-text"),_.jsx(n,{ref:i,className:q(t,e),...r})));ew.displayName="CardText";const Mk=Vu("h5"),tw=g.forwardRef(({className:t,bsPrefix:e,as:n=Mk,...r},i)=>(e=ee(e,"card-title"),_.jsx(n,{ref:i,className:q(t,e),...r})));tw.displayName="CardTitle";const nw=g.forwardRef(({bsPrefix:t,className:e,bg:n,text:r,border:i,body:o=!1,children:s,as:l="div",...u},c)=>{const d=ee(t,"card");return _.jsx(l,{ref:c,...u,className:q(e,d,n&&`bg-${n}`,r&&`text-${r}`,i&&`border-${i}`),children:o?_.jsx(Yf,{children:s}):s})});nw.displayName="Card";const Be=Object.assign(nw,{Img:XE,Title:tw,Subtitle:ZE,Body:Yf,Link:JE,Text:ew,Header:QE,Footer:GE,ImgOverlay:YE});function bk(t){const e=g.useRef(t);return e.current=t,e}function rw(t){const e=bk(t);g.useEffect(()=>()=>e.current(),[])}function jk(t,e){return g.Children.toArray(t).some(n=>g.isValidElement(n)&&n.type===e)}function Fk({as:t,bsPrefix:e,className:n,...r}){e=ee(e,"col");const i=ME(),o=bE(),s=[],l=[];return i.forEach(u=>{const c=r[u];delete r[u];let d,p,m;typeof c=="object"&&c!=null?{span:d,offset:p,order:m}=c:d=c;const T=u!==o?`-${u}`:"";d&&s.push(d===!0?`${e}${T}`:`${e}${T}-${d}`),m!=null&&l.push(`order${T}-${m}`),p!=null&&l.push(`offset${T}-${p}`)}),[{...r,className:q(n,...s,...l)},{as:t,bsPrefix:e,spans:s}]}const dr=g.forwardRef((t,e)=>{const[{className:n,...r},{as:i="div",bsPrefix:o,spans:s}]=Fk(t);return _.jsx(i,{...r,ref:e,className:q(n,!s.length&&o)})});dr.displayName="Col";const Kr=g.forwardRef(({bsPrefix:t,fluid:e=!1,as:n="div",className:r,...i},o)=>{const s=ee(t,"container"),l=typeof e=="string"?`-${e}`:"-fluid";return _.jsx(n,{ref:o,...i,className:q(r,e?`${s}${l}`:s)})});Kr.displayName="Container";var Bk=Function.prototype.bind.call(Function.prototype.call,[].slice);function jr(t,e){return Bk(t.querySelectorAll(e))}function $k(){const[,t]=g.useReducer(e=>!e,!1);return t}function Ty(t,e){if(t.contains)return t.contains(e);if(t.compareDocumentPosition)return t===e||!!(t.compareDocumentPosition(e)&16)}const Hl=g.createContext(null),Zf=(t,e=null)=>t!=null?String(t):e||null,ep=g.createContext(null);ep.displayName="NavContext";const Uk="data-rr-ui-",zk="rrUi";function Lu(t){return`${Uk}${t}`}function Hk(t){return`${zk}${t}`}const iw=g.createContext(ho?window:void 0);iw.Provider;function tp(){return g.useContext(iw)}const po=g.createContext(null);po.displayName="NavbarContext";const Wk={type:xn.string,tooltip:xn.bool,as:xn.elementType},Mu=g.forwardRef(({as:t="div",className:e,type:n="valid",tooltip:r=!1,...i},o)=>_.jsx(t,{...i,ref:o,className:q(e,`${n}-${r?"tooltip":"feedback"}`)}));Mu.displayName="Feedback";Mu.propTypes=Wk;const jn=g.createContext({}),np=g.forwardRef(({id:t,bsPrefix:e,className:n,type:r="checkbox",isValid:i=!1,isInvalid:o=!1,as:s="input",...l},u)=>{const{controlId:c}=g.useContext(jn);return e=ee(e,"form-check-input"),_.jsx(s,{...l,ref:u,type:r,id:t||c,className:q(n,e,i&&"is-valid",o&&"is-invalid")})});np.displayName="FormCheckInput";const Wl=g.forwardRef(({bsPrefix:t,className:e,htmlFor:n,...r},i)=>{const{controlId:o}=g.useContext(jn);return t=ee(t,"form-check-label"),_.jsx("label",{...r,ref:i,htmlFor:n||o,className:q(e,t)})});Wl.displayName="FormCheckLabel";const ow=g.forwardRef(({id:t,bsPrefix:e,bsSwitchPrefix:n,inline:r=!1,reverse:i=!1,disabled:o=!1,isValid:s=!1,isInvalid:l=!1,feedbackTooltip:u=!1,feedback:c,feedbackType:d,className:p,style:m,title:T="",type:k="checkbox",label:P,children:N,as:w="input",...E},I)=>{e=ee(e,"form-check"),n=ee(n,"form-switch");const{controlId:O}=g.useContext(jn),j=g.useMemo(()=>({controlId:t||O}),[O,t]),M=!N&&P!=null&&P!==!1||jk(N,Wl),S=_.jsx(np,{...E,type:k==="switch"?"checkbox":k,ref:I,isValid:s,isInvalid:l,disabled:o,as:w});return _.jsx(jn.Provider,{value:j,children:_.jsx("div",{style:m,className:q(p,M&&e,r&&`${e}-inline`,i&&`${e}-reverse`,k==="switch"&&n),children:N||_.jsxs(_.Fragment,{children:[S,M&&_.jsx(Wl,{title:T,children:P}),c&&_.jsx(Mu,{type:d,tooltip:u,children:c})]})})})});ow.displayName="FormCheck";const Kl=Object.assign(ow,{Input:np,Label:Wl}),sw=g.forwardRef(({bsPrefix:t,type:e,size:n,htmlSize:r,id:i,className:o,isValid:s=!1,isInvalid:l=!1,plaintext:u,readOnly:c,as:d="input",...p},m)=>{const{controlId:T}=g.useContext(jn);return t=ee(t,"form-control"),_.jsx(d,{...p,type:e,size:r,ref:m,readOnly:c,id:i||T,className:q(o,u?`${t}-plaintext`:t,n&&`${t}-${n}`,e==="color"&&`${t}-color`,s&&"is-valid",l&&"is-invalid")})});sw.displayName="FormControl";const Kk=Object.assign(sw,{Feedback:Mu}),aw=g.forwardRef(({className:t,bsPrefix:e,as:n="div",...r},i)=>(e=ee(e,"form-floating"),_.jsx(n,{ref:i,className:q(t,e),...r})));aw.displayName="FormFloating";const rp=g.forwardRef(({controlId:t,as:e="div",...n},r)=>{const i=g.useMemo(()=>({controlId:t}),[t]);return _.jsx(jn.Provider,{value:i,children:_.jsx(e,{...n,ref:r})})});rp.displayName="FormGroup";const lw=g.forwardRef(({as:t="label",bsPrefix:e,column:n=!1,visuallyHidden:r=!1,className:i,htmlFor:o,...s},l)=>{const{controlId:u}=g.useContext(jn);e=ee(e,"form-label");let c="col-form-label";typeof n=="string"&&(c=`${c} ${c}-${n}`);const d=q(i,e,r&&"visually-hidden",n&&c);return o=o||u,n?_.jsx(dr,{ref:l,as:"label",className:d,htmlFor:o,...s}):_.jsx(t,{ref:l,className:d,htmlFor:o,...s})});lw.displayName="FormLabel";const uw=g.forwardRef(({bsPrefix:t,className:e,id:n,...r},i)=>{const{controlId:o}=g.useContext(jn);return t=ee(t,"form-range"),_.jsx("input",{...r,type:"range",ref:i,className:q(e,t),id:n||o})});uw.displayName="FormRange";const cw=g.forwardRef(({bsPrefix:t,size:e,htmlSize:n,className:r,isValid:i=!1,isInvalid:o=!1,id:s,...l},u)=>{const{controlId:c}=g.useContext(jn);return t=ee(t,"form-select"),_.jsx("select",{...l,size:n,ref:u,className:q(r,t,e&&`${t}-${e}`,i&&"is-valid",o&&"is-invalid"),id:s||c})});cw.displayName="FormSelect";const hw=g.forwardRef(({bsPrefix:t,className:e,as:n="small",muted:r,...i},o)=>(t=ee(t,"form-text"),_.jsx(n,{...i,ref:o,className:q(e,t,r&&"text-muted")})));hw.displayName="FormText";const dw=g.forwardRef((t,e)=>_.jsx(Kl,{...t,ref:e,type:"switch"}));dw.displayName="Switch";const qk=Object.assign(dw,{Input:Kl.Input,Label:Kl.Label}),fw=g.forwardRef(({bsPrefix:t,className:e,children:n,controlId:r,label:i,...o},s)=>(t=ee(t,"form-floating"),_.jsxs(rp,{ref:s,className:q(e,t),controlId:r,...o,children:[n,_.jsx("label",{htmlFor:r,children:i})]})));fw.displayName="FloatingLabel";const Gk={_ref:xn.any,validated:xn.bool,as:xn.elementType},ip=g.forwardRef(({className:t,validated:e,as:n="form",...r},i)=>_.jsx(n,{...r,ref:i,className:q(t,e&&"was-validated")}));ip.displayName="Form";ip.propTypes=Gk;const Oe=Object.assign(ip,{Group:rp,Control:Kk,Floating:aw,Check:Kl,Switch:qk,Label:lw,Text:hw,Range:uw,Select:cw,FloatingLabel:fw}),pw=g.createContext(null),Qk=["as","active","eventKey"];function Xk(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function mw({key:t,onClick:e,active:n,id:r,role:i,disabled:o}){const s=g.useContext(Hl),l=g.useContext(ep),u=g.useContext(pw);let c=n;const d={role:i};if(l){!i&&l.role==="tablist"&&(d.role="tab");const p=l.getControllerId(t??null),m=l.getControlledId(t??null);d[Lu("event-key")]=t,d.id=p||r,c=n==null&&t!=null?l.activeKey===t:n,(c||!(u!=null&&u.unmountOnExit)&&!(u!=null&&u.mountOnEnter))&&(d["aria-controls"]=m)}return d.role==="tab"&&(d["aria-selected"]=c,c||(d.tabIndex=-1),o&&(d.tabIndex=-1,d["aria-disabled"]=!0)),d.onClick=pt(p=>{o||(e==null||e(p),t!=null&&s&&!p.isPropagationStopped()&&s(t,p))}),[d,{isActive:c}]}const gw=g.forwardRef((t,e)=>{let{as:n=WE,active:r,eventKey:i}=t,o=Xk(t,Qk);const[s,l]=mw(Object.assign({key:Zf(i,o.href),active:r},o));return s[Lu("active")]=l.isActive,_.jsx(n,Object.assign({},o,s,{ref:e}))});gw.displayName="NavItem";const Yk=["as","onSelect","activeKey","role","onKeyDown"];function Jk(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}const Sy=()=>{},Cy=Lu("event-key"),yw=g.forwardRef((t,e)=>{let{as:n="div",onSelect:r,activeKey:i,role:o,onKeyDown:s}=t,l=Jk(t,Yk);const u=$k(),c=g.useRef(!1),d=g.useContext(Hl),p=g.useContext(pw);let m,T;p&&(o=o||"tablist",i=p.activeKey,m=p.getControlledId,T=p.getControllerId);const k=g.useRef(null),P=I=>{const O=k.current;if(!O)return null;const j=jr(O,`[${Cy}]:not([aria-disabled=true])`),M=O.querySelector("[aria-selected=true]");if(!M||M!==document.activeElement)return null;const S=j.indexOf(M);if(S===-1)return null;let v=S+I;return v>=j.length&&(v=0),v<0&&(v=j.length-1),j[v]},N=(I,O)=>{I!=null&&(r==null||r(I,O),d==null||d(I,O))},w=I=>{if(s==null||s(I),!p)return;let O;switch(I.key){case"ArrowLeft":case"ArrowUp":O=P(-1);break;case"ArrowRight":case"ArrowDown":O=P(1);break;default:return}O&&(I.preventDefault(),N(O.dataset[Hk("EventKey")]||null,I),c.current=!0,u())};g.useEffect(()=>{if(k.current&&c.current){const I=k.current.querySelector(`[${Cy}][aria-selected=true]`);I==null||I.focus()}c.current=!1});const E=fo(e,k);return _.jsx(Hl.Provider,{value:N,children:_.jsx(ep.Provider,{value:{role:o,activeKey:Zf(i),getControlledId:m||Sy,getControllerId:T||Sy},children:_.jsx(n,Object.assign({},l,{onKeyDown:w,ref:E,role:o}))})})});yw.displayName="Nav";const Zk=Object.assign(yw,{Item:gw});var Ma;function Iy(t){if((!Ma&&Ma!==0||t)&&ho){var e=document.createElement("div");e.style.position="absolute",e.style.top="-9999px",e.style.width="50px",e.style.height="50px",e.style.overflow="scroll",document.body.appendChild(e),Ma=e.offsetWidth-e.clientWidth,document.body.removeChild(e)}return Ma}function jc(t){t===void 0&&(t=Du());try{var e=t.activeElement;return!e||!e.nodeName?null:e}catch{return t.body}}function eP(t=document){const e=t.defaultView;return Math.abs(e.innerWidth-t.documentElement.clientWidth)}const Ry=Lu("modal-open");class op{constructor({ownerDocument:e,handleContainerOverflow:n=!0,isRTL:r=!1}={}){this.handleContainerOverflow=n,this.isRTL=r,this.modals=[],this.ownerDocument=e}getScrollbarWidth(){return eP(this.ownerDocument)}getElement(){return(this.ownerDocument||document).body}setModalAttributes(e){}removeModalAttributes(e){}setContainerStyle(e){const n={overflow:"hidden"},r=this.isRTL?"paddingLeft":"paddingRight",i=this.getElement();e.style={overflow:i.style.overflow,[r]:i.style[r]},e.scrollBarWidth&&(n[r]=`${parseInt(Rn(i,r)||"0",10)+e.scrollBarWidth}px`),i.setAttribute(Ry,""),Rn(i,n)}reset(){[...this.modals].forEach(e=>this.remove(e))}removeContainerStyle(e){const n=this.getElement();n.removeAttribute(Ry),Object.assign(n.style,e.style)}add(e){let n=this.modals.indexOf(e);return n!==-1||(n=this.modals.length,this.modals.push(e),this.setModalAttributes(e),n!==0)||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),n}remove(e){const n=this.modals.indexOf(e);n!==-1&&(this.modals.splice(n,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(e))}isTopModal(e){return!!this.modals.length&&this.modals[this.modals.length-1]===e}}const Fc=(t,e)=>ho?t==null?(e||Du()).body:(typeof t=="function"&&(t=t()),t&&"current"in t&&(t=t.current),t&&("nodeType"in t||t.getBoundingClientRect)?t:null):null;function tP(t,e){const n=tp(),[r,i]=g.useState(()=>Fc(t,n==null?void 0:n.document));if(!r){const o=Fc(t);o&&i(o)}return g.useEffect(()=>{},[e,r]),g.useEffect(()=>{const o=Fc(t);o!==r&&i(o)},[t,r]),r}function nP({children:t,in:e,onExited:n,mountOnEnter:r,unmountOnExit:i}){const o=g.useRef(null),s=g.useRef(e),l=pt(n);g.useEffect(()=>{e?s.current=!0:l(o.current)},[e,l]);const u=fo(o,t.ref),c=g.cloneElement(t,{ref:u});return e?c:i||!s.current&&r?null:c}const rP=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children"];function iP(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function oP(t){let{onEnter:e,onEntering:n,onEntered:r,onExit:i,onExiting:o,onExited:s,addEndListener:l,children:u}=t,c=iP(t,rP);const{major:d}=qE(),p=d>=19?u.props.ref:u.ref,m=g.useRef(null),T=fo(m,typeof u=="function"?null:p),k=M=>S=>{M&&m.current&&M(m.current,S)},P=g.useCallback(k(e),[e]),N=g.useCallback(k(n),[n]),w=g.useCallback(k(r),[r]),E=g.useCallback(k(i),[i]),I=g.useCallback(k(o),[o]),O=g.useCallback(k(s),[s]),j=g.useCallback(k(l),[l]);return Object.assign({},c,{nodeRef:m},e&&{onEnter:P},n&&{onEntering:N},r&&{onEntered:w},i&&{onExit:E},o&&{onExiting:I},s&&{onExited:O},l&&{addEndListener:j},{children:typeof u=="function"?(M,S)=>u(M,Object.assign({},S,{ref:T})):g.cloneElement(u,{ref:T})})}const sP=["component"];function aP(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}const lP=g.forwardRef((t,e)=>{let{component:n}=t,r=aP(t,sP);const i=oP(r);return _.jsx(n,Object.assign({ref:e},i))});function uP({in:t,onTransition:e}){const n=g.useRef(null),r=g.useRef(!0),i=pt(e);return ud(()=>{if(!n.current)return;let o=!1;return i({in:t,element:n.current,initial:r.current,isStale:()=>o}),()=>{o=!0}},[t,i]),ud(()=>(r.current=!1,()=>{r.current=!0}),[]),n}function cP({children:t,in:e,onExited:n,onEntered:r,transition:i}){const[o,s]=g.useState(!e);e&&o&&s(!1);const l=uP({in:!!e,onTransition:c=>{const d=()=>{c.isStale()||(c.in?r==null||r(c.element,c.initial):(s(!0),n==null||n(c.element)))};Promise.resolve(i(c)).then(d,p=>{throw c.in||s(!0),p})}}),u=fo(l,t.ref);return o&&!e?null:g.cloneElement(t,{ref:u})}function xy(t,e,n){return t?_.jsx(lP,Object.assign({},n,{component:t})):e?_.jsx(cP,Object.assign({},n,{transition:e})):_.jsx(nP,Object.assign({},n))}const hP=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","runTransition","backdropTransition","runBackdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];function dP(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}let Bc;function fP(t){return Bc||(Bc=new op({ownerDocument:t==null?void 0:t.document})),Bc}function pP(t){const e=tp(),n=t||fP(e),r=g.useRef({dialog:null,backdrop:null});return Object.assign(r.current,{add:()=>n.add(r.current),remove:()=>n.remove(r.current),isTopModal:()=>n.isTopModal(r.current),setDialogRef:g.useCallback(i=>{r.current.dialog=i},[]),setBackdropRef:g.useCallback(i=>{r.current.backdrop=i},[])})}const vw=g.forwardRef((t,e)=>{let{show:n=!1,role:r="dialog",className:i,style:o,children:s,backdrop:l=!0,keyboard:u=!0,onBackdropClick:c,onEscapeKeyDown:d,transition:p,runTransition:m,backdropTransition:T,runBackdropTransition:k,autoFocus:P=!0,enforceFocus:N=!0,restoreFocus:w=!0,restoreFocusOptions:E,renderDialog:I,renderBackdrop:O=pe=>_.jsx("div",Object.assign({},pe)),manager:j,container:M,onShow:S,onHide:v=()=>{},onExit:C,onExited:R,onExiting:A,onEnter:D,onEntering:x,onEntered:De}=t,Rt=dP(t,hP);const He=tp(),be=tP(M),$=pP(j),G=Tk(),Q=Sk(n),[le,ne]=g.useState(!n),ie=g.useRef(null);g.useImperativeHandle(e,()=>$,[$]),ho&&!Q&&n&&(ie.current=jc(He==null?void 0:He.document)),n&&le&&ne(!1);const de=pt(()=>{if($.add(),Ht.current=zl(document,"keydown",go),xr.current=zl(document,"focus",()=>setTimeout(xt),!0),S&&S(),P){var pe,Ar;const kr=jc((pe=(Ar=$.dialog)==null?void 0:Ar.ownerDocument)!=null?pe:He==null?void 0:He.document);$.dialog&&kr&&!Ty($.dialog,kr)&&(ie.current=kr,$.dialog.focus())}}),je=pt(()=>{if($.remove(),Ht.current==null||Ht.current(),xr.current==null||xr.current(),w){var pe;(pe=ie.current)==null||pe.focus==null||pe.focus(E),ie.current=null}});g.useEffect(()=>{!n||!be||de()},[n,be,de]),g.useEffect(()=>{le&&je()},[le,je]),rw(()=>{je()});const xt=pt(()=>{if(!N||!G()||!$.isTopModal())return;const pe=jc(He==null?void 0:He.document);$.dialog&&pe&&!Ty($.dialog,pe)&&$.dialog.focus()}),vt=pt(pe=>{pe.target===pe.currentTarget&&(c==null||c(pe),l===!0&&v())}),go=pt(pe=>{u&&Dk(pe)&&$.isTopModal()&&(d==null||d(pe),pe.defaultPrevented||v())}),xr=g.useRef(),Ht=g.useRef(),mn=(...pe)=>{ne(!0),R==null||R(...pe)};if(!be)return null;const tn=Object.assign({role:r,ref:$.setDialogRef,"aria-modal":r==="dialog"?!0:void 0},Rt,{style:o,className:i,tabIndex:-1});let gn=I?I(tn):_.jsx("div",Object.assign({},tn,{children:g.cloneElement(s,{role:"document"})}));gn=xy(p,m,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!n,onExit:C,onExiting:A,onExited:mn,onEnter:D,onEntering:x,onEntered:De,children:gn});let nn=null;return l&&(nn=O({ref:$.setBackdropRef,onClick:vt}),nn=xy(T,k,{in:!!n,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:nn})),_.jsx(_.Fragment,{children:Pi.createPortal(_.jsxs(_.Fragment,{children:[nn,gn]}),be)})});vw.displayName="Modal";const _w=Object.assign(vw,{Manager:op});function mP(t,e){return t.classList?t.classList.contains(e):(" "+(t.className.baseVal||t.className)+" ").indexOf(" "+e+" ")!==-1}function gP(t,e){t.classList?t.classList.add(e):mP(t,e)||(typeof t.className=="string"?t.className=t.className+" "+e:t.setAttribute("class",(t.className&&t.className.baseVal||"")+" "+e))}function Ay(t,e){return t.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function yP(t,e){t.classList?t.classList.remove(e):typeof t.className=="string"?t.className=Ay(t.className,e):t.setAttribute("class",Ay(t.className&&t.className.baseVal||"",e))}const fi={FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top",NAVBAR_TOGGLER:".navbar-toggler"};class Ew extends op{adjustAndStore(e,n,r){const i=n.style[e];n.dataset[e]=i,Rn(n,{[e]:`${parseFloat(Rn(n,e))+r}px`})}restore(e,n){const r=n.dataset[e];r!==void 0&&(delete n.dataset[e],Rn(n,{[e]:r}))}setContainerStyle(e){super.setContainerStyle(e);const n=this.getElement();if(gP(n,"modal-open"),!e.scrollBarWidth)return;const r=this.isRTL?"paddingLeft":"paddingRight",i=this.isRTL?"marginLeft":"marginRight";jr(n,fi.FIXED_CONTENT).forEach(o=>this.adjustAndStore(r,o,e.scrollBarWidth)),jr(n,fi.STICKY_CONTENT).forEach(o=>this.adjustAndStore(i,o,-e.scrollBarWidth)),jr(n,fi.NAVBAR_TOGGLER).forEach(o=>this.adjustAndStore(i,o,e.scrollBarWidth))}removeContainerStyle(e){super.removeContainerStyle(e);const n=this.getElement();yP(n,"modal-open");const r=this.isRTL?"paddingLeft":"paddingRight",i=this.isRTL?"marginLeft":"marginRight";jr(n,fi.FIXED_CONTENT).forEach(o=>this.restore(r,o)),jr(n,fi.STICKY_CONTENT).forEach(o=>this.restore(i,o)),jr(n,fi.NAVBAR_TOGGLER).forEach(o=>this.restore(i,o))}}let $c;function ww(t){return $c||($c=new Ew(t)),$c}const Tw=g.forwardRef(({className:t,bsPrefix:e,as:n="div",...r},i)=>(e=ee(e,"modal-body"),_.jsx(n,{ref:i,className:q(t,e),...r})));Tw.displayName="ModalBody";const sp=g.createContext({onHide(){}}),ap=g.forwardRef(({bsPrefix:t,className:e,contentClassName:n,centered:r,size:i,fullscreen:o,children:s,scrollable:l,...u},c)=>{t=ee(t,"modal");const d=`${t}-dialog`,p=typeof o=="string"?`${t}-fullscreen-${o}`:`${t}-fullscreen`;return _.jsx("div",{...u,ref:c,className:q(d,e,i&&`${t}-${i}`,r&&`${d}-centered`,l&&`${d}-scrollable`,o&&p),children:_.jsx("div",{className:q(`${t}-content`,n),children:s})})});ap.displayName="ModalDialog";const Sw=g.forwardRef(({className:t,bsPrefix:e,as:n="div",...r},i)=>(e=ee(e,"modal-footer"),_.jsx(n,{ref:i,className:q(t,e),...r})));Sw.displayName="ModalFooter";const Cw=g.forwardRef(({closeLabel:t="Close",closeVariant:e,closeButton:n=!1,onHide:r,children:i,...o},s)=>{const l=g.useContext(sp),u=pt(()=>{l==null||l.onHide(),r==null||r()});return _.jsxs("div",{ref:s,...o,children:[i,n&&_.jsx(Xf,{"aria-label":t,variant:e,onClick:u})]})}),Iw=g.forwardRef(({bsPrefix:t,className:e,closeLabel:n="Close",closeButton:r=!1,...i},o)=>(t=ee(t,"modal-header"),_.jsx(Cw,{ref:o,...i,className:q(e,t),closeLabel:n,closeButton:r})));Iw.displayName="ModalHeader";const vP=Vu("h4"),Rw=g.forwardRef(({className:t,bsPrefix:e,as:n=vP,...r},i)=>(e=ee(e,"modal-title"),_.jsx(n,{ref:i,className:q(t,e),...r})));Rw.displayName="ModalTitle";function _P(t){return _.jsx(Ou,{...t,timeout:null})}function EP(t){return _.jsx(Ou,{...t,timeout:null})}const xw=g.forwardRef(({bsPrefix:t,className:e,style:n,dialogClassName:r,contentClassName:i,children:o,dialogAs:s=ap,"data-bs-theme":l,"aria-labelledby":u,"aria-describedby":c,"aria-label":d,show:p=!1,animation:m=!0,backdrop:T=!0,keyboard:k=!0,onEscapeKeyDown:P,onShow:N,onHide:w,container:E,autoFocus:I=!0,enforceFocus:O=!0,restoreFocus:j=!0,restoreFocusOptions:M,onEntered:S,onExit:v,onExiting:C,onEnter:R,onEntering:A,onExited:D,backdropClassName:x,manager:De,...Rt},He)=>{const[be,$]=g.useState({}),[G,Q]=g.useState(!1),le=g.useRef(!1),ne=g.useRef(!1),ie=g.useRef(null),[de,je]=wk(),xt=fo(He,je),vt=pt(w),go=YA();t=ee(t,"modal");const xr=g.useMemo(()=>({onHide:vt}),[vt]);function Ht(){return De||ww({isRTL:go})}function mn(X){if(!ho)return;const xe=Ht().getScrollbarWidth()>0,Pr=X.scrollHeight>Du(X).documentElement.clientHeight;$({paddingRight:xe&&!Pr?Iy():void 0,paddingLeft:!xe&&Pr?Iy():void 0})}const tn=pt(()=>{de&&mn(de.dialog)});rw(()=>{ld(window,"resize",tn),ie.current==null||ie.current()});const gn=()=>{le.current=!0},nn=X=>{le.current&&de&&X.target===de.dialog&&(ne.current=!0),le.current=!1},pe=()=>{Q(!0),ie.current=zE(de.dialog,()=>{Q(!1)})},Ar=X=>{X.target===X.currentTarget&&pe()},kr=X=>{if(T==="static"){Ar(X);return}if(ne.current||X.target!==X.currentTarget){ne.current=!1;return}w==null||w()},Fu=X=>{k?P==null||P(X):(X.preventDefault(),T==="static"&&pe())},Xs=(X,xe)=>{X&&mn(X),R==null||R(X,xe)},yo=X=>{ie.current==null||ie.current(),v==null||v(X)},Ys=(X,xe)=>{A==null||A(X,xe),UE(window,"resize",tn)},Bu=X=>{X&&(X.style.display=""),D==null||D(X),ld(window,"resize",tn)},vo=g.useCallback(X=>_.jsx("div",{...X,className:q(`${t}-backdrop`,x,!m&&"show")}),[m,x,t]),si={...n,...be};si.display="block";const Js=X=>_.jsx("div",{role:"dialog",...X,style:si,className:q(e,t,G&&`${t}-static`,!m&&"show"),onClick:T?kr:void 0,onMouseUp:nn,"data-bs-theme":l,"aria-label":d,"aria-labelledby":u,"aria-describedby":c,children:_.jsx(s,{...Rt,onMouseDown:gn,className:r,contentClassName:i,children:o})});return _.jsx(sp.Provider,{value:xr,children:_.jsx(_w,{show:p,ref:xt,backdrop:T,container:E,keyboard:!0,autoFocus:I,enforceFocus:O,restoreFocus:j,restoreFocusOptions:M,onEscapeKeyDown:Fu,onShow:N,onHide:w,onEnter:Xs,onEntering:Ys,onEntered:S,onExit:yo,onExiting:C,onExited:Bu,manager:Ht(),transition:m?_P:void 0,backdropTransition:m?EP:void 0,renderBackdrop:vo,renderDialog:Js})})});xw.displayName="Modal";const Me=Object.assign(xw,{Body:Tw,Header:Iw,Title:Rw,Footer:Sw,Dialog:ap,TRANSITION_DURATION:300,BACKDROP_TRANSITION_DURATION:150});var ky={exports:{}},cd={exports:{}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=n;function n(r){function i(s,l,u,c,d,p){var m=c||"<<anonymous>>",T=p||u;if(l[u]==null)return s?new Error("Required "+d+" `"+T+"` was not specified "+("in `"+m+"`.")):null;for(var k=arguments.length,P=Array(k>6?k-6:0),N=6;N<k;N++)P[N-6]=arguments[N];return r.apply(void 0,[l,u,m,d,T].concat(P))}var o=i.bind(null,!1);return o.isRequired=i.bind(null,!0),o}t.exports=e.default})(cd,cd.exports);var wP=cd.exports;(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=o;var n=wP,r=i(n);function i(s){return s&&s.__esModule?s:{default:s}}function o(){for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];function c(){for(var d=arguments.length,p=Array(d),m=0;m<d;m++)p[m]=arguments[m];var T=null;return l.forEach(function(k){if(T==null){var P=k.apply(void 0,p);P!=null&&(T=P)}}),T}return(0,r.default)(c)}t.exports=e.default})(ky,ky.exports);const Aw=g.forwardRef(({className:t,bsPrefix:e,as:n="div",...r},i)=>(e=ee(e,"nav-item"),_.jsx(n,{ref:i,className:q(t,e),...r})));Aw.displayName="NavItem";const kw=g.forwardRef(({bsPrefix:t,className:e,as:n=KE,active:r,eventKey:i,disabled:o=!1,...s},l)=>{t=ee(t,"nav-link");const[u,c]=mw({key:Zf(i,s.href),active:r,disabled:o,...s});return _.jsx(n,{...s,...u,ref:l,disabled:o,className:q(e,t,o&&"disabled",c.isActive&&"active")})});kw.displayName="NavLink";const Pw=g.forwardRef((t,e)=>{const{as:n="div",bsPrefix:r,variant:i,fill:o=!1,justify:s=!1,navbar:l,navbarScroll:u,className:c,activeKey:d,...p}=LE(t,{activeKey:"onSelect"}),m=ee(r,"nav");let T,k,P=!1;const N=g.useContext(po),w=g.useContext(Jf);return N?(T=N.bsPrefix,P=l??!0):w&&({cardHeaderBsPrefix:k}=w),_.jsx(Zk,{as:n,ref:e,activeKey:d,className:q(c,{[m]:!P,[`${T}-nav`]:P,[`${T}-nav-scroll`]:P&&u,[`${k}-${i}`]:!!k,[`${m}-${i}`]:!!i,[`${m}-fill`]:o,[`${m}-justified`]:s}),...p})});Pw.displayName="Nav";const TP=Object.assign(Pw,{Item:Aw,Link:kw}),Nw=g.forwardRef(({bsPrefix:t,className:e,as:n,...r},i)=>{t=ee(t,"navbar-brand");const o=n||(r.href?"a":"span");return _.jsx(o,{...r,ref:i,className:q(e,t)})});Nw.displayName="NavbarBrand";const Dw=g.forwardRef(({children:t,bsPrefix:e,...n},r)=>{e=ee(e,"navbar-collapse");const i=g.useContext(po);return _.jsx(_k,{in:!!(i&&i.expanded),...n,children:_.jsx("div",{ref:r,className:e,children:t})})});Dw.displayName="NavbarCollapse";const Vw=g.forwardRef(({bsPrefix:t,className:e,children:n,label:r="Toggle navigation",as:i="button",onClick:o,...s},l)=>{t=ee(t,"navbar-toggler");const{onToggle:u,expanded:c}=g.useContext(po)||{},d=pt(p=>{o&&o(p),u&&u()});return i==="button"&&(s.type="button"),_.jsx(i,{...s,ref:l,onClick:d,"aria-label":r,className:q(e,t,!c&&"collapsed"),children:n||_.jsx("span",{className:`${t}-icon`})})});Vw.displayName="NavbarToggle";const hd=new WeakMap,Py=(t,e)=>{if(!t||!e)return;const n=hd.get(e)||new Map;hd.set(e,n);let r=n.get(t);return r||(r=e.matchMedia(t),r.refCount=0,n.set(r.media,r)),r};function SP(t,e=typeof window>"u"?void 0:window){const n=Py(t,e),[r,i]=g.useState(()=>n?n.matches:!1);return ud(()=>{let o=Py(t,e);if(!o)return i(!1);let s=hd.get(e);const l=()=>{i(o.matches)};return o.refCount++,o.addListener(l),l(),()=>{o.removeListener(l),o.refCount--,o.refCount<=0&&(s==null||s.delete(o.media)),o=void 0}},[t]),r}function CP(t){const e=Object.keys(t);function n(l,u){return l===u?u:l?`${l} and ${u}`:u}function r(l){return e[Math.min(e.indexOf(l)+1,e.length-1)]}function i(l){const u=r(l);let c=t[u];return typeof c=="number"?c=`${c-.2}px`:c=`calc(${c} - 0.2px)`,`(max-width: ${c})`}function o(l){let u=t[l];return typeof u=="number"&&(u=`${u}px`),`(min-width: ${u})`}function s(l,u,c){let d;typeof l=="object"?(d=l,c=u,u=!0):(u=u||!0,d={[l]:u});let p=g.useMemo(()=>Object.entries(d).reduce((m,[T,k])=>((k==="up"||k===!0)&&(m=n(m,o(T))),(k==="down"||k===!0)&&(m=n(m,i(T))),m),""),[JSON.stringify(d)]);return SP(p,c)}return s}const IP=CP({xs:0,sm:576,md:768,lg:992,xl:1200,xxl:1400}),Ow=g.forwardRef(({className:t,bsPrefix:e,as:n="div",...r},i)=>(e=ee(e,"offcanvas-body"),_.jsx(n,{ref:i,className:q(t,e),...r})));Ow.displayName="OffcanvasBody";const RP={[Xt]:"show",[wn]:"show"},Lw=g.forwardRef(({bsPrefix:t,className:e,children:n,in:r=!1,mountOnEnter:i=!1,unmountOnExit:o=!1,appear:s=!1,...l},u)=>(t=ee(t,"offcanvas"),_.jsx(Gf,{ref:u,addEndListener:qf,in:r,mountOnEnter:i,unmountOnExit:o,appear:s,...l,childRef:n.ref,children:(c,d)=>g.cloneElement(n,{...d,className:q(e,n.props.className,(c===Xt||c===Ms)&&`${t}-toggling`,RP[c])})})));Lw.displayName="OffcanvasToggling";const Mw=g.forwardRef(({bsPrefix:t,className:e,closeLabel:n="Close",closeButton:r=!1,...i},o)=>(t=ee(t,"offcanvas-header"),_.jsx(Cw,{ref:o,...i,className:q(e,t),closeLabel:n,closeButton:r})));Mw.displayName="OffcanvasHeader";const xP=Vu("h5"),bw=g.forwardRef(({className:t,bsPrefix:e,as:n=xP,...r},i)=>(e=ee(e,"offcanvas-title"),_.jsx(n,{ref:i,className:q(t,e),...r})));bw.displayName="OffcanvasTitle";function AP(t){return _.jsx(Lw,{...t})}function kP(t){return _.jsx(Ou,{...t})}const jw=g.forwardRef(({bsPrefix:t,className:e,children:n,"aria-labelledby":r,placement:i="start",responsive:o,show:s=!1,backdrop:l=!0,keyboard:u=!0,scroll:c=!1,onEscapeKeyDown:d,onShow:p,onHide:m,container:T,autoFocus:k=!0,enforceFocus:P=!0,restoreFocus:N=!0,restoreFocusOptions:w,onEntered:E,onExit:I,onExiting:O,onEnter:j,onEntering:M,onExited:S,backdropClassName:v,manager:C,renderStaticNode:R=!1,...A},D)=>{const x=g.useRef();t=ee(t,"offcanvas");const[De,Rt]=g.useState(!1),He=pt(m),be=IP(o||"xs","up");g.useEffect(()=>{Rt(o?s&&!be:s)},[s,o,be]);const $=g.useMemo(()=>({onHide:He}),[He]);function G(){return C||(c?(x.current||(x.current=new Ew({handleContainerOverflow:!1})),x.current):ww())}const Q=(de,...je)=>{de&&(de.style.visibility="visible"),j==null||j(de,...je)},le=(de,...je)=>{de&&(de.style.visibility=""),S==null||S(...je)},ne=g.useCallback(de=>_.jsx("div",{...de,className:q(`${t}-backdrop`,v)}),[v,t]),ie=de=>_.jsx("div",{...de,...A,className:q(e,o?`${t}-${o}`:t,`${t}-${i}`),"aria-labelledby":r,children:n});return _.jsxs(_.Fragment,{children:[!De&&(o||R)&&ie({}),_.jsx(sp.Provider,{value:$,children:_.jsx(_w,{show:De,ref:D,backdrop:l,container:T,keyboard:u,autoFocus:k,enforceFocus:P&&!c,restoreFocus:N,restoreFocusOptions:w,onEscapeKeyDown:d,onShow:p,onHide:He,onEnter:Q,onEntering:M,onEntered:E,onExit:I,onExiting:O,onExited:le,manager:G(),transition:AP,backdropTransition:kP,renderBackdrop:ne,renderDialog:ie})})]})});jw.displayName="Offcanvas";const PP=Object.assign(jw,{Body:Ow,Header:Mw,Title:bw}),Fw=g.forwardRef(({onHide:t,...e},n)=>{const r=g.useContext(po),i=pt(()=>{r==null||r.onToggle==null||r.onToggle(),t==null||t()});return _.jsx(PP,{ref:n,show:!!(r!=null&&r.expanded),...e,renderStaticNode:!0,onHide:i})});Fw.displayName="NavbarOffcanvas";const Bw=g.forwardRef(({className:t,bsPrefix:e,as:n="span",...r},i)=>(e=ee(e,"navbar-text"),_.jsx(n,{ref:i,className:q(t,e),...r})));Bw.displayName="NavbarText";const $w=g.forwardRef((t,e)=>{const{bsPrefix:n,expand:r=!0,variant:i="light",bg:o,fixed:s,sticky:l,className:u,as:c="nav",expanded:d,onToggle:p,onSelect:m,collapseOnSelect:T=!1,...k}=LE(t,{expanded:"onToggle"}),P=ee(n,"navbar"),N=g.useCallback((...I)=>{m==null||m(...I),T&&d&&(p==null||p(!1))},[m,T,d,p]);k.role===void 0&&c!=="nav"&&(k.role="navigation");let w=`${P}-expand`;typeof r=="string"&&(w=`${w}-${r}`);const E=g.useMemo(()=>({onToggle:()=>p==null?void 0:p(!d),bsPrefix:P,expanded:!!d,expand:r}),[P,d,r,p]);return _.jsx(po.Provider,{value:E,children:_.jsx(Hl.Provider,{value:N,children:_.jsx(c,{ref:e,...k,className:q(u,P,r&&w,i&&`${P}-${i}`,o&&`bg-${o}`,l&&`sticky-${l}`,s&&`fixed-${s}`)})})})});$w.displayName="Navbar";const Uc=Object.assign($w,{Brand:Nw,Collapse:Dw,Offcanvas:Fw,Text:Bw,Toggle:Vw}),qr=g.forwardRef(({bsPrefix:t,className:e,as:n="div",...r},i)=>{const o=ee(t,"row"),s=ME(),l=bE(),u=`${o}-cols`,c=[];return s.forEach(d=>{const p=r[d];delete r[d];let m;p!=null&&typeof p=="object"?{cols:m}=p:m=p;const T=d!==l?`-${d}`:"";m!=null&&c.push(`${u}${T}-${m}`)}),_.jsx(n,{ref:i,...r,className:q(e,o,...c)})});qr.displayName="Row";const NP={apiKey:"AIzaSyCzBafJ3OEEfNtHM7kXIEpnedGlJ2bNo4I",authDomain:"personal-7f86b.firebaseapp.com",projectId:"personal-7f86b",storageBucket:"personal-7f86b.firebasestorage.app",messagingSenderId:"841997801423",appId:"1:841997801423:web:f849983b73acfdc6c424ba",measurementId:"G-7E35DS059C"},DP=fu(NP),fn=Mf(DP);async function lp(){return(await eo(bn(fn,"About"))).docs.map(n=>({id:n.id,...n.data()}))[0]}async function VP(t,e){try{const n=uo(fn,"About",t);await UA(n,{text:e}),console.log("Document updated with ID: ",t)}catch(n){console.error("Error updating document: ",n)}}async function Uw(){return(await eo(bn(fn,"Skills"))).docs.map(n=>({id:n.id,...n.data()}))}async function OP(t){try{const e=await Wf(bn(fn,"Skills"),t);return console.log("New skill added with ID:",e.id),e.id}catch(e){console.error("Error adding new skill:",e)}}async function LP(t){try{const e=uo(fn,"Skills",t);await Hf(e),console.log(`Skill with id ${t} has been successfully deleted.`)}catch(e){console.error("Error deleting skill:",e)}}async function MP(t){try{const e=await Wf(bn(fn,"Projects"),t);return console.log("New skill added with ID:",e.id),e.id}catch(e){console.error("Error adding new skill:",e)}}async function bP(t){try{const e=uo(fn,"Projects",t);await Hf(e),console.log(`Skill with id ${t} has been successfully deleted.`)}catch(e){console.error("Error deleting skill:",e)}}async function jP(t){try{const e=await Wf(bn(fn,"Awards"),t);return console.log("New skill added with ID:",e.id),e.id}catch(e){console.error("Error adding new skill:",e)}}async function FP(t){try{const e=uo(fn,"Awards",t);await Hf(e),console.log(`Skill with id ${t} has been successfully deleted.`)}catch(e){console.error("Error deleting skill:",e)}}async function BP(){try{const t=uo(fn,"password","tPII74uGFeY5xcxxCwKZ"),e=await $A(t);if(e.exists())return{id:e.id,...e.data()};throw new Error("pw not found")}catch(t){throw console.error("Error fetching pw:",t.message),t}}var up={};Object.defineProperty(up,"__esModule",{value:!0});up.parse=qP;up.serialize=GP;const $P=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,UP=/^[\u0021-\u003A\u003C-\u007E]*$/,zP=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,HP=/^[\u0020-\u003A\u003D-\u007E]*$/,WP=Object.prototype.toString,KP=(()=>{const t=function(){};return t.prototype=Object.create(null),t})();function qP(t,e){const n=new KP,r=t.length;if(r<2)return n;const i=(e==null?void 0:e.decode)||QP;let o=0;do{const s=t.indexOf("=",o);if(s===-1)break;const l=t.indexOf(";",o),u=l===-1?r:l;if(s>u){o=t.lastIndexOf(";",s-1)+1;continue}const c=Ny(t,o,s),d=Dy(t,s,c),p=t.slice(c,d);if(n[p]===void 0){let m=Ny(t,s+1,u),T=Dy(t,u,m);const k=i(t.slice(m,T));n[p]=k}o=u+1}while(o<r);return n}function Ny(t,e,n){do{const r=t.charCodeAt(e);if(r!==32&&r!==9)return e}while(++e<n);return n}function Dy(t,e,n){for(;e>n;){const r=t.charCodeAt(--e);if(r!==32&&r!==9)return e+1}return n}function GP(t,e,n){const r=(n==null?void 0:n.encode)||encodeURIComponent;if(!$P.test(t))throw new TypeError(`argument name is invalid: ${t}`);const i=r(e);if(!UP.test(i))throw new TypeError(`argument val is invalid: ${e}`);let o=t+"="+i;if(!n)return o;if(n.maxAge!==void 0){if(!Number.isInteger(n.maxAge))throw new TypeError(`option maxAge is invalid: ${n.maxAge}`);o+="; Max-Age="+n.maxAge}if(n.domain){if(!zP.test(n.domain))throw new TypeError(`option domain is invalid: ${n.domain}`);o+="; Domain="+n.domain}if(n.path){if(!HP.test(n.path))throw new TypeError(`option path is invalid: ${n.path}`);o+="; Path="+n.path}if(n.expires){if(!XP(n.expires)||!Number.isFinite(n.expires.valueOf()))throw new TypeError(`option expires is invalid: ${n.expires}`);o+="; Expires="+n.expires.toUTCString()}if(n.httpOnly&&(o+="; HttpOnly"),n.secure&&(o+="; Secure"),n.partitioned&&(o+="; Partitioned"),n.priority)switch(typeof n.priority=="string"?n.priority.toLowerCase():void 0){case"low":o+="; Priority=Low";break;case"medium":o+="; Priority=Medium";break;case"high":o+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${n.priority}`)}if(n.sameSite)switch(typeof n.sameSite=="string"?n.sameSite.toLowerCase():n.sameSite){case!0:case"strict":o+="; SameSite=Strict";break;case"lax":o+="; SameSite=Lax";break;case"none":o+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${n.sameSite}`)}return o}function QP(t){if(t.indexOf("%")===-1)return t;try{return decodeURIComponent(t)}catch{return t}}function XP(t){return WP.call(t)==="[object Date]"}/**
 * react-router v7.0.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Vy="popstate";function YP(t={}){function e(i,o){let{pathname:s="/",search:l="",hash:u=""}=ii(i.location.hash.substring(1));return!s.startsWith("/")&&!s.startsWith(".")&&(s="/"+s),dd("",{pathname:s,search:l,hash:u},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(i,o){let s=i.document.querySelector("base"),l="";if(s&&s.getAttribute("href")){let u=i.location.href,c=u.indexOf("#");l=c===-1?u:u.slice(0,c)}return l+"#"+(typeof o=="string"?o:bs(o))}function r(i,o){$n(i.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(o)})`)}return ZP(e,n,r,t)}function Ce(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function $n(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function JP(){return Math.random().toString(36).substring(2,10)}function Oy(t,e){return{usr:t.state,key:t.key,idx:e}}function dd(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?ii(e):e,state:n,key:e&&e.key||r||JP()}}function bs({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function ii(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function ZP(t,e,n,r={}){let{window:i=document.defaultView,v5Compat:o=!1}=r,s=i.history,l="POP",u=null,c=d();c==null&&(c=0,s.replaceState({...s.state,idx:c},""));function d(){return(s.state||{idx:null}).idx}function p(){l="POP";let N=d(),w=N==null?null:N-c;c=N,u&&u({action:l,location:P.location,delta:w})}function m(N,w){l="PUSH";let E=dd(P.location,N,w);n&&n(E,N),c=d()+1;let I=Oy(E,c),O=P.createHref(E);try{s.pushState(I,"",O)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;i.location.assign(O)}o&&u&&u({action:l,location:P.location,delta:1})}function T(N,w){l="REPLACE";let E=dd(P.location,N,w);n&&n(E,N),c=d();let I=Oy(E,c),O=P.createHref(E);s.replaceState(I,"",O),o&&u&&u({action:l,location:P.location,delta:0})}function k(N){let w=i.location.origin!=="null"?i.location.origin:i.location.href,E=typeof N=="string"?N:bs(N);return E=E.replace(/ $/,"%20"),Ce(w,`No window.location.(origin|href) available to create URL for href: ${E}`),new URL(E,w)}let P={get action(){return l},get location(){return t(i,s)},listen(N){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(Vy,p),u=N,()=>{i.removeEventListener(Vy,p),u=null}},createHref(N){return e(i,N)},createURL:k,encodeLocation(N){let w=k(N);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:m,replace:T,go(N){return s.go(N)}};return P}function zw(t,e,n="/"){return eN(t,e,n,!1)}function eN(t,e,n,r){let i=typeof e=="string"?ii(e):e,o=wr(i.pathname||"/",n);if(o==null)return null;let s=Hw(t);tN(s);let l=null;for(let u=0;l==null&&u<s.length;++u){let c=dN(o);l=cN(s[u],c,r)}return l}function Hw(t,e=[],n=[],r=""){let i=(o,s,l)=>{let u={relativePath:l===void 0?o.path||"":l,caseSensitive:o.caseSensitive===!0,childrenIndex:s,route:o};u.relativePath.startsWith("/")&&(Ce(u.relativePath.startsWith(r),`Absolute route path "${u.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),u.relativePath=u.relativePath.slice(r.length));let c=An([r,u.relativePath]),d=n.concat(u);o.children&&o.children.length>0&&(Ce(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${c}".`),Hw(o.children,e,d,c)),!(o.path==null&&!o.index)&&e.push({path:c,score:lN(c,o.index),routesMeta:d})};return t.forEach((o,s)=>{var l;if(o.path===""||!((l=o.path)!=null&&l.includes("?")))i(o,s);else for(let u of Ww(o.path))i(o,s,u)}),e}function Ww(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let s=Ww(r.join("/")),l=[];return l.push(...s.map(u=>u===""?o:[o,u].join("/"))),i&&l.push(...s),l.map(u=>t.startsWith("/")&&u===""?"/":u)}function tN(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:uN(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var nN=/^:[\w-]+$/,rN=3,iN=2,oN=1,sN=10,aN=-2,Ly=t=>t==="*";function lN(t,e){let n=t.split("/"),r=n.length;return n.some(Ly)&&(r+=aN),e&&(r+=iN),n.filter(i=>!Ly(i)).reduce((i,o)=>i+(nN.test(o)?rN:o===""?oN:sN),r)}function uN(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function cN(t,e,n=!1){let{routesMeta:r}=t,i={},o="/",s=[];for(let l=0;l<r.length;++l){let u=r[l],c=l===r.length-1,d=o==="/"?e:e.slice(o.length)||"/",p=ql({path:u.relativePath,caseSensitive:u.caseSensitive,end:c},d),m=u.route;if(!p&&c&&n&&!r[r.length-1].route.index&&(p=ql({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},d)),!p)return null;Object.assign(i,p.params),s.push({params:i,pathname:An([o,p.pathname]),pathnameBase:gN(An([o,p.pathnameBase])),route:m}),p.pathnameBase!=="/"&&(o=An([o,p.pathnameBase]))}return s}function ql(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=hN(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:r.reduce((c,{paramName:d,isOptional:p},m)=>{if(d==="*"){let k=l[m]||"";s=o.slice(0,o.length-k.length).replace(/(.)\/+$/,"$1")}const T=l[m];return p&&!T?c[d]=void 0:c[d]=(T||"").replace(/%2F/g,"/"),c},{}),pathname:o,pathnameBase:s,pattern:t}}function hN(t,e=!1,n=!0){$n(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,l,u)=>(r.push({paramName:l,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function dN(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return $n(!1,`The URL path "${t}" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function wr(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function fN(t,e="/"){let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?ii(t):t;return{pathname:n?n.startsWith("/")?n:pN(n,e):e,search:yN(r),hash:vN(i)}}function pN(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function zc(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function mN(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Kw(t){let e=mN(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function qw(t,e,n,r=!1){let i;typeof t=="string"?i=ii(t):(i={...t},Ce(!i.pathname||!i.pathname.includes("?"),zc("?","pathname","search",i)),Ce(!i.pathname||!i.pathname.includes("#"),zc("#","pathname","hash",i)),Ce(!i.search||!i.search.includes("#"),zc("#","search","hash",i)));let o=t===""||i.pathname==="",s=o?"/":i.pathname,l;if(s==null)l=n;else{let p=e.length-1;if(!r&&s.startsWith("..")){let m=s.split("/");for(;m[0]==="..";)m.shift(),p-=1;i.pathname=m.join("/")}l=p>=0?e[p]:"/"}let u=fN(i,l),c=s&&s!=="/"&&s.endsWith("/"),d=(o||s===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(c||d)&&(u.pathname+="/"),u}var An=t=>t.join("/").replace(/\/\/+/g,"/"),gN=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),yN=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,vN=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function _N(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var Gw=["POST","PUT","PATCH","DELETE"];new Set(Gw);var EN=["GET",...Gw];new Set(EN);var mo=g.createContext(null);mo.displayName="DataRouter";var bu=g.createContext(null);bu.displayName="DataRouterState";var Qw=g.createContext({isTransitioning:!1});Qw.displayName="ViewTransition";var wN=g.createContext(new Map);wN.displayName="Fetchers";var TN=g.createContext(null);TN.displayName="Await";var pn=g.createContext(null);pn.displayName="Navigation";var qs=g.createContext(null);qs.displayName="Location";var Un=g.createContext({outlet:null,matches:[],isDataRoute:!1});Un.displayName="Route";var cp=g.createContext(null);cp.displayName="RouteError";function SN(t,{relative:e}={}){Ce(Gs(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=g.useContext(pn),{hash:i,pathname:o,search:s}=Qs(t,{relative:e}),l=o;return n!=="/"&&(l=o==="/"?n:An([n,o])),r.createHref({pathname:l,search:s,hash:i})}function Gs(){return g.useContext(qs)!=null}function oi(){return Ce(Gs(),"useLocation() may be used only in the context of a <Router> component."),g.useContext(qs).location}var Xw="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Yw(t){g.useContext(pn).static||g.useLayoutEffect(t)}function CN(){let{isDataRoute:t}=g.useContext(Un);return t?bN():IN()}function IN(){Ce(Gs(),"useNavigate() may be used only in the context of a <Router> component.");let t=g.useContext(mo),{basename:e,navigator:n}=g.useContext(pn),{matches:r}=g.useContext(Un),{pathname:i}=oi(),o=JSON.stringify(Kw(r)),s=g.useRef(!1);return Yw(()=>{s.current=!0}),g.useCallback((u,c={})=>{if($n(s.current,Xw),!s.current)return;if(typeof u=="number"){n.go(u);return}let d=qw(u,JSON.parse(o),i,c.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:An([e,d.pathname])),(c.replace?n.replace:n.push)(d,c.state,c)},[e,n,o,i,t])}g.createContext(null);function Qs(t,{relative:e}={}){let{matches:n}=g.useContext(Un),{pathname:r}=oi(),i=JSON.stringify(Kw(n));return g.useMemo(()=>qw(t,JSON.parse(i),r,e==="path"),[t,i,r,e])}function RN(t,e){return Jw(t,e)}function Jw(t,e,n,r){var P;Ce(Gs(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=g.useContext(pn),{matches:o}=g.useContext(Un),s=o[o.length-1],l=s?s.params:{};s&&s.pathname;let u=s?s.pathnameBase:"/";s&&s.route;let c=oi(),d;if(e){let N=typeof e=="string"?ii(e):e;Ce(u==="/"||((P=N.pathname)==null?void 0:P.startsWith(u)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${u}" but pathname "${N.pathname}" was given in the \`location\` prop.`),d=N}else d=c;let p=d.pathname||"/",m=p;if(u!=="/"){let N=u.replace(/^\//,"").split("/");m="/"+p.replace(/^\//,"").split("/").slice(N.length).join("/")}let T=zw(t,{pathname:m}),k=NN(T&&T.map(N=>Object.assign({},N,{params:Object.assign({},l,N.params),pathname:An([u,i.encodeLocation?i.encodeLocation(N.pathname).pathname:N.pathname]),pathnameBase:N.pathnameBase==="/"?u:An([u,i.encodeLocation?i.encodeLocation(N.pathnameBase).pathname:N.pathnameBase])})),o,n,r);return e&&k?g.createElement(qs.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...d},navigationType:"POP"}},k):k}function xN(){let t=MN(),e=_N(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return g.createElement(g.Fragment,null,g.createElement("h2",null,"Unexpected Application Error!"),g.createElement("h3",{style:{fontStyle:"italic"}},e),n?g.createElement("pre",{style:i},n):null,null)}var AN=g.createElement(xN,null),kN=class extends g.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?g.createElement(Un.Provider,{value:this.props.routeContext},g.createElement(cp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function PN({routeContext:t,match:e,children:n}){let r=g.useContext(mo);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),g.createElement(Un.Provider,{value:t},n)}function NN(t,e=[],n=null,r=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let i=t,o=n==null?void 0:n.errors;if(o!=null){let u=i.findIndex(c=>c.route.id&&(o==null?void 0:o[c.route.id])!==void 0);Ce(u>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),i=i.slice(0,Math.min(i.length,u+1))}let s=!1,l=-1;if(n)for(let u=0;u<i.length;u++){let c=i[u];if((c.route.HydrateFallback||c.route.hydrateFallbackElement)&&(l=u),c.route.id){let{loaderData:d,errors:p}=n,m=c.route.loader&&!d.hasOwnProperty(c.route.id)&&(!p||p[c.route.id]===void 0);if(c.route.lazy||m){s=!0,l>=0?i=i.slice(0,l+1):i=[i[0]];break}}}return i.reduceRight((u,c,d)=>{let p,m=!1,T=null,k=null;n&&(p=o&&c.route.id?o[c.route.id]:void 0,T=c.route.errorElement||AN,s&&(l<0&&d===0?(jN("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),m=!0,k=null):l===d&&(m=!0,k=c.route.hydrateFallbackElement||null)));let P=e.concat(i.slice(0,d+1)),N=()=>{let w;return p?w=T:m?w=k:c.route.Component?w=g.createElement(c.route.Component,null):c.route.element?w=c.route.element:w=u,g.createElement(PN,{match:c,routeContext:{outlet:u,matches:P,isDataRoute:n!=null},children:w})};return n&&(c.route.ErrorBoundary||c.route.errorElement||d===0)?g.createElement(kN,{location:n.location,revalidation:n.revalidation,component:T,error:p,children:N(),routeContext:{outlet:null,matches:P,isDataRoute:!0}}):N()},null)}function hp(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function DN(t){let e=g.useContext(mo);return Ce(e,hp(t)),e}function VN(t){let e=g.useContext(bu);return Ce(e,hp(t)),e}function ON(t){let e=g.useContext(Un);return Ce(e,hp(t)),e}function dp(t){let e=ON(t),n=e.matches[e.matches.length-1];return Ce(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function LN(){return dp("useRouteId")}function MN(){var r;let t=g.useContext(cp),e=VN("useRouteError"),n=dp("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function bN(){let{router:t}=DN("useNavigate"),e=dp("useNavigate"),n=g.useRef(!1);return Yw(()=>{n.current=!0}),g.useCallback(async(i,o={})=>{$n(n.current,Xw),n.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...o}))},[t,e])}var My={};function jN(t,e,n){My[t]||(My[t]=!0,$n(!1,n))}g.memo(FN);function FN({routes:t,future:e,state:n}){return Jw(t,void 0,n,e)}function fd(t){Ce(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function BN({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:i,static:o=!1}){Ce(!Gs(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let s=t.replace(/^\/*/,"/"),l=g.useMemo(()=>({basename:s,navigator:i,static:o,future:{}}),[s,i,o]);typeof n=="string"&&(n=ii(n));let{pathname:u="/",search:c="",hash:d="",state:p=null,key:m="default"}=n,T=g.useMemo(()=>{let k=wr(u,s);return k==null?null:{location:{pathname:k,search:c,hash:d,state:p,key:m},navigationType:r}},[s,u,c,d,p,m,r]);return $n(T!=null,`<Router basename="${s}"> is not able to match the URL "${u}${c}${d}" because it does not start with the basename, so the <Router> won't render anything.`),T==null?null:g.createElement(pn.Provider,{value:l},g.createElement(qs.Provider,{children:e,value:T}))}function $N({children:t,location:e}){return RN(pd(t),e)}function pd(t,e=[]){let n=[];return g.Children.forEach(t,(r,i)=>{if(!g.isValidElement(r))return;let o=[...e,i];if(r.type===g.Fragment){n.push.apply(n,pd(r.props.children,o));return}Ce(r.type===fd,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ce(!r.props.index||!r.props.children,"An index route cannot have child routes.");let s={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=pd(r.props.children,o)),n.push(s)}),n}var rl="get",il="application/x-www-form-urlencoded";function ju(t){return t!=null&&typeof t.tagName=="string"}function UN(t){return ju(t)&&t.tagName.toLowerCase()==="button"}function zN(t){return ju(t)&&t.tagName.toLowerCase()==="form"}function HN(t){return ju(t)&&t.tagName.toLowerCase()==="input"}function WN(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function KN(t,e){return t.button===0&&(!e||e==="_self")&&!WN(t)}var ba=null;function qN(){if(ba===null)try{new FormData(document.createElement("form"),0),ba=!1}catch{ba=!0}return ba}var GN=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Hc(t){return t!=null&&!GN.has(t)?($n(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${il}"`),null):t}function QN(t,e){let n,r,i,o,s;if(zN(t)){let l=t.getAttribute("action");r=l?wr(l,e):null,n=t.getAttribute("method")||rl,i=Hc(t.getAttribute("enctype"))||il,o=new FormData(t)}else if(UN(t)||HN(t)&&(t.type==="submit"||t.type==="image")){let l=t.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let u=t.getAttribute("formaction")||l.getAttribute("action");if(r=u?wr(u,e):null,n=t.getAttribute("formmethod")||l.getAttribute("method")||rl,i=Hc(t.getAttribute("formenctype"))||Hc(l.getAttribute("enctype"))||il,o=new FormData(l,t),!qN()){let{name:c,type:d,value:p}=t;if(d==="image"){let m=c?`${c}.`:"";o.append(`${m}x`,"0"),o.append(`${m}y`,"0")}else c&&o.append(c,p)}}else{if(ju(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=rl,r=null,i=il,s=t}return o&&i==="text/plain"&&(s=o,o=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:o,body:s}}function fp(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function XN(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function YN(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function JN(t,e,n){let r=await Promise.all(t.map(async i=>{let o=e.routes[i.route.id];if(o){let s=await XN(o,n);return s.links?s.links():[]}return[]}));return n2(r.flat(1).filter(YN).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function by(t,e,n,r,i,o){let s=(u,c)=>n[c]?u.route.id!==n[c].route.id:!0,l=(u,c)=>{var d;return n[c].pathname!==u.pathname||((d=n[c].route.path)==null?void 0:d.endsWith("*"))&&n[c].params["*"]!==u.params["*"]};return o==="assets"?e.filter((u,c)=>s(u,c)||l(u,c)):o==="data"?e.filter((u,c)=>{var p;let d=r.routes[u.route.id];if(!d||!d.hasLoader)return!1;if(s(u,c)||l(u,c))return!0;if(u.route.shouldRevalidate){let m=u.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((p=n[0])==null?void 0:p.params)||{},nextUrl:new URL(t,window.origin),nextParams:u.params,defaultShouldRevalidate:!0});if(typeof m=="boolean")return m}return!0}):[]}function ZN(t,e){return e2(t.map(n=>{let r=e.routes[n.route.id];if(!r)return[];let i=[r.module];return r.imports&&(i=i.concat(r.imports)),i}).flat(1))}function e2(t){return[...new Set(t)]}function t2(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function n2(t,e){let n=new Set;return new Set(e),t.reduce((r,i)=>{let o=JSON.stringify(t2(i));return n.has(o)||(n.add(o),r.push({key:o,link:i})),r},[])}function r2(t){let e=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function i2(){let t=g.useContext(mo);return fp(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function o2(){let t=g.useContext(bu);return fp(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var pp=g.createContext(void 0);pp.displayName="FrameworkContext";function Zw(){let t=g.useContext(pp);return fp(t,"You must render this element inside a <HydratedRouter> element"),t}function s2(t,e){let n=g.useContext(pp),[r,i]=g.useState(!1),[o,s]=g.useState(!1),{onFocus:l,onBlur:u,onMouseEnter:c,onMouseLeave:d,onTouchStart:p}=e,m=g.useRef(null);g.useEffect(()=>{if(t==="render"&&s(!0),t==="viewport"){let P=w=>{w.forEach(E=>{s(E.isIntersecting)})},N=new IntersectionObserver(P,{threshold:.5});return m.current&&N.observe(m.current),()=>{N.disconnect()}}},[t]),g.useEffect(()=>{if(r){let P=setTimeout(()=>{s(!0)},100);return()=>{clearTimeout(P)}}},[r]);let T=()=>{i(!0)},k=()=>{i(!1),s(!1)};return n?t!=="intent"?[o,m,{}]:[o,m,{onFocus:$o(l,T),onBlur:$o(u,k),onMouseEnter:$o(c,T),onMouseLeave:$o(d,k),onTouchStart:$o(p,T)}]:[!1,m,{}]}function $o(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function a2({page:t,...e}){let{router:n}=i2(),r=g.useMemo(()=>zw(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?g.createElement(u2,{page:t,matches:r,...e}):(console.warn(`Tried to prefetch ${t} but no routes matched.`),null)}function l2(t){let{manifest:e,routeModules:n}=Zw(),[r,i]=g.useState([]);return g.useEffect(()=>{let o=!1;return JN(t,e,n).then(s=>{o||i(s)}),()=>{o=!0}},[t,e,n]),r}function u2({page:t,matches:e,...n}){let r=oi(),{manifest:i,routeModules:o}=Zw(),{loaderData:s,matches:l}=o2(),u=g.useMemo(()=>by(t,e,l,i,r,"data"),[t,e,l,i,r]),c=g.useMemo(()=>by(t,e,l,i,r,"assets"),[t,e,l,i,r]),d=g.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let T=new Set,k=!1;if(e.forEach(N=>{var E;let w=i.routes[N.route.id];!w||!w.hasLoader||(!u.some(I=>I.route.id===N.route.id)&&N.route.id in s&&((E=o[N.route.id])!=null&&E.shouldRevalidate)||w.hasClientLoader?k=!0:T.add(N.route.id))}),T.size===0)return[];let P=r2(t);return k&&T.size>0&&P.searchParams.set("_routes",e.filter(N=>T.has(N.route.id)).map(N=>N.route.id).join(",")),[P.pathname+P.search]},[s,r,i,u,e,t,o]),p=g.useMemo(()=>ZN(c,i),[c,i]),m=l2(c);return g.createElement(g.Fragment,null,d.map(T=>g.createElement("link",{key:T,rel:"prefetch",as:"fetch",href:T,...n})),p.map(T=>g.createElement("link",{key:T,rel:"modulepreload",href:T,...n})),m.map(({key:T,link:k})=>g.createElement("link",{key:T,...k})))}function c2(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var e1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{e1&&(window.__reactRouterVersion="7.0.1")}catch{}function h2({basename:t,children:e,window:n}){let r=g.useRef();r.current==null&&(r.current=YP({window:n,v5Compat:!0}));let i=r.current,[o,s]=g.useState({action:i.action,location:i.location}),l=g.useCallback(u=>{g.startTransition(()=>s(u))},[s]);return g.useLayoutEffect(()=>i.listen(l),[i,l]),g.createElement(BN,{basename:t,children:e,location:o.location,navigationType:o.action,navigator:i})}var t1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,mp=g.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:i,reloadDocument:o,replace:s,state:l,target:u,to:c,preventScrollReset:d,viewTransition:p,...m},T){let{basename:k}=g.useContext(pn),P=typeof c=="string"&&t1.test(c),N,w=!1;if(typeof c=="string"&&P&&(N=c,e1))try{let C=new URL(window.location.href),R=c.startsWith("//")?new URL(C.protocol+c):new URL(c),A=wr(R.pathname,k);R.origin===C.origin&&A!=null?c=A+R.search+R.hash:w=!0}catch{$n(!1,`<Link to="${c}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let E=SN(c,{relative:i}),[I,O,j]=s2(r,m),M=p2(c,{replace:s,state:l,target:u,preventScrollReset:d,relative:i,viewTransition:p});function S(C){e&&e(C),C.defaultPrevented||M(C)}let v=g.createElement("a",{...m,...j,href:N||E,onClick:w||o?e:S,ref:c2(T,O),target:u,"data-discover":!P&&n==="render"?"true":void 0});return I&&!P?g.createElement(g.Fragment,null,v,g.createElement(a2,{page:E})):v});mp.displayName="Link";var gp=g.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:i=!1,style:o,to:s,viewTransition:l,children:u,...c},d){let p=Qs(s,{relative:c.relative}),m=oi(),T=g.useContext(bu),{navigator:k,basename:P}=g.useContext(pn),N=T!=null&&_2(p)&&l===!0,w=k.encodeLocation?k.encodeLocation(p).pathname:p.pathname,E=m.pathname,I=T&&T.navigation&&T.navigation.location?T.navigation.location.pathname:null;n||(E=E.toLowerCase(),I=I?I.toLowerCase():null,w=w.toLowerCase()),I&&P&&(I=wr(I,P)||I);const O=w!=="/"&&w.endsWith("/")?w.length-1:w.length;let j=E===w||!i&&E.startsWith(w)&&E.charAt(O)==="/",M=I!=null&&(I===w||!i&&I.startsWith(w)&&I.charAt(w.length)==="/"),S={isActive:j,isPending:M,isTransitioning:N},v=j?e:void 0,C;typeof r=="function"?C=r(S):C=[r,j?"active":null,M?"pending":null,N?"transitioning":null].filter(Boolean).join(" ");let R=typeof o=="function"?o(S):o;return g.createElement(mp,{...c,"aria-current":v,className:C,ref:d,style:R,to:s,viewTransition:l},typeof u=="function"?u(S):u)});gp.displayName="NavLink";var d2=g.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:i,state:o,method:s=rl,action:l,onSubmit:u,relative:c,preventScrollReset:d,viewTransition:p,...m},T)=>{let k=y2(),P=v2(l,{relative:c}),N=s.toLowerCase()==="get"?"get":"post",w=typeof l=="string"&&t1.test(l),E=I=>{if(u&&u(I),I.defaultPrevented)return;I.preventDefault();let O=I.nativeEvent.submitter,j=(O==null?void 0:O.getAttribute("formmethod"))||s;k(O||I.currentTarget,{fetcherKey:e,method:j,navigate:n,replace:i,state:o,relative:c,preventScrollReset:d,viewTransition:p})};return g.createElement("form",{ref:T,method:N,action:P,onSubmit:r?u:E,...m,"data-discover":!w&&t==="render"?"true":void 0})});d2.displayName="Form";function f2(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function n1(t){let e=g.useContext(mo);return Ce(e,f2(t)),e}function p2(t,{target:e,replace:n,state:r,preventScrollReset:i,relative:o,viewTransition:s}={}){let l=CN(),u=oi(),c=Qs(t,{relative:o});return g.useCallback(d=>{if(KN(d,e)){d.preventDefault();let p=n!==void 0?n:bs(u)===bs(c);l(t,{replace:p,state:r,preventScrollReset:i,relative:o,viewTransition:s})}},[u,l,c,n,r,e,t,i,o,s])}var m2=0,g2=()=>`__${String(++m2)}__`;function y2(){let{router:t}=n1("useSubmit"),{basename:e}=g.useContext(pn),n=LN();return g.useCallback(async(r,i={})=>{let{action:o,method:s,encType:l,formData:u,body:c}=QN(r,e);if(i.navigate===!1){let d=i.fetcherKey||g2();await t.fetch(d,n,i.action||o,{preventScrollReset:i.preventScrollReset,formData:u,body:c,formMethod:i.method||s,formEncType:i.encType||l,flushSync:i.flushSync})}else await t.navigate(i.action||o,{preventScrollReset:i.preventScrollReset,formData:u,body:c,formMethod:i.method||s,formEncType:i.encType||l,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,n])}function v2(t,{relative:e}={}){let{basename:n}=g.useContext(pn),r=g.useContext(Un);Ce(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),o={...Qs(t||".",{relative:e})},s=oi();if(t==null){o.search=s.search;let l=new URLSearchParams(o.search),u=l.getAll("index");if(u.some(d=>d==="")){l.delete("index"),u.filter(p=>p).forEach(p=>l.append("index",p));let d=l.toString();o.search=d?`?${d}`:""}}return(!t||t===".")&&i.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(o.pathname=o.pathname==="/"?n:An([n,o.pathname])),bs(o)}function _2(t,e={}){let n=g.useContext(Qw);Ce(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=n1("useViewTransitionState"),i=Qs(t,{relative:e.relative});if(!n.isTransitioning)return!1;let o=wr(n.currentLocation.pathname,r)||n.currentLocation.pathname,s=wr(n.nextLocation.pathname,r)||n.nextLocation.pathname;return ql(i.pathname,s)!=null||ql(i.pathname,o)!=null}new TextEncoder;/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var md=function(){return md=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},md.apply(this,arguments)};function E2(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}var Fi="",cs=null,ol=null,r1=null;function yp(){Fi="",cs!==null&&cs.disconnect(),ol!==null&&(window.clearTimeout(ol),ol=null)}function jy(t){var e=["BUTTON","INPUT","SELECT","TEXTAREA"],n=["A","AREA"];return e.includes(t.tagName)&&!t.hasAttribute("disabled")||n.includes(t.tagName)&&t.hasAttribute("href")}function Fy(){var t=null;if(Fi==="#")t=document.body;else{var e=Fi.replace("#","");t=document.getElementById(e),t===null&&Fi==="#top"&&(t=document.body)}if(t!==null){r1(t);var n=t.getAttribute("tabindex");return n===null&&!jy(t)&&t.setAttribute("tabindex",-1),t.focus({preventScroll:!0}),n===null&&!jy(t)&&(t.blur(),t.removeAttribute("tabindex")),yp(),!0}return!1}function w2(t){window.setTimeout(function(){Fy()===!1&&(cs===null&&(cs=new MutationObserver(Fy)),cs.observe(document,{attributes:!0,childList:!0,subtree:!0}),ol=window.setTimeout(function(){yp()},t||1e4))},0)}function i1(t){return qe.forwardRef(function(e,n){var r="";typeof e.to=="string"&&e.to.includes("#")?r="#"+e.to.split("#").slice(1).join("#"):typeof e.to=="object"&&typeof e.to.hash=="string"&&(r=e.to.hash);var i={};t===gp&&(i.isActive=function(l,u){return l&&l.isExact&&u.hash===r});function o(l){yp(),Fi=e.elementId?"#"+e.elementId:r,e.onClick&&e.onClick(l),Fi!==""&&!l.defaultPrevented&&l.button===0&&(!e.target||e.target==="_self")&&!(l.metaKey||l.altKey||l.ctrlKey||l.shiftKey)&&(r1=e.scroll||function(u){return e.smooth?u.scrollIntoView({behavior:"smooth"}):u.scrollIntoView()},w2(e.timeout))}var s=E2(e,["scroll","smooth","timeout","elementId"]);return qe.createElement(t,md({},i,s,{onClick:o,ref:n}),e.children)})}var ja=i1(mp);i1(gp);function T2(){const[t,e]=g.useState(!1),n=()=>{window.scrollY>50?e(!0):e(!1)};return g.useEffect(()=>(window.addEventListener("scroll",n),()=>{window.removeEventListener("scroll",n)}),[]),_.jsxs(Uc,{expand:"lg",className:`navbar-custom fixed-top ${t?"bg-light":"bg-transparent"}`,children:[_.jsx(Uc.Toggle,{"aria-controls":"navbarNav"}),_.jsx(Uc.Collapse,{id:"navbarNav",className:"justify-content-center",children:_.jsxs(TP,{className:"ml-auto",children:[_.jsx(ja,{to:"#about",className:"hash-link",children:"About"}),_.jsx(ja,{to:"#skills",className:"hash-link",children:" Skills"}),_.jsx(ja,{to:"#projects",className:"hash-link",children:"Projects"}),_.jsx(ja,{to:"#awards",className:"hash-link",children:"Awards"})]})})]})}function S2(t){const[e,n]=g.useState(""),[r,i]=g.useState(0);function o(){VP(r,e).then(()=>{t.refresh()}),t.onHide()}return g.useEffect(()=>{lp().then(s=>{i(s.id),n(s.text)})},[]),_.jsxs(Me,{...t,size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[_.jsx(Me.Header,{closeButton:!0,children:_.jsx(Me.Title,{id:"contained-modal-title-vcenter",children:"Edit About Me"})}),_.jsxs(Me.Body,{children:[_.jsx("h4",{children:"About Me"}),_.jsx(Oe.Group,{className:"mb-3",controlId:"exampleForm.ControlTextarea1",children:_.jsx(Oe.Control,{as:"textarea",rows:3,value:e,onChange:s=>n(s.target.value)})})]}),_.jsx(Me.Footer,{children:_.jsx(Pt,{onClick:o,children:"Update"})})]})}function C2(t){g.useState("");const[e,n]=g.useState(""),[r,i]=g.useState("");function o(){OP({image:e,name:r}).then(()=>{t.refresh()}),t.onHide()}return g.useEffect(()=>{},[]),_.jsxs(Me,{...t,size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[_.jsx(Me.Header,{closeButton:!0,children:_.jsx(Me.Title,{id:"contained-modal-title-vcenter",children:"Add new Skill"})}),_.jsxs(Me.Body,{children:[_.jsx("h4",{children:"Name"}),_.jsx(Oe.Group,{className:"mb-3",controlId:"exampleForm.ControlTextarea1",children:_.jsx(Oe.Control,{as:"textarea",rows:3,value:r,onChange:s=>i(s.target.value)})}),_.jsx("h4",{children:"Image url"}),_.jsx(Oe.Group,{className:"mb-3",controlId:"exampleForm.ControlTextarea1",children:_.jsx(Oe.Control,{as:"textarea",rows:3,value:e,onChange:s=>n(s.target.value)})})]}),_.jsx(Me.Footer,{children:_.jsx(Pt,{onClick:o,children:"Create"})})]})}function I2(t){const[e,n]=g.useState(""),[r,i]=g.useState(""),[o,s]=g.useState("");function l(){MP({description:r,name:o,link:e}).then(()=>{t.refresh()}),t.onHide()}return g.useEffect(()=>{},[]),_.jsxs(Me,{...t,size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[_.jsx(Me.Header,{closeButton:!0,children:_.jsx(Me.Title,{id:"contained-modal-title-vcenter",children:"Add new Skill"})}),_.jsxs(Me.Body,{children:[_.jsx("h4",{children:"Name"}),_.jsx(Oe.Group,{className:"mb-3",controlId:"exampleForm.ControlTextarea1",children:_.jsx(Oe.Control,{as:"textarea",rows:3,value:o,onChange:u=>s(u.target.value)})}),_.jsx("h4",{children:"Description"}),_.jsx(Oe.Group,{className:"mb-3",controlId:"exampleForm.ControlTextarea1",children:_.jsx(Oe.Control,{as:"textarea",rows:3,value:r,onChange:u=>i(u.target.value)})}),_.jsx("h4",{children:"Link"}),_.jsx(Oe.Group,{className:"mb-3",controlId:"exampleForm.ControlTextarea1",children:_.jsx(Oe.Control,{as:"textarea",rows:3,value:e,onChange:u=>n(u.target.value)})})]}),_.jsx(Me.Footer,{children:_.jsx(Pt,{onClick:l,children:"Create"})})]})}var o1={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},By=qe.createContext&&qe.createContext(o1),R2=["attr","size","title"];function x2(t,e){if(t==null)return{};var n=A2(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function A2(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Gl(){return Gl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Gl.apply(this,arguments)}function $y(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ql(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$y(Object(n),!0).forEach(function(r){k2(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$y(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function k2(t,e,n){return e=P2(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function P2(t){var e=N2(t,"string");return typeof e=="symbol"?e:e+""}function N2(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function s1(t){return t&&t.map((e,n)=>qe.createElement(e.tag,Ql({key:n},e.attr),s1(e.child)))}function D2(t){return e=>qe.createElement(V2,Gl({attr:Ql({},t.attr)},e),s1(t.child))}function V2(t){var e=n=>{var{attr:r,size:i,title:o}=t,s=x2(t,R2),l=i||n.size||"1em",u;return n.className&&(u=n.className),t.className&&(u=(u?u+" ":"")+t.className),qe.createElement("svg",Gl({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,s,{className:u,style:Ql(Ql({color:t.color||n.color},n.style),t.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),o&&qe.createElement("title",null,o),t.children)};return By!==void 0?qe.createElement(By.Consumer,null,n=>e(n)):e(o1)}function O2(t){return D2({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497.9 142.1l-46.1 46.1c-4.7 4.7-12.3 4.7-17 0l-111-111c-4.7-4.7-4.7-12.3 0-17l46.1-46.1c18.7-18.7 49.1-18.7 67.9 0l60.1 60.1c18.8 18.7 18.8 49.1 0 67.9zM284.2 99.8L21.6 362.4.4 483.9c-2.9 16.4 11.4 30.6 27.8 27.8l121.5-21.3 262.6-262.6c4.7-4.7 4.7-12.3 0-17l-111-111c-4.8-4.7-12.4-4.7-17.1 0zM124.1 339.9c-5.5-5.5-5.5-14.3 0-19.8l154-154c5.5-5.5 14.3-5.5 19.8 0s5.5 14.3 0 19.8l-154 154c-5.5 5.5-14.3 5.5-19.8 0zM88 424h48v36.3l-64.5 11.3-31.1-31.1L51.7 376H88v48z"},child:[]}]})(t)}function L2(t){const[e,n]=g.useState(""),[r,i]=g.useState("");function o(){jP({description:e,title:r}).then(()=>{t.refresh()}),t.onHide()}return g.useEffect(()=>{},[]),_.jsxs(Me,{...t,size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[_.jsx(Me.Header,{closeButton:!0,children:_.jsx(Me.Title,{id:"contained-modal-title-vcenter",children:"Add new Award"})}),_.jsxs(Me.Body,{children:[_.jsx("h4",{children:"Title"}),_.jsx(Oe.Group,{className:"mb-3",controlId:"exampleForm.ControlTextarea1",children:_.jsx(Oe.Control,{as:"textarea",rows:3,value:r,onChange:s=>i(s.target.value)})}),_.jsx("h4",{children:"Description"}),_.jsx(Oe.Group,{className:"mb-3",controlId:"exampleForm.ControlTextarea1",children:_.jsx(Oe.Control,{as:"textarea",rows:3,value:e,onChange:s=>n(s.target.value)})})]}),_.jsx(Me.Footer,{children:_.jsx(Pt,{onClick:o,children:"Create"})})]})}function M2(){const e=fu({apiKey:"AIzaSyCzBafJ3OEEfNtHM7kXIEpnedGlJ2bNo4I",authDomain:"personal-7f86b.firebaseapp.com",projectId:"personal-7f86b",storageBucket:"personal-7f86b.firebasestorage.app",messagingSenderId:"841997801423",appId:"1:841997801423:web:f849983b73acfdc6c424ba",measurementId:"G-7E35DS059C"}),n=Mf(e),r=bn(n,"Projects"),i=bn(n,"Awards"),[o,s]=g.useState(void 0),[l,u]=g.useState(void 0),[c,d]=g.useState(""),[p,m]=g.useState([]),[T,k]=g.useState(!1),[P,N]=g.useState(!1),[w,E]=g.useState(!1),[I,O]=g.useState(!1);async function j(){try{const D=(await eo(r)).docs.map(x=>({id:x.id,...x.data()}));return console.log("Projects:",D),D}catch(A){console.error("Error fetching projects:",A)}}async function M(){try{const D=(await eo(i)).docs.map(x=>({id:x.id,...x.data()}));return console.log("Awards:",D),D}catch(A){console.error("Error fetching awards:",A)}}function S(){j().then(A=>s(A)),M().then(A=>u(A)),lp().then(A=>d(A.text)),Uw().then(A=>m(A))}function v(A){window.confirm(`Are you sure you want to delete "${A.name}"?`)&&LP(A.id).then(S())}function C(A){window.confirm(`Are you sure you want to delete "${A.name}"?`)&&bP(A.id).then(S())}function R(A){window.confirm(`Are you sure you want to delete "${A.name}"?`)&&FP(A.id).then(S())}return g.useEffect(()=>{S()},[]),_.jsx(_.Fragment,{children:_.jsxs("div",{className:"header",children:[_.jsx("div",{className:"inner-header flex"}),_.jsxs("div",{className:"inner-header-text",children:[_.jsx("h1",{children:"Sarah Rubenstein"}),_.jsx("h2",{children:"Software Engineer"})]}),_.jsx("div",{children:_.jsxs("svg",{className:"waves",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",viewBox:"0 24 150 28",preserveAspectRatio:"none",shapeRendering:"auto",children:[_.jsx("defs",{children:_.jsx("path",{id:"gentle-wave",d:"M-160 44c30 0 58-18 88-18s 58 18 88 18 58-18 88-18 58 18 88 18 v44h-352z"})}),_.jsxs("g",{className:"parallax",children:[_.jsx("use",{xlinkHref:"#gentle-wave",x:"48",y:"0",fill:"rgba(255,255,255,0.7"}),_.jsx("use",{xlinkHref:"#gentle-wave",x:"48",y:"3",fill:"rgba(255,255,255,0.5)"}),_.jsx("use",{xlinkHref:"#gentle-wave",x:"48",y:"5",fill:"rgba(255,255,255,0.3)"}),_.jsx("use",{xlinkHref:"#gentle-wave",x:"48",y:"7",fill:"#fff"})]})]})}),_.jsxs("div",{className:"whiteBackground",children:[_.jsxs("div",{className:"content",children:[_.jsxs("div",{style:{display:"inline-flex",alignItems:"center",paddingTop:20},children:[_.jsx("h2",{children:"About Me"}),_.jsx(O2,{style:{marginLeft:10,marginBottom:-10},onClick:()=>{k(!0)}})]}),_.jsx("p",{children:c}),_.jsx("h2",{children:"Skills"}),_.jsx(Pt,{onClick:()=>N(!0),children:"Add skill"}),_.jsx("br",{}),p.map(A=>_.jsx("img",{src:A.image,alt:A.name,title:A.name,onClick:()=>v(A),style:{width:120}})),_.jsx("h2",{children:"Projects"}),_.jsx(Pt,{onClick:()=>E(!0),children:"Add Project"}),_.jsx(Kr,{children:_.jsx(qr,{children:o?o.map(A=>_.jsx(dr,{xs:12,md:6,children:_.jsx(Be,{style:{width:"20rem",margin:"10px",boxShadow:"0 8px 12px rgba(0, 0, 0, 0.1)",border:"none",borderRadius:"20px"},children:_.jsxs(Be.Body,{children:[_.jsx(Be.Title,{children:A.name}),_.jsx(Be.Text,{children:A.description}),_.jsx(Pt,{onClick:()=>window.open(A.link,"_blank"),children:"Go to project"}),_.jsx(Pt,{className:"btn btn-danger",style:{marginLeft:10},onClick:()=>C(A),children:"Delete"})]})})},A.id)):_.jsx(_.Fragment,{})})}),_.jsx("h2",{children:"Awards/Achievements"}),_.jsx(Pt,{onClick:()=>O(!0),children:"Add Award"}),_.jsx(Kr,{children:_.jsx(qr,{children:l?l.map(A=>_.jsx(dr,{xs:12,md:12,lg:12,children:_.jsx(Be,{style:{margin:"10px",boxShadow:"0 8px 12px rgba(0, 0, 0, 0.1)",border:"none",borderRadius:"20px"},children:_.jsxs(Be.Body,{children:[_.jsx(Be.Title,{children:A.title}),_.jsx(Be.Text,{children:A.description}),_.jsx(Pt,{className:"btn btn-danger",style:{marginLeft:10},onClick:()=>R(A),children:"Delete"})]})})},A.id)):_.jsx(_.Fragment,{})})})]}),_.jsx(S2,{show:T,onHide:()=>k(!1),refresh:S}),_.jsx(C2,{show:P,onHide:()=>N(!1),refresh:S}),_.jsx(I2,{show:w,onHide:()=>E(!1),refresh:S}),_.jsx(L2,{show:I,onHide:()=>O(!1),refresh:S}),_.jsx("footer",{style:{backgroundColor:"#302b2d",color:"#fff",padding:"1rem 0",marginTop:50},children:_.jsx(Kr,{children:_.jsx(qr,{children:_.jsx(dr,{className:"text-center",children:_.jsx("p",{style:{margin:"0.5rem 0"},children:"© 2024 Sarah Rubenstein"})})})})})]})]})})}function b2(){const[t,e]=g.useState(""),[n,r]=g.useState(!1),[i,o]=g.useState("");function s(){t==i?r(!0):alert("Incorrect password")}return g.useEffect(()=>{BP().then(l=>{o(l.password)})},[]),_.jsx("div",{children:n?_.jsx(M2,{}):_.jsx("div",{style:{width:"100%"},children:_.jsx("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"},children:_.jsx(Be,{style:{width:"20rem",margin:"auto"},className:"shadow",children:_.jsxs(Be.Body,{children:[_.jsx(Be.Title,{className:"text-center mb-4",children:"Enter Your Password"}),_.jsxs(Oe,{children:[_.jsxs(Oe.Group,{controlId:"formPassword",className:"mb-3",children:[_.jsx(Oe.Label,{children:"Password"}),_.jsx(Oe.Control,{type:"password",placeholder:"Enter password",onChange:l=>e(l.target.value)})]}),_.jsx(Pt,{variant:"primary",type:"submit",className:"w-100",onClick:s,children:"Submit"})]})]})})})})})}function j2(){const e=fu({apiKey:"AIzaSyCzBafJ3OEEfNtHM7kXIEpnedGlJ2bNo4I",authDomain:"personal-7f86b.firebaseapp.com",projectId:"personal-7f86b",storageBucket:"personal-7f86b.firebasestorage.app",messagingSenderId:"841997801423",appId:"1:841997801423:web:f849983b73acfdc6c424ba",measurementId:"G-7E35DS059C"}),n=Mf(e),r=bn(n,"Projects"),i=bn(n,"Awards"),[o,s]=g.useState(void 0),[l,u]=g.useState(void 0),[c,d]=g.useState(""),[p,m]=g.useState([]);async function T(){try{const N=(await eo(r)).docs.map(w=>({id:w.id,...w.data()}));return console.log("Projects:",N),N}catch(P){console.error("Error fetching projects:",P)}}async function k(){try{const N=(await eo(i)).docs.map(w=>({id:w.id,...w.data()}));return console.log("Awards:",N),N}catch(P){console.error("Error fetching awards:",P)}}return g.useEffect(()=>{T().then(P=>s(P)),k().then(P=>u(P)),lp().then(P=>d(P.text)),Uw().then(P=>m(P))},[]),_.jsx(_.Fragment,{children:_.jsxs("div",{className:"header",children:[_.jsx(T2,{}),_.jsx("div",{className:"inner-header flex"}),_.jsxs("div",{className:"inner-header-text",children:[_.jsx("h1",{children:"Sarah Rubenstein"}),_.jsx("h2",{children:"Software Engineer"})]}),_.jsx("div",{children:_.jsxs("svg",{className:"waves",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",viewBox:"0 24 150 28",preserveAspectRatio:"none",shapeRendering:"auto",children:[_.jsx("defs",{children:_.jsx("path",{id:"gentle-wave",d:"M-160 44c30 0 58-18 88-18s 58 18 88 18 58-18 88-18 58 18 88 18 v44h-352z"})}),_.jsxs("g",{className:"parallax",children:[_.jsx("use",{xlinkHref:"#gentle-wave",x:"48",y:"0",fill:"rgba(255,255,255,0.7"}),_.jsx("use",{xlinkHref:"#gentle-wave",x:"48",y:"3",fill:"rgba(255,255,255,0.5)"}),_.jsx("use",{xlinkHref:"#gentle-wave",x:"48",y:"5",fill:"rgba(255,255,255,0.3)"}),_.jsx("use",{xlinkHref:"#gentle-wave",x:"48",y:"7",fill:"#fff"})]})]})}),_.jsxs("div",{className:"whiteBackground",children:[_.jsxs("div",{className:"content",children:[_.jsx("h2",{style:{paddingTop:20},id:"about",children:"About Me"}),_.jsx("p",{children:c}),_.jsx("h2",{id:"skills",children:"Skills"}),p.map(P=>_.jsx("img",{src:P.image,alt:P.name,title:P.name,style:{width:120}})),_.jsx("h2",{id:"projects",children:"Projects"}),_.jsx(Kr,{children:_.jsx(qr,{children:o?o.map(P=>_.jsx(dr,{xs:12,md:6,children:_.jsx(Be,{style:{width:"20rem",margin:"10px",boxShadow:"0 8px 12px rgba(0, 0, 0, 0.1)",border:"none",borderRadius:"20px"},children:_.jsxs(Be.Body,{children:[_.jsx(Be.Title,{children:P.name}),_.jsx(Be.Text,{children:P.description}),_.jsx(Pt,{onClick:()=>window.open(P.link,"_blank"),children:"Go to project"})]})})},P.id)):_.jsx(_.Fragment,{})})}),_.jsx("h2",{id:"awards",children:"Awards/Achievements"}),_.jsx(Kr,{children:_.jsx(qr,{children:l?l.map(P=>_.jsx(dr,{xs:12,md:12,lg:12,children:_.jsx(Be,{style:{margin:"10px",boxShadow:"0 8px 12px rgba(0, 0, 0, 0.1)",border:"none",borderRadius:"20px"},children:_.jsxs(Be.Body,{children:[_.jsx(Be.Title,{children:P.title}),_.jsx(Be.Text,{children:P.description})]})})},P.id)):_.jsx(_.Fragment,{})})})]}),_.jsx("footer",{style:{backgroundColor:"#302b2d",color:"#fff",padding:"1rem 0",marginTop:50},children:_.jsx(Kr,{children:_.jsx(qr,{children:_.jsx(dr,{className:"text-center",children:_.jsx("p",{style:{margin:"0.5rem 0"},children:"© 2024 Sarah Rubenstein"})})})})})]})]})})}var F2={};function B2(){return _.jsx(h2,{basename:F2.PUBLIC_URL,children:_.jsxs($N,{children:[_.jsx(fd,{path:"/",element:_.jsx(j2,{})}),_.jsx(fd,{path:"/edit",element:_.jsx(b2,{})})]})})}t0(document.getElementById("root")).render(_.jsx(g.StrictMode,{children:_.jsx(B2,{})}));
